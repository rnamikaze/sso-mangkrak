import{r as t,b as m,j as s,S as K}from"./app-B5JuA1cy.js";import N from"./TopHead-GbS-O3sO.js";import O from"./KinerjaHistory-mc8kG8po.js";import{s as r,a as S,b as q}from"./DateTools-DazUeWyn.js";import{F as n}from"./flex-D7MDlKee.js";import{T as G}from"./text-vcTeec7L.js";import"./select-CfXo8taG.js";import"./use-form-control-Dav_meEr.js";import"./use-merge-refs-BMyyYqY7.js";import"./attr-sHTFgF0E.js";import"./call-all-DDzecCnU.js";import"./HistoryPerUser-DPfB876o.js";import"./HistoryTaskItem-BtH9L_4B.js";import"./index.es-C_U1UPVr.js";import"./HistoryTaskChildItem-Bq5Bhb8e.js";import"./input-D2cIcRAO.js";import"./alert-dialog-BDOQeLst.js";import"./modal-overlay-DYrXy5sA.js";import"./typeof-BVQB8lKn.js";import"./button-DOH4T2Pi.js";import"./badge-D3-7PXND.js";import"./use-disclosure-DLT9TnT-.js";import"./TaskChildEmpty-CNMSlrLA.js";import"./index-CevUe-Si.js";import"./box-DNXXPAzx.js";import"./circular-progress-CHKMyF6u.js";import"./use-boolean-zvpXrp5i.js";import"./TaskItemKosong-DSTU6oaA.js";import"./TotalPercentage-C0l8bIiu.js";const jt=({mainTheme:l,userActiveLevel:k,activeBio:L,periodeList:Q})=>{const[b,w]=t.useState([]),[c,j]=t.useState(0),[y,F]=t.useState([]),[P,v]=t.useState([]),[a,f]=t.useState(null),[C,D]=t.useState([]),[A,E]=t.useState([]),[d,h]=t.useState(0),[I,T]=t.useState([]),[R,U]=t.useState([]);t.useState(""),t.useState("");const[x,p]=t.useState(null),[J,u]=t.useState(!1),[g,z]=t.useState(1),M=e=>{const i=parseInt(e.target.value);h(i)},H=e=>{const i=parseInt(e.target.value);j(i)},W=e=>{p(null),z(e)},B=e=>{f(S(new Date(r(e.target.value)[0])))};return t.useEffect(()=>{if(parseInt(d)!==0){const e=r(a.value)[0],i=r(a.value)[1];u(!0),m.post("/sik/get-task-by-unit-periode",{id:d,startDate:e,endDate:i}).then(function(o){T(o.data.listAssigne),U(o.data.userTask),p(!1),u(!1)}).catch(function(o){})}},[d,a]),t.useEffect(()=>{if(parseInt(c)!==0){const e=r(a.value)[0],i=r(a.value)[1];u(!0),m.post("/sik/get-task-by-fakultas-periode",{id:c,startDate:e,endDate:i}).then(function(o){F(o.data.assigneList),v(o.data.userTask),p(!1),u(!1)}).catch(function(o){})}},[c,a]),t.useEffect(()=>{m.post("/sik/get-unit-list",{id:0}).then(function(e){E(e.data.unitList),w(e.data.fakultasList)}).catch(function(e){}),f(S()),D(q("12/2024"))},[]),s.jsxs(s.Fragment,{children:[s.jsxs(n,{width:"100%",bg:l.boxBg,direction:["row","row","row","column"],borderRadius:"6px",overflow:"hidden",children:[s.jsx(n,{width:"100%",bg:"green.300",px:3,py:1,fontSize:"18px",color:"white",fontWeight:"bold",textTransform:"uppercase",display:["none","none","none","flex"],children:"Semua Unit"}),s.jsx(N,{selectedJenisPegawai:g,setSelectedJenisPegawai:W,axiosLoad:J,selectedUnit:d,setSelectedUnit:h,unitList:A,fakultsList:b,selectedFakultas:c,mainTheme:l,handleFakultasChange:H,handleUnitChange:M,periodeList:C,handlePeriodeChange:B,currentPeriod:a})]}),s.jsx(n,{width:"100%",bg:l.text,px:2,color:"white",fontWeight:"bold",boxShadow:"base",borderRadius:"6px",mt:"20px",mb:"10px",children:"Semua Task"}),x===null?s.jsx(n,{height:"150px",width:"100%",justifyContent:"center",alignItems:"center",color:"gray.600",children:"Nothing to see..."}):x?s.jsxs(n,{height:"200px",alignItems:"center",width:"100%",justifyContent:"center",direction:"column",children:[s.jsx(G,{size:"18px",mb:3,color:"gray.600",children:"Memuat..."}),s.jsx(K,{thickness:"4px",speed:"0.35s",emptyColor:"gray.200",color:"gray.600",size:"md"})]}):s.jsx(O,{listAssigne:g===1?I:y,historyList:g===1?R:P,userActiveLevel:k,activeBio:L,mainTheme:l})]})};export{jt as default};
