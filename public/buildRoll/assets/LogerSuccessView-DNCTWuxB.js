import{r as s,j as e}from"./app-B5JuA1cy.js";import{f as E,d as M,e as V}from"./index-CevUe-Si.js";import{F as S}from"./index.es-C_U1UPVr.js";/* empty css                          */import{p as R}from"./StringMnp-U2UoNZXH.js";import{F as t}from"./flex-D7MDlKee.js";import{F as j}from"./use-form-control-Dav_meEr.js";import{F as b}from"./form-label-CH8i2u-t.js";import{I as O}from"./input-D2cIcRAO.js";import{S as _}from"./select-CfXo8taG.js";import{B as C}from"./button-DOH4T2Pi.js";import{S as U}from"./switch-BUDMBC8R.js";import"./use-merge-refs-BMyyYqY7.js";import"./attr-sHTFgF0E.js";import"./call-all-DDzecCnU.js";const r=["5%","7%","20%","10%","28%","12%","13%"],ie=({userTheme:i,callInfoBox:f})=>{const[a,g]=s.useState([]),[v,L]=s.useState(""),[I,w]=s.useState(1),[c,P]=s.useState(1),[x,u]=s.useState(!1),[p,D]=s.useState(!0),[y,h]=s.useState(!0),[d,m]=s.useState(0),W=()=>{c<=4&&(D(o=>!o),h(o=>!o),m(0))},z=(o=!1)=>{o?d>0&&m(n=>n-=1):d<a.length-1&&m(n=>n+=1)},k=o=>{const n=o.target.value;L(n)},B=o=>{const n=parseInt(o.target.value);n>4&&(p===!1&&D(!0),y===!1&&h(!0)),P(n)},N=o=>{const n=parseInt(o.target.value);w(n===0?!1:n===1?!0:null)},A=()=>{u(!0),g([]),m(0),h(!1),axios.post("/dev/json/sla",{token:v,sort:I,limit:c}).then(function(o){setTimeout(()=>{o.data.success?(g(o.data.loger),p&&h(!0),f("Success",o.data.reason,"success")):(g([]),f("Failed",o.data.reason,"warning")),u(!1)},2e3)}).catch(function(o){f(o.name,o.code+", See browser log","error"),u(!1)})};return s.useEffect(()=>{},[]),e.jsxs(t,{mt:3,direction:"column",children:[e.jsxs(t,{mb:3,width:"100%",direction:["column","column","row","row"],justifyContent:"space-between",children:[e.jsxs(t,{width:["100%","100%","max-content","max-content"],bg:i.bg.secondary,borderRadius:"16px",px:2,py:2,border:"2px",borderColor:i.border.primary,alignItems:"flex-end",direction:["column","column","row","row"],children:[e.jsxs(j,{width:["100%","100%","200px","200px"],mr:[0,0,2,2],children:[e.jsx(b,{mb:0,fontSize:"15px",fontWeight:"bold",children:"Token"}),e.jsx(O,{onChange:k,value:v,type:"text",size:"sm",border:"1px",borderColor:i.border.primary,borderRadius:"6px"})]}),e.jsxs(j,{mr:[0,0,2,2],width:["100%","100%","100px","100px"],children:[e.jsx(b,{mb:0,fontSize:"15px",fontWeight:"bold",children:"Sort"}),e.jsxs(_,{size:"sm",border:"1px",borderColor:i.border.primary,borderRadius:"6px",onChange:N,defaultValue:I,children:[e.jsx("option",{value:"1",children:"Latest"}),e.jsx("option",{value:"0",children:"Oldest"})]})]}),e.jsxs(j,{width:["100%","100%","100px","100px"],children:[e.jsx(b,{mb:0,fontSize:"15px",fontWeight:"bold",children:"Limit"}),e.jsxs(_,{size:"sm",border:"1px",borderColor:i.border.primary,borderRadius:"6px",onChange:B,defaultValue:c,children:[e.jsx("option",{value:"1",children:25*1}),e.jsx("option",{value:"2",children:25*2}),e.jsx("option",{value:"3",children:25*3}),e.jsx("option",{value:"4",children:25*4}),e.jsx("option",{value:"5",children:25*5}),e.jsx("option",{value:"6",children:25*6}),e.jsx("option",{value:"7",children:25*7}),e.jsx("option",{value:"8",children:25*8}),e.jsx("option",{value:"9",children:25*9}),e.jsx("option",{value:"10",children:25*10}),e.jsx("option",{value:"11",children:25*11}),e.jsx("option",{value:"12",children:25*12})]})]}),e.jsx(C,{ml:2,mt:[3,3,0,0],colorScheme:i.buttonScheme.primary,size:"sm",onClick:A,width:["100%","100%","55px","55px"],isDisabled:x,children:x?e.jsx(S,{spin:!0,icon:E}):"Show"})]}),e.jsxs(t,{width:["100%","100%","max-content","max-content"],bg:i.bg.secondary,borderRadius:"16px",px:3,py:3,border:"2px",borderColor:i.border.primary,alignItems:"center",justifyContent:"space-between",direction:"row",boxShadow:"base",height:"max-content",alignSelf:"flex-end",children:[e.jsxs(j,{display:"flex",alignItems:"center",width:"max-content",border:"1px",borderColor:i.border.primary,px:2,borderRadius:"8px",children:[e.jsx(b,{position:"relative",top:"3px",color:i.text.primary,htmlFor:"email-alerts",children:"Per Day"}),e.jsx(U,{isChecked:p,onChange:W,colorScheme:i.buttonScheme.primary,id:"email-alerts",isDisabled:c>4})]}),e.jsxs(t,{opacity:y?1:0,transition:"500ms ease-out",transitionDelay:"500ms",width:y?"165px":"0px",overflow:"hidden",justifyContent:"flex-end",children:[e.jsx(C,{colorScheme:i.buttonScheme.primary,size:"sm",mr:2,borderRadius:"8px",isDisabled:d===0,onClick:()=>{z(!0)},children:e.jsx(S,{icon:M})}),e.jsxs(t,{mr:2,justifyContent:"center",alignItems:"center",fontWeight:"bold",className:"ubuntu-mono-bold",children:[R(d,4,!0),"/",R(a.length,4)]}),e.jsx(C,{colorScheme:i.buttonScheme.primary,size:"sm",borderRadius:"8px",isDisabled:d===a.length-1||a.length<1,onClick:()=>{z()},children:e.jsx(S,{icon:V})})]})]})]}),e.jsxs(t,{direction:"column",width:"100%",border:"2px",borderColor:i.border.primary,borderRadius:"16px",overflowY:"hidden",children:[e.jsxs(t,{width:"100%",borderBottom:"2px",borderColor:i.border.primary,fontSize:"13px",fontWeight:"bold",display:["none","none","flex","flex"],children:[e.jsx(t,{px:2,py:2,width:r[0],children:"No"}),e.jsx(t,{px:2,py:2,width:r[1],children:"ID"}),e.jsx(t,{px:2,py:2,width:r[2],children:"Action"}),e.jsx(t,{px:2,py:2,width:r[3],children:"IP"}),e.jsx(t,{px:2,py:2,width:r[4],children:"UA"}),e.jsx(t,{px:2,py:2,width:r[5],children:"Device/Browser"}),e.jsx(t,{px:2,py:2,width:r[6],children:"Timestamp"})]}),a.length<1||x?e.jsx(t,{width:"100%",fontSize:"12px",children:x?e.jsx(t,{width:"100%",justifyContent:"center",py:3,children:e.jsx("div",{id:"dash-small-loader"})}):e.jsx(t,{px:2,bg:i.border.primary,width:"100%",fontWeight:"bold",fontSize:"13px",justifyContent:"center",pt:2,pb:1,children:"No Data"})}):e.jsx(e.Fragment,{children:p?e.jsxs(e.Fragment,{children:[e.jsx(t,{width:"100%",fontSize:"12px",children:e.jsx(t,{px:2,bg:i.border.primary,width:"100%",fontWeight:"bold",children:a[d].date_id})}),a[d].data.map((o,n)=>e.jsxs(t,{width:"100%",fontSize:"13px",borderBottom:"1px",borderColor:i.border.primary,direction:["column","column","row","row"],children:[e.jsx(t,{alignItems:"center",px:2,py:1,width:["100%","100%",r[0],r[0]],children:n+1}),e.jsx(t,{fontWeight:"bold",px:2,py:1,width:["100%","100%",r[1],r[1]],alignItems:"center",children:o.master_id}),e.jsx(t,{alignItems:"center",px:2,py:1,width:["100%","100%",r[2],r[2]],children:o.action}),e.jsx(t,{alignItems:"center",px:2,py:1,width:["100%","100%",r[3],r[3]],children:o.ip_log}),e.jsx(t,{alignItems:"center",px:2,py:1,width:["100%","100%",r[4],r[4]],children:o.user_agent}),e.jsxs(t,{alignItems:"center",px:2,py:1,width:["100%","100%",r[5],r[5]],justifyContent:"center",children:[o.device_name,"/",o.browser_name]}),e.jsx(t,{alignItems:"center",px:2,py:1,width:["100%","100%",r[6],r[6]],justifyContent:"center",children:o.fomated_date})]},n))]}):e.jsx(e.Fragment,{children:a.map((o,n)=>e.jsxs(e.Fragment,{children:[e.jsx(t,{width:"100%",fontSize:"12px",children:e.jsx(t,{px:2,bg:i.border.primary,width:"100%",fontWeight:"bold",children:o.date_id})},n),o.data.map((l,F)=>e.jsxs(t,{width:"100%",fontSize:"13px",borderBottom:"1px",borderColor:i.border.primary,direction:["column","column","row","row"],children:[e.jsx(t,{alignItems:"center",px:2,py:1,width:["100%","100%",r[0],r[0]],children:F+1}),e.jsx(t,{fontWeight:"bold",px:2,py:1,width:["100%","100%",r[1],r[1]],alignItems:"center",children:l.master_id}),e.jsx(t,{alignItems:"center",px:2,py:1,width:["100%","100%",r[2],r[2]],children:l.action}),e.jsx(t,{alignItems:"center",px:2,py:1,width:["100%","100%",r[3],r[3]],children:l.ip_log}),e.jsx(t,{alignItems:"center",px:2,py:1,width:["100%","100%",r[4],r[4]],children:l.user_agent}),e.jsxs(t,{alignItems:"center",px:2,py:1,width:["100%","100%",r[5],r[5]],justifyContent:"center",children:[l.device_name,"/",l.browser_name]}),e.jsx(t,{alignItems:"center",px:2,py:1,width:["100%","100%",r[6],r[6]],justifyContent:"center",children:l.fomated_date})]},F))]}))})})]})]})};export{ie as default};
