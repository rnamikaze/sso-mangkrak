import{r as u,j as e}from"./app-B5JuA1cy.js";import{n as j}from"./index-CevUe-Si.js";import{F as y}from"./index.es-C_U1UPVr.js";import{F as i}from"./flex-D7MDlKee.js";import{B as k}from"./box-DNXXPAzx.js";import{I as _}from"./input-D2cIcRAO.js";import{S as I}from"./select-CfXo8taG.js";import"./use-form-control-Dav_meEr.js";import"./use-merge-refs-BMyyYqY7.js";import"./attr-sHTFgF0E.js";import"./call-all-DDzecCnU.js";function x(){const n=new Date,g=n.getFullYear();let o=n.getMonth()+1,r=n.getDate();return o<10&&(o="0"+o),r<10&&(r="0"+r),g+"-"+o+"-"+r}const J=({mainTheme:n,task:g,saveData:o,setShowEmptyTask:r,addNewTask:h,listAssigne:f,userActiveLevel:d})=>{const[t,l]=u.useState({taskId:0,title:"",assigned_biodata_id:"0",assigner_level:d,assigne_name:"",userId:0,progress:1,progress_percentage:0,comment:"",start_date:"",realize_date:"",due_date:x(),active:!0,sub_task_list_id:[],childTask:[]});u.useState({childTaskId:0,title:"",userId:0,progress:1,progress_percentage:0,comment:"",start_date:"",realize_date:"",active:!1});const b=()=>{h(t),l({taskId:0,title:"",assigned_biodata_id:"0",assigner_level:d,assigne_name:"",userId:0,progress:1,progress_percentage:0,comment:"",start_date:"",realize_date:"",due_date:x(),active:!0,sub_task_list_id:[],childTask:[]})};function p(a){const m=a.target.id;let c=a.target.value;if(m==="assigned_biodata_id"){const s=JSON.parse(c);l(w=>({...w,assigned_biodata_id:s[0],assigne_name:s[1]}))}else l(s=>({...s,[m]:c}))}return u.useEffect(()=>{l(a=>({...a,assigner_level:d}))},[d]),e.jsxs(i,{bg:"white",px:3,py:2,width:"100%",transition:"250ms ease-out",direction:["column","column","column","row"],children:[e.jsxs(i,{alignItems:"center",width:["100%","100%","100%","7%"],maxWidth:["100%","100%","100%","7%"],flexGrow:1,mb:2,children:["  ",e.jsx(k,{position:"relative",left:"-8px",as:"button",type:"submit",color:"white",width:"40px",borderRadius:[0,0,0,"6px"],height:"100%",fontSize:"17px",bg:"blue.400",cursor:t.title.length<1||t.assigned_biodata_id==="0"?"not-allowed":"pointer",onClick:t.title.length<1||t.assigned_biodata_id==="0"?null:b,opacity:t.title.length<1||t.assigned_biodata_id==="0"?.4:1,children:e.jsx(y,{icon:j})})]}),e.jsx(i,{width:["100%","100%","100%","30%"],maxWidth:["100%","100%","100%","30%"],pr:2,flexGrow:1,mb:2,children:e.jsx(_,{id:"title",borderRadius:"6px",size:"sm",placeholder:"Judul",type:"text",minLength:5,value:t.title,onChange:p})}),e.jsx(i,{width:["100%","100%","100%","30%"],maxWidth:["100%","100%","100%","30%"],pr:2,flexGrow:1,mb:2,children:e.jsxs(I,{size:"sm",borderRadius:"6px",id:"assigned_biodata_id",onChange:p,children:[e.jsx("option",{value:JSON.stringify(["0","null"]),selected:t.assigned_biodata_id==="0",children:"Pilih"}),f.map((a,m)=>{const c=[a.id,a.fullname],s=JSON.stringify(c);return e.jsx("option",{value:s,children:a.fullname},m)})]})}),e.jsx(i,{width:["100%","100%","100%","20%"],maxWidth:["100%","100%","100%","20%"],pr:2,flexGrow:1,mb:2,children:e.jsx(_,{id:"comment",size:"sm",borderRadius:[0,0,0,"6px"],value:t.comment,onChange:p,type:"text",color:"gray.600"})}),e.jsx(i,{alignItems:"center",width:["100%","100%","100%","13%"],maxWidth:["100%","100%","100%","13%"],flexGrow:1,mb:2,children:"-"})]})};export{J as default};
