import{r as i,j as e,Y as Ae,y as p}from"./app-B5JuA1cy.js";import He from"./Sidebar-DG-uPDIB.js";/* empty css                  */import{e as Pe,N as Me,O as A,P as L,Q as f,R as g,S as W,T as _}from"./index-CevUe-Si.js";import{F as K}from"./index.es-C_U1UPVr.js";import De from"./MainRender-B55UFls2.js";/* empty css              *//* empty css                     */import{u as Te}from"./use-toast-Dq5h5LEc.js";import{F as o}from"./flex-D7MDlKee.js";import{I as k}from"./image-DpVgwKji.js";import{T as v}from"./text-vcTeec7L.js";import{u as ze}from"./use-boolean-zvpXrp5i.js";import"./SidebarItem-4el6DaC1.js";import"./box-DNXXPAzx.js";import"./index-DjOUsMDD.js";import"./moment-C5S46NFB.js";import"./Dashboard-BMl04LtL.js";/* empty css                          */import"./heading-C_DZVkp8.js";import"./thead-DBORUERS.js";import"./tr-D1Fo9UXo.js";import"./td-XgrbqfRX.js";import"./DataPegawai-E_8YI5qr.js";import"./SelectInput-CMOKgOnN.js";import"./use-form-control-Dav_meEr.js";import"./use-merge-refs-BMyyYqY7.js";import"./attr-sHTFgF0E.js";import"./call-all-DDzecCnU.js";import"./form-label-CH8i2u-t.js";import"./select-CfXo8taG.js";import"./SelectInputNamco-CxGC8RM7.js";import"./cubic-DRPgKoYJ.js";import"./useCUstomToast-Bxwf9b_o.js";import"./module-DQ3nWM1S.js";import"./button-DOH4T2Pi.js";import"./debounce-BMHnXJC_.js";import"./use-disclosure-DLT9TnT-.js";import"./modal-overlay-DYrXy5sA.js";import"./typeof-BVQB8lKn.js";import"./modal-close-button-BpMffbbq.js";import"./tab-panels-nhJL69sS.js";import"./children-BZqQFmTZ.js";import"./input-group-D-iw9J4z.js";import"./input-D2cIcRAO.js";import"./input-addon-DG9GhzSD.js";import"./KinerjaMain-DqqMNzp-.js";import"./KinerjaTable-FgwhxmjK.js";import"./TaskEmpty-FaNyDcKv.js";import"./ActiveUserTask-X2Nl5Oiu.js";import"./TaskItem-CdIDey3V.js";import"./TaskChildItem-OhOmm3P2.js";import"./alert-dialog-BDOQeLst.js";import"./badge-D3-7PXND.js";import"./TaskChildEmpty-CNMSlrLA.js";import"./AssignerTaskSymbol-SMVXA7QB.js";import"./circular-progress-CHKMyF6u.js";import"./TaskItemKosong-DSTU6oaA.js";import"./AssignerColorInfo-By40bkMO.js";import"./OtherUserTask-BXEUkKv6.js";import"./HistoryPerUser-DPfB876o.js";import"./HistoryTaskItem-BtH9L_4B.js";import"./HistoryTaskChildItem-Bq5Bhb8e.js";import"./TotalPercentage-C0l8bIiu.js";import"./ScoutModeMain-BRxC2n0m.js";import"./TopHead-GbS-O3sO.js";import"./KinerjaHistory-mc8kG8po.js";import"./DateTools-DazUeWyn.js";import"./DemoAdjustDate-UgUfmuM3.js";import"./KpiMain-D_LRv-6W.js";import"./GlobalPeriode-Dy0hIe1i.js";import"./table-caption-BOgZKXgd.js";import"./tfooter-BSKlO-vl.js";import"./card-body-DNHNA10L.js";import"./SpecialAdminMain-BNCCYVXr.js";import"./BaseNominalSetting-CRrSUFsY.js";import"./UniversalLoading-CR6i-cRP.js";import"./KpiHomeTable-DaX--o5M.js";import"./UploadExcelTemplate-BH0k7X5G.js";import"./TextInput-DrQFcDPi.js";import"./SelectInputProv-BBVGfNb4.js";import"./TextInputExtra-Ok3SqwrR.js";import"./UpImgProfile-cPtRBdob.js";import"./circular-progress-label-Dd2r8Jn8.js";import"./use-image-B67VQl14.js";import"./TextInputExtraValidation-CQBx6caG.js";import"./stat-number-C79QVPHj.js";import"./switch-BUDMBC8R.js";import"./radio-B2OtUDU_.js";import"./stack-6c9C4MON.js";import"./responsive-DAp-FYNV.js";const n=[{mainBg:"gray.100",boxBg:"white",primary:"#48bb78",text:"gray.400",heading:"#0d2341",danger:"red.400",btnScheme:{primary:"blue",primaryC:"green.400",secondary:"blackAlpha",secondaryC:"gray.600",danger:"red"}},{mainBg:"#191b21",boxBg:"#23272f",primary:"#585d66",text:"#ebecf0",heading:"#f6f7f9",danger:"#585d66",btnScheme:{primary:"whiteAlpha",primaryC:"gray.100",secondary:"whiteAlpha",secondaryC:"whiteAlpha",danger:"whiteAlpha"}}],Be=[{id:0,title:"Dashboard",icon:A,action:"",childId:[null]},{id:1,title:"Data Pegawai",icon:L,action:"",childId:[101,102]},{id:2,title:"Kinerja",icon:f,action:"",childId:[null]},{id:3,title:"Home",icon:g,action:"",childId:[null]}],Ee=[{id:2,title:"Kinerja",icon:f,action:"",childId:[null]},{id:3,title:"Home",icon:g,action:"",childId:[null]}],Re=[{id:4,title:"Dashboard",icon:A,action:"",childId:[null]},{id:2,title:"Kinerja",icon:f,action:"",childId:[null]},{id:5,title:"KPI",icon:W,action:"",childId:[null]},{id:8,title:"Pengajuan Cuti",icon:_,action:"",childId:[null]},{id:3,title:"Home",icon:g,action:"",childId:[null]}],Ue=[{id:0,title:"Dashboard",icon:A,action:"",childId:[null]},{id:1,title:"Data Pegawai",icon:L,action:"",childId:[101,102]},{id:2,title:"Kinerja",icon:f,action:"",childId:[null]},{id:6,title:"KPI",icon:W,action:"",childId:[null]},{id:8,title:"Pengajuan Cuti",icon:_,action:"",childId:[null]},{id:3,title:"Home",icon:g,action:"",childId:[null]}],r=0,ji=({dataPegawai:N,selectedDataPegawai:O=null,unitKerja:Y=null,jabatanFun:G=null,jabatanStr:q=null,fakultas:Q=null,prodi:J=null,listProvinsi:V=null,listKabupaten:X=null,listKabupaten2:Z=null,listKecamatan:$=null,listDesa:ee=null,listKecamatan2:te=null,listDesa2:ie=null,viewId:x=[0,0],refreshToken:H="qwert",dataDash:oe=null,auth:l=null,activeBioProps:b=null,callToast:c=null,listAssigneKinerja:ne=null,viewCode:w=null,shutDownAxios:re=null})=>{const[P,s]=i.useState(null),[M,d]=i.useState(!1),S=i.useRef(null),j=i.useRef(null),se=Te(),[ae,D]=ze(!1),[le,de]=i.useState(null);i.useState(0);const[a,ce]=i.useState(null),[I,T]=i.useState(!1),[me,pe]=i.useState(!1),z=(t="Berhasil",u="success")=>{se({title:t,status:u,isClosable:!0})},[B,he]=i.useState(null),[ue,h]=i.useState([]),[m,fe]=i.useState({fullname:"User",jabatan:"Default",username:"default",statusKepegawaian:"Default",imgSrc:"https://storage.unusida.id/storage/images/no-image-placeholder.png"}),[ge,xe]=i.useState(!1),E=t=>{S.current&&!S.current.contains(t.target)&&j.current&&!j.current.contains(t.target)&&Ie()},[R,be]=i.useState({initial:!0}),[we,y]=i.useState(!1),[Se,U]=i.useState([]),je=()=>{y(!0),axios.post("/sik/data-pegawai-axios",R).then(function(t){U(t.data.dataPegawai),y(!1)}).catch(function(t){})},Ie=()=>{T(!1)},F=()=>{d(t=>!t)},ye=()=>{T(t=>!t)},[Ce,ke]=i.useState(null),C=(t,u=null)=>{t===1?d(!1):t===2?(p.post("/sik/home-kinerja"),d(!1)):t===0?d(!1):t===101?p.post("/sik/tambah-pegawai"):t===102?(ke(u),p.post("/sik/data-pegawai-terpilih",{id:u})):t===8&&setTimeout(()=>{p.get("/sik/cuti")},1e3),t===3?(d(!1),s(t),pe(!0),setTimeout(()=>{p.get("/sso-dashboard")},1e3)):s(t)};i.useEffect(()=>{x[0]===102&&C(102,x[1])},[x]);const ve=i.useCallback(()=>{c!==null&&z(c[0],c[1])},[c]);return i.useEffect(()=>{ve()},[c]),i.useEffect(()=>{b!==null&&de(b)},[b]),i.useEffect(()=>{l!==null&&he(l)},[l]),i.useEffect(()=>{a===0?s(0):a===1?s(2):a>=3&&s(4),["adminsdmunusida"].includes(l.user.username)===!1?a===0?h(Be):a===1?h(Ee):a>=3&&h(Re):s(0)},[a]),i.useEffect(()=>(l&&l.user.username==="adminsdmunusida"&&h(Ue),axios.post("/sik/determine-user-type",{id:0}).then(function(t){ce(parseInt(t.data.accessStatus)),fe(t.data),xe(t.data.forDosen)}).catch(function(t){}),document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}),[]),i.useEffect(()=>{w!==null&&s(w)},[w,H]),e.jsxs(e.Fragment,{children:[e.jsx(Ae,{children:e.jsx("title",{children:"Sistem Informasi Kepegawaian | UNUSIDA"})}),e.jsxs(o,{width:"100vw",height:"100vh",overflowY:"hidden",direction:"column",children:[me?e.jsx(o,{width:"100vw",height:"100vh",zIndex:100,position:"absolute",bg:"#000000de",justifyContent:"center",alignItems:"center",children:e.jsx("div",{children:e.jsx("div",{id:"login-loader"})})}):"",e.jsx(o,{width:"100%",height:"max-content",children:e.jsxs(o,{width:"100%",height:"50px",bg:n[r].boxBg,color:n[r].primary,justifyContent:"space-between",alignItems:"center",position:"relative",zIndex:"31",px:3,boxShadow:"base",children:[e.jsxs(o,{children:[e.jsx(k,{width:"35px",height:"auto",src:"https://storage.unusida.id/storage/logo/logo_unu_primary_green_small.png",fallbackSrc:"https://via.placeholder.com/150"}),e.jsx(o,{onClick:F,bg:n[r].boxBg,zIndex:32,alignItems:"center",px:2,color:n[r].primary,display:["flex","flex","none","none"],children:e.jsx(K,{icon:Pe,style:{transform:M?"rotate(180deg)":"rotate(0deg)",transition:"250ms ease-out"}})})]}),e.jsx(o,{fontSize:"18px",fontWeight:"bold",letterSpacing:"3px",children:e.jsx(k,{height:"30px",style:{filter:"drop-shadow(3px 3px 0px #eeeeee)"},src:"https://storage.unusida.id/storage/logo/logo_simpeg_warna.png",fallbackSrc:"https://via.placeholder.com/150"})}),e.jsxs(o,{ref:j,px:3,fontSize:"18px",fontWeight:"bold",alignItems:"center",bg:n[r].primary,color:n[r].boxBg,borderRadius:"25px",cursor:"pointer",onClick:()=>{ye()},mr:[0,0,3,3],children:[e.jsx(K,{icon:Me,style:{transform:I?"rotate(-180deg)":"rotate(0deg)",transition:"500ms ease-out"}})," ","Â ",e.jsx(o,{ml:1,letterSpacing:"1px",fontSize:"15px",borderLeft:"1px",borderColor:"#ffffff86",pl:2,children:"MENU"})]}),e.jsxs(o,{ref:S,width:"250px",py:I?"20px":"0px",height:I?"300px":"0px",top:"60px",right:"10px",position:"absolute",borderRadius:"6px",boxShadow:"md",bg:n[r].boxBg,alignItems:"center",direction:"column",overflow:"hidden",transition:"500ms ease-out",mr:[0,0,3,3],children:[e.jsx(o,{minWidth:"80px",width:"80px",minHeight:"80px",height:"80px",overflow:"hidden",borderRadius:"50%",children:e.jsx(o,{width:"80px",height:"80px",minWidth:"80px",minHeight:"80px",borderRadius:"50%",position:"relative",overflow:"hidden",children:e.jsx(k,{width:"80px",height:"80px",minWidth:"80px",minHeight:"80px",src:m.imgSrc,fallbackSrc:"https://storage.unusida.id/storage/images/no-image-placeholder.png"})})}),e.jsxs(o,{mt:"10px",direction:"column",textAlign:"center",width:"100%",alignItems:"center",children:[e.jsx(o,{children:e.jsx(v,{fontSize:"14px",maxHeight:"50px",overflow:"hidden",fontWeight:"bold",children:m.statusKepegawaian})}),e.jsx(o,{mt:2,width:"100%",bg:n[r].primary,color:n[r].boxBg,justifyContent:"center",children:e.jsx(o,{fontSize:"13px",fontWeight:"bold",children:m.username})}),e.jsx(o,{width:"90%",justifyContent:"center",mt:2,borderBottom:"1px",borderColor:"gray.200",children:e.jsx(v,{fontWeight:"bold",fontSize:"15px",mb:1,children:m.fullname})}),e.jsx(o,{py:1,children:e.jsx(v,{fontSize:"14px",maxHeight:"50px",overflow:"hidden",my:1,children:m.jabatan})})]})]})]})}),e.jsxs(o,{width:"100%",height:"120vh",overflowY:"auto",flexGrow:1,position:"fixed",pt:"50px",bg:n[r].mainBg,children:[e.jsx(He,{auth:B,toggleSidebar:F,showSidebar:M,selectedMenu:P,changeSelectedMenuW:C,setShowSidebar:d,sidebarItem:ue,mainTheme:n[r],zIndex:35}),e.jsx(o,{width:"100%",height:window.innerHeight-50,maxHeight:window.innerHeight-50,overflow:"auto",children:e.jsx(De,{shutDownAxios:re,setSelectedMenu:s,globalDosenMod:ge,userType:a,activeBio:le,listAssigneKinerja:ne,refreshToken:H,dataDash:oe,listkabupaten:X,listKabupaten2:Z,listKecamatan:$,listDesa:ee,listKecamatan2:te,listDesa2:ie,selectedDataPegawai:O,showToast:z,listProvinsi:V,unitKerja:Y,jabatanFun:G,jabatanStr:q,fakultas:Q,prodi:J,changeSelectedMenu:C,dataPegawai:N,selectedMenu:P,mainTheme:n[r],auth:B,filterConditions:R,setFilterConditions:be,filterLoading:we,setFilterLoading:y,dataPegawaiList:Se,setDataPegawai:U,doFilter:je,selectedPegawaiId:Ce})})]}),e.jsx(o,{position:"absolute",bottom:"5px",right:"5px",borderRadius:"6px",width:"max-content",fontSize:"12px",fontWeight:"bold",px:3,bg:"green.500",color:"whitesmoke",justifyContent:"flex-end",opacity:ae?"1":"0.3",transition:"250ms ease-out",zIndex:"20",onMouseEnter:D.on,onMouseLeave:D.off,children:"Tim Kreatif UPT-TI UNUSIDA 2024"})]})]})};export{ji as default};
