import{r as a,j as s,S as G}from"./app-B5JuA1cy.js";import{a0 as M,a1 as w,a2 as b}from"./index-CevUe-Si.js";import{F as i}from"./index.es-C_U1UPVr.js";import{F as o}from"./flex-D7MDlKee.js";import{B as P}from"./button-DOH4T2Pi.js";import{F as x}from"./use-form-control-Dav_meEr.js";import{F as h}from"./form-label-CH8i2u-t.js";import{I as p}from"./input-D2cIcRAO.js";import{B as c}from"./badge-D3-7PXND.js";import"./use-merge-refs-BMyyYqY7.js";import"./attr-sHTFgF0E.js";import"./call-all-DDzecCnU.js";const _=({colorTheme:e,showToast:d,changeSelectedMenu:f})=>{const[u,C]=a.useState(""),[r,v]=a.useState(""),[m,g]=a.useState(!1),[l,j]=a.useState(!1),[y,k]=a.useState(""),[z,I]=a.useState(!1),[B,S]=a.useState(!1),F=t=>{const n=t.target.value;C(n)},R=t=>{const n=t.target.value;v(n)},K=t=>{const n=t.target.value;k(n)},L=()=>{u===r?r.length>0&&g(!0):g(!1)},A=()=>{r.length>=8?j(!0):j(!1)},D=()=>{S(!0),axios.post("/sso/change-new-password",{oldPass:y,newPassword:r}).then(function(t){t.data.good?t.data.match?(d("success","Berhasil Disimpan !"),f(1)):d("warning","Password Tidak Sama !"):d("error","Terjadi Kesalahan !"),S(!1)}).catch(function(t){})};return a.useEffect(()=>{const n=[m,l].every(E=>E===!0);I(n)},[m,l]),a.useEffect(()=>{L(),A()},[r,u]),s.jsxs(o,{bg:e.boxBg,width:"100%",height:"400px",mt:"80px",borderRadius:"10px",direction:"column",overflow:"hidden",mx:[2,2,2,0],children:[s.jsxs(o,{px:4,py:1,fontSize:"20px",fontWeight:"bold",bg:e.primary,color:e.mainTextInvert,children:[s.jsxs(P,{colorScheme:e.btnScheme.white,onClick:()=>{f(1)},size:"sm",mr:3,children:[s.jsx(i,{icon:M}),"  Kembali"]})," ","Ganti Password"]}),s.jsxs(o,{alignSelf:"center",color:e.mainText,bg:e.mainBg,direction:"column",width:["95%","95%","60%","50%"],px:4,pt:2,pb:3,mt:3,borderRadius:"6px",mx:[2,2,2,0],children:[s.jsxs(x,{mt:2,children:[s.jsx(h,{mt:2,fontSize:"14px",children:"Password Saat Ini"}),s.jsx(p,{onChange:K,size:"sm",borderRadius:"6px",type:"password",bg:"white"})]}),s.jsxs(x,{children:[s.jsx(h,{mt:2,fontSize:"14px",children:"Password Baru"}),s.jsx(p,{onChange:F,size:"sm",borderRadius:"6px",type:"password",bg:"white"})]}),s.jsxs(x,{mt:2,children:[s.jsx(h,{mt:2,fontSize:"14px",children:"Ulangi Password Baru"}),s.jsx(p,{onChange:R,size:"sm",borderRadius:"6px",type:"password",bg:"white"})]}),s.jsxs(o,{direction:"column",mt:2,justifyContent:"center",alignItems:"center",children:[m?s.jsxs(c,{variant:"solid",mt:1,width:"max-content",colorScheme:e.btnScheme.primary,children:[s.jsx(i,{icon:w}),"   Password Cocok"]}):s.jsxs(c,{variant:"solid",mt:1,width:"max-content",colorScheme:e.btnScheme.danger,children:[s.jsx(i,{icon:b}),"   Password Tidak Cocok"]}),l?s.jsxs(c,{variant:"solid",mt:1,width:"max-content",colorScheme:e.btnScheme.primary,children:[s.jsx(i,{icon:w}),"   Lebih Dari 8 Karakter"]}):s.jsxs(c,{variant:"solid",mt:1,width:"max-content",colorScheme:e.btnScheme.danger,children:[s.jsx(i,{icon:b}),"   Kurang Dari 8 Karakter"]})]}),s.jsx(o,{mt:3,justifyContent:"center",children:s.jsxs(P,{size:"sm",colorScheme:e.btnScheme.primary,width:"100%",onClick:D,isDisabled:z===!1,children:["Simpan  ",B?s.jsx(G,{size:"xs"}):""]})})]})]})};export{_ as default};
