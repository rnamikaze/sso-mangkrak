import{r,j as a,b as f}from"./app-B5JuA1cy.js";import{F as x}from"./index.es-C_U1UPVr.js";import{f as y}from"./index-CevUe-Si.js";import{B as S}from"./button-DOH4T2Pi.js";import"./use-merge-refs-BMyyYqY7.js";import"./attr-sHTFgF0E.js";const R=({sendMailTwo:B,viewerPointer:s,index:i,blobReady:F,formatedData:n,blobUrl:_,setDontInterupt:l,refreshDailyQuote:b,currentQuota:p,globalLimit:c})=>{const[T,m]=r.useState(!1),[d,u]=r.useState(!1),[t,h]=r.useState(!1),k=()=>{u(!0),l(!0);const e=new FormData;e.append("filerr",_),e.append("name",n[s].rn_nama_karyawan),e.append("email",n[s].rn_email),e.append("bank_rek",n[s].rn_nama_buku_tabungan),e.append("no_rek",n[s].rn_no_rek),e.append("no",n[s].rn_no),e.append("jabatan",n[s].rn_jabatan),f.post("/aslip/send-mail",e,{headers:{"Content-Type":"multipart/form-data"}}).then(o=>{o.request.status===200?(m(!0),h(!0),f.post("/aslip/daily-quota-add-one",{id:1}).then(function(j){b()}).catch(function(j){})):m(!1),u(!1),l(!1)}).catch(o=>{console.error(o)})};return a.jsx(a.Fragment,{children:p<c?a.jsx(S,{size:"sm",colorScheme:t?"yellow":"whatsapp",onClick:()=>{d===!1&&p<c&&k()},isDisabled:i!==s||t,children:i===s?d===!1?t?"Terkirim":"Kirim":a.jsx(x,{icon:y,spin:!0}):t?"Terkirim":"Belum"}):a.jsx(S,{size:"sm",colorScheme:"red",isDisabled:!0,children:"Daily Limit"})})};export{R as default};
