import{k as ye,m as T,r as o,g as U,F as ke,f as ve,i as we,o as ge,j as g,c as I,d as Ee}from"./app-B5JuA1cy.js";import{d as Se}from"./use-form-control-Dav_meEr.js";import{d as n}from"./attr-sHTFgF0E.js";import{c as d}from"./call-all-DDzecCnU.js";import{m as oe}from"./use-merge-refs-BMyyYqY7.js";var Ce=()=>typeof document<"u",se=!1,E=null,h=!1,V=!1,q=new Set;function O(e,c){q.forEach(a=>a(e,c))}var Le=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function xe(e){return!(e.metaKey||!Le&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function re(e){h=!0,xe(e)&&(E="keyboard",O("keyboard",e))}function k(e){if(E="pointer",e.type==="mousedown"||e.type==="pointerdown"){h=!0;const c=e.composedPath?e.composedPath()[0]:e.target;let a=!1;try{a=c.matches(":focus-visible")}catch{}if(a)return;O("pointer",e)}}function Pe(e){return e.mozInputSource===0&&e.isTrusted?!0:e.detail===0&&!e.pointerType}function Me(e){Pe(e)&&(h=!0,E="virtual")}function Fe(e){e.target===window||e.target===document||e.target instanceof Element&&e.target.hasAttribute("tabindex")||(!h&&!V&&(E="virtual",O("virtual",e)),h=!1,V=!1)}function De(){h=!1,V=!0}function ie(){return E!=="pointer"}function _e(){if(!Ce()||se)return;const{focus:e}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...a){h=!0,e.apply(this,a)},document.addEventListener("keydown",re,!0),document.addEventListener("keyup",re,!0),document.addEventListener("click",Me,!0),window.addEventListener("focus",Fe,!0),window.addEventListener("blur",De,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",k,!0),document.addEventListener("pointermove",k,!0),document.addEventListener("pointerup",k,!0)):(document.addEventListener("mousedown",k,!0),document.addEventListener("mousemove",k,!0),document.addEventListener("mouseup",k,!0)),se=!0}function Ie(e){_e(),e(ie());const c=()=>e(ie());return q.add(c),()=>{q.delete(c)}}const Re={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function Be(e={}){const c=Se(e),{isDisabled:a,isReadOnly:s,isRequired:p,isInvalid:r,id:S,onBlur:R,onFocus:B,"aria-describedby":C}=c,{defaultChecked:L,isChecked:x,isFocusable:K,onChange:j,isIndeterminate:u,name:W,value:z,tabIndex:G=void 0,"aria-label":J,"aria-labelledby":Q,"aria-invalid":A,...ce}=e,N=ye(ce,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),P=T(j),X=T(R),Y=T(B),[M,le]=o.useState(!1),[b,F]=o.useState(!1),[v,Z]=o.useState(!1),[w,y]=o.useState(!1);o.useEffect(()=>Ie(le),[]);const f=o.useRef(null),[$,ue]=o.useState(!0),[de,D]=o.useState(!!L),H=x!==void 0,i=H?x:de,ee=o.useCallback(t=>{if(s||a){t.preventDefault();return}H||D(i?t.currentTarget.checked:u?!0:t.currentTarget.checked),P==null||P(t)},[s,a,i,H,u,P]);U(()=>{f.current&&(f.current.indeterminate=!!u)},[u]),ke(()=>{a&&F(!1)},[a,F]),U(()=>{const t=f.current;if(!(t!=null&&t.form))return;const l=()=>{D(!!L)};return t.form.addEventListener("reset",l),()=>{var m;return(m=t.form)==null?void 0:m.removeEventListener("reset",l)}},[]);const te=a&&!K,ae=o.useCallback(t=>{t.key===" "&&y(!0)},[y]),ne=o.useCallback(t=>{t.key===" "&&y(!1)},[y]);U(()=>{if(!f.current)return;f.current.checked!==i&&D(f.current.checked)},[f.current]);const fe=o.useCallback((t={},l=null)=>{const m=_=>{b&&_.preventDefault(),y(!0)};return{...t,ref:l,"data-active":n(w),"data-hover":n(v),"data-checked":n(i),"data-focus":n(b),"data-focus-visible":n(b&&M),"data-indeterminate":n(u),"data-disabled":n(a),"data-invalid":n(r),"data-readonly":n(s),"aria-hidden":!0,onMouseDown:d(t.onMouseDown,m),onMouseUp:d(t.onMouseUp,()=>y(!1)),onMouseEnter:d(t.onMouseEnter,()=>Z(!0)),onMouseLeave:d(t.onMouseLeave,()=>Z(!1))}},[w,i,a,b,M,v,u,r,s]),me=o.useCallback((t={},l=null)=>({...t,ref:l,"data-active":n(w),"data-hover":n(v),"data-checked":n(i),"data-focus":n(b),"data-focus-visible":n(b&&M),"data-indeterminate":n(u),"data-disabled":n(a),"data-invalid":n(r),"data-readonly":n(s)}),[w,i,a,b,M,v,u,r,s]),be=o.useCallback((t={},l=null)=>({...N,...t,ref:oe(l,m=>{m&&ue(m.tagName==="LABEL")}),onClick:d(t.onClick,()=>{var m;$||((m=f.current)==null||m.click(),requestAnimationFrame(()=>{var _;(_=f.current)==null||_.focus({preventScroll:!0})}))}),"data-disabled":n(a),"data-checked":n(i),"data-invalid":n(r)}),[N,a,i,r,$]),he=o.useCallback((t={},l=null)=>({...t,ref:oe(f,l),type:"checkbox",name:W,value:z,id:S,tabIndex:G,onChange:d(t.onChange,ee),onBlur:d(t.onBlur,X,()=>F(!1)),onFocus:d(t.onFocus,Y,()=>F(!0)),onKeyDown:d(t.onKeyDown,ae),onKeyUp:d(t.onKeyUp,ne),required:p,checked:i,disabled:te,readOnly:s,"aria-label":J,"aria-labelledby":Q,"aria-invalid":A?!!A:r,"aria-describedby":C,"aria-disabled":a,style:Re}),[W,z,S,ee,X,Y,ae,ne,p,i,te,s,J,Q,A,r,C,a,G]),pe=o.useCallback((t={},l=null)=>({...t,ref:l,onMouseDown:d(t.onMouseDown,Ke),"data-disabled":n(a),"data-checked":n(i),"data-invalid":n(r)}),[i,a,r]);return{state:{isInvalid:r,isFocused:b,isChecked:i,isActive:w,isHovered:v,isIndeterminate:u,isDisabled:a,isReadOnly:s,isRequired:p},getRootProps:be,getCheckboxProps:fe,getIndicatorProps:me,getInputProps:he,getLabelProps:pe,htmlProps:N}}function Ke(e){e.preventDefault(),e.stopPropagation()}const je=ve(function(c,a){const s=we("Switch",c),{spacing:p="0.5rem",children:r,...S}=ge(c),{getIndicatorProps:R,getInputProps:B,getCheckboxProps:C,getRootProps:L,getLabelProps:x}=Be(S),K=o.useMemo(()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...s.container}),[s.container]),j=o.useMemo(()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...s.track}),[s.track]),u=o.useMemo(()=>({userSelect:"none",marginStart:p,...s.label}),[p,s.label]);return g.jsxs(I.label,{...L(),className:Ee("chakra-switch",c.className),__css:K,children:[g.jsx("input",{className:"chakra-switch__input",...B({},a)}),g.jsx(I.span,{...C(),className:"chakra-switch__track",__css:j,children:g.jsx(I.span,{__css:s.thumb,className:"chakra-switch__thumb",...R()})}),r&&g.jsx(I.span,{className:"chakra-switch__label",...x(),__css:u,children:r})]})});je.displayName="Switch";export{je as S,Ie as t,Re as v};
