import{r as e,b as nt,j as t,Y as at,y as m,S as lt}from"./app-B5JuA1cy.js";import _ from"./LinkAll-Ohm4BBmM.js";import{F as g}from"./index.es-C_U1UPVr.js";import{c as w}from"./index-DjOUsMDD.js";import{f as ct,av as j,aw as ut,R as dt,l as z,ai as E,ah as U}from"./index-CevUe-Si.js";import"./index-CdkGED-Z.js";import T from"./MenuItem-BAEBMt6l.js";import pt from"./ViewTitle-D1HGS0Ck.js";import D from"./NewLink-DfZOPxGW.js";import mt from"./EditLink-DKXOlsPk.js";import xt from"./Profil-BdbiaYd2.js";import ht from"./AccountManagement-5VBLpEpW.js";import G from"./SettingsMain-Bvn4j0sk.js";/* empty css                     */import{u as gt}from"./use-toast-Dq5h5LEc.js";import{F as i}from"./flex-D7MDlKee.js";import{B as f}from"./box-DNXXPAzx.js";import{T as b}from"./text-vcTeec7L.js";import"./InfinteScroll-DLhafHFM.js";import"./LinkItem-C3GyfdR7.js";import"./Clickable-p5btVmg-.js";import"./use-boolean-zvpXrp5i.js";import"./button-DOH4T2Pi.js";import"./use-merge-refs-BMyyYqY7.js";import"./attr-sHTFgF0E.js";import"./SearchView-CfNKOM3_.js";import"./input-D2cIcRAO.js";import"./use-form-control-Dav_meEr.js";import"./call-all-DDzecCnU.js";import"./form-label-CH8i2u-t.js";import"./input-group-D-iw9J4z.js";import"./children-BZqQFmTZ.js";import"./input-addon-DG9GhzSD.js";import"./heading-C_DZVkp8.js";import"./badge-D3-7PXND.js";import"./use-image-B67VQl14.js";import"./tab-panels-nhJL69sS.js";import"./RenderRow-Crj0RQsz.js";import"./thead-DBORUERS.js";import"./tr-D1Fo9UXo.js";import"./td-XgrbqfRX.js";import"./AddUser-D-6LqWpZ.js";import"./TextInput-Qae2CqtW.js";import"./DeleteAlert-Bi-FPAkS.js";import"./select-CfXo8taG.js";function ft(r){return r.length>15?r.substring(0,15)+"...":r}const bt={id:97,title:"Hapus",icon:w},jt={id:8,title:"Home",icon:dt},wt=[{id:1,title:"Link Baru",icon:z},{id:0,title:"History",icon:E},{id:4,title:"Pengaturan",icon:U},{id:10,title:"History Akun",icon:j},{id:97,title:"Ubah Link",icon:w}],St=[{id:1,title:"Link Baru",icon:z},{id:0,title:"History",icon:E},{id:4,title:"Pengaturan",icon:U},{id:97,title:"Ubah Link",icon:w}],he=({allLinks:r=null,newLinkStatus:x=null,selectedView:h=0,respon:S="aaaaaaaaaa",editId:F=null,userActive:n=null,callPopUp:u=null,showAddUserBox:M=0,showAddUserBoxisEditing:A=0,editedUser:P=null,showHistory:H=null,extraContainer:R=[null]})=>{const[k,N]=e.useState(null),[a,W]=e.useState(!(window.innerWidth<540)),[l,y]=e.useState(0),[I,v]=e.useState([{id:0,title:"Tunggu...",icon:ct}]),[V,O]=e.useState("1pla89skj4"),[Y,kt]=e.useState(!1),q=gt(),[K,yt]=e.useState(n),[X,$]=e.useState(null),[L,C]=e.useState(0),p="rn_usl_setting_history_view_mode",[J,Q]=e.useState(!1),Z=e.useCallback(()=>{N(r)},[r]),tt=()=>{W(!a)},s=(o="pop up",d="info",rt="warning")=>{q({title:o,description:d,status:rt,position:"bottom-left",duration:5e3,isClosable:!0})},c=(o,d=null)=>{o!==1&&O(S),d!==null?o===97&&m.post("/usl/getEditLink",{id:d}):(o===2&&m.post("/usl/showProfile"),o===10&&m.post("/usl/getUserList")),y(o)},B=()=>{m.get("/sso-dashboard"),Q(!0)},et=()=>{switch(l){case 0:return t.jsx(_,{userActive:n,showPopUp:s,changeViewActive:c,allDataLinks:k});case 1:return t.jsx(D,{userActive:n,changeViewActive:c,newLinkStatus:x});case 2:return t.jsx(xt,{extraContainer:R,userProfile:r});case 4:return t.jsx(G,{});case 10:return t.jsx(ht,{showHistory:H,changeViewActive:c,editedUser:P,showAddUserBoxisEditing:A,showAddUserBox:M,showPopUp:s,users:r});case bt.id:return t.jsx(mt,{callPopUp:u,showPopUp:s,editId:F,editLink:r,changeViewActive:c,newLinkStatus:x});default:return t.jsx("div",{children:"Not Found"})}},it=e.useCallback(()=>{y(h)},[h]),st=e.useCallback(()=>{switch(u[0]){case 1:s("Oke","Berhasil disimpan !","success");break;case 2:s("Gagal",`Link "${u[1]}" sudah digunakan !`,"warning");break;case 3:s("Berhasil","User Baru Ditambahkan !","success");break;case 4:s("Gagal","NIK Sudah terdaftar !","warning");break;case 5:s("Gagal","Email Sudah terdaftar !","warning");break;case 6:s("Berhasil","Info User diperbarui !","success");break;case 7:s("Berhasil","User sudah dihapus !","success");break;case 8:s("Berhasil","Password user telah diubah !","success");break;case 9:s("Gagal","Password Lama salah!","warning");break;case 10:s("Berhasil","Password telah diganti!","success");break}},[u]);e.useEffect(()=>{it()},[h]),e.useEffect(()=>{Z()},[r]),e.useEffect(()=>{u===null||st()},[u]),e.useEffect(()=>{localStorage.getItem(p)?C(parseInt(localStorage.getItem(p))):localStorage.setItem(p,0),nt.post("/usl/get-user-info").then(function(o){$(o.data)}).catch(function(o){}),setTimeout(()=>{K[0]===1?v(wt):v(St)},1e3)},[]);const ot=()=>l===0?t.jsx(_,{viewModeSetting:L,userActive:X,showPopUp:s,changeViewActive:c,allDataLinks:k}):l===1?t.jsx(D,{userActive:n,changeViewActive:c,newLinkStatus:x}):l===4?t.jsx(G,{settingMode:p,viewModeSetting:L,setViewModeSetting:C}):V!==S?t.jsx(t.Fragment,{children:et()}):t.jsx(i,{height:"85vh",alignItems:"center",justifyContent:"center",children:t.jsx(lt,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl"})});return t.jsxs(t.Fragment,{children:[t.jsx(at,{children:t.jsx("title",{children:"Link Shortener"})}),J?t.jsx(i,{width:"100vw",height:"100vh",zIndex:100,position:"absolute",bg:"#000000de",justifyContent:"center",alignItems:"center",children:t.jsx("div",{children:t.jsx("div",{id:"login-loader"})})}):"",t.jsxs(i,{width:"100vw",maxWidth:"100vw",overflowX:"hidden",height:"100vh",style:{boxSizing:"border-box"},position:"relative",children:[t.jsxs(i,{position:["absolute","absolute","relative"],width:a?["200px","200px","200px"]:["60px","60px","80px"],minWidth:a?["200px","200px","200px"]:["60px","60px","80px"],px:[1,1,3],bg:"white",py:2,height:"100%",direction:"column",justifyContent:"flex-start",alignItems:"center",borderRight:"1px",borderColor:"gray.200",transitionDuration:"750ms",transitionTimingFunction:"ease-out",zIndex:"20",style:{boxSizing:"border-box"},children:[t.jsxs(i,{width:"100%",fontSize:"xl",height:"50px",alignItems:"flex-end",justifyContent:"flex-start",mt:["60px","60px","0px"],pl:2,children:[t.jsx("img",{src:"https://storage.unusida.id/storage/logo/logo_unu_links_main_200x200.png",alt:"Logo UNUSIDA Green",style:{position:"relative",left:"-6px",height:"50px",width:"auto",minWidth:"50px",transform:"scale(1.2)",transition:"150ms ease-out"}}),a?t.jsx("img",{src:"https://storage.unusida.id/storage/logo/logo_unu_links_text_200.png",alt:"Logo UNUSIDA Green",style:{position:"relative",left:"4px",height:"50px",width:"auto",transform:"scale(1.2)",transition:"150ms ease-out"}}):""]}),t.jsx(f,{height:"30px"}),I.map((o,d)=>t.jsx(T,{sidebarShow:a,viewActive:l,item:o,action:c},d)),t.jsx(T,{sidebarShow:a,viewActive:l,action:B,item:jt},9998)]}),t.jsxs(i,{direction:"column",width:["100%"],flexGrow:[0,0,1],children:[t.jsxs(f,{borderBottom:"1px",borderColor:"gray.200",px:3,pb:1,pt:3,bg:"white",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",transitionDuration:"250ms",transitionTimingFunction:"ease-out",zIndex:20,children:[t.jsx(pt,{sidebarShow:a,title:I.filter(o=>o.id===l)[0],toggleSidebar:tt}),n===null?"":t.jsxs(i,{position:"relative",height:"100%",alignItems:"center",mr:2,cursor:"pointer",children:[t.jsxs(i,{fontSize:["sm","sm","md"],height:"100%",alignItems:"center",color:"gray.600",children:[t.jsx(f,{fontSize:["xl","xl","2xl"],children:t.jsx(g,{icon:j})}),"  ",ft(n[2])]}),"  ",Y?t.jsxs(i,{direction:"column",top:"60px",right:"-5px",position:"absolute",border:"1px",borderColor:"gray.200",borderRadius:"6px",boxShadow:"base",minwidth:"300px",bg:"white",px:3,py:2,children:[t.jsxs(i,{mb:2,borderBottom:"1px",borderColor:"gray.300",pb:2,children:[t.jsx(i,{width:"50px",justifyContent:"center",alignItems:"center",fontSize:"40px",mr:2,children:t.jsx(g,{icon:j})}),t.jsxs(i,{direction:"column",children:[t.jsx(b,{children:n[2]}),t.jsx(b,{children:n[1]})]})]}),t.jsx(i,{py:1,onClick:B,cursor:"pointer",children:t.jsx(i,{direction:"column",color:"gray.600",fontWeight:"bold",children:t.jsxs(b,{children:[t.jsx(g,{icon:ut}),"  SSO Dashboard"]})})})]}):""]})]}),t.jsx(i,{position:"relative",direction:"column",px:[2,2,4],py:[1,1,3],pl:["65px","65px",4],bg:"#f4f6fa",height:"max-content",width:"100%",flexGrow:1,overflowY:"auto",style:{boxSizing:"border-box"},children:ot()})]})]})]})};export{he as default};
