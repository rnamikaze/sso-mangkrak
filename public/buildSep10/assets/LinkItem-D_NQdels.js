import{r as s,j as e,y}from"./app-BRf5toWG.js";import{F as r}from"./index.es-BtTm-lQZ.js";import{o as w,p as C}from"./index-B2KZh1O9.js";import{_ as S,aF as I,aG as z}from"./index-BhJBT7_l.js";import{C as k}from"./index-DHNuJBZz.js";import c from"./Clickable-DW927CeH.js";import{F as o}from"./flex-DKwlgr-O.js";import{T as x}from"./text-CdRbiz2-.js";import{B as n}from"./box-BqPd-jnX.js";import{B as p}from"./button-Dm7yfw5z.js";import"./use-boolean-DWsdq_aC.js";import"./use-merge-refs-CHqHjQ4S.js";import"./attr-sHTFgF0E.js";function R(t){try{if(t.includes("localhost"))return"https://stackoverflow.com";const i=new URL(t);return`${i.protocol}//${i.hostname}`}catch{return console.error("Invalid URL:",t),null}}const W=({item:t,index:i,changeViewActive:h,showPopUp:m})=>{const[u,l]=s.useState(!1),[f,d]=s.useState("Salin");s.useState(!1),s.useState(null);const j=()=>{d("Disalin"),setTimeout(()=>{d("Salin")},2e3)},b=()=>{l(a=>!a)},g=a=>{y.post("/usl/deleteLink",{id:a}),m("Pemberitahuan","Berhasil Dihapus"),l(!1)};return e.jsx(e.Fragment,{children:e.jsxs(o,{direction:"column",borderRadius:"6px",bg:"white",my:2,px:1,py:3,height:"max-content",alignItems:"center",justifyContent:"space-between",style:{boxSizing:"border-box"},children:[e.jsxs(o,{width:"100%",direction:["column","column","row"],children:[e.jsx(o,{width:["100%","100%","7%"],justifyContent:"flex-end",fontSize:"2xl",px:2,py:2,children:e.jsx(o,{width:"45px",height:"45px",border:"1px",borderColor:"gray.300",borderRadius:"6px",alignItems:"center",justifyContent:"center",overflow:"hidden",children:e.jsx("img",{src:`https://www.google.com/s2/favicons?domain=${R(t.destination_url)}&sz=64`,alt:"Destinaton URL Icon"})})}),e.jsxs(o,{px:2,py:2,flexGrow:1,direction:"column",children:[e.jsx(x,{fontSize:"xl",fontWeight:"bold",children:t.title}),e.jsx(c,{url:"https://unusida.id/"+t.url,text:"https://unusida.id/"+t.url}),e.jsx(c,{url:t.destination_url,text:t.destination_url,color:"#2f2f2f"})]}),e.jsxs(o,{justifyContent:["flex-end","flex-end","flex-start"],wrap:"wrap",width:["100%","100%","20%"],px:2,py:2,children:[e.jsx(k,{text:"https://unusida.id/"+t.url,onCopy:()=>{j()},children:e.jsxs(n,{px:2,py:1,border:"1px",borderColor:"gray.100",bg:"gray.100",borderRadius:"6px",height:"max-content",mr:2,cursor:"pointer",fontSize:"sm",children:[e.jsx(r,{icon:w}),"  ",f]})}),e.jsx(n,{px:2,py:1,border:"1px",borderColor:"blue.300",bg:"blue.300",color:"white",borderRadius:"6px",height:"max-content",mr:2,fontSize:"sm",cursor:"pointer",onClick:()=>{h(97,parseInt(t.id))},children:e.jsx(r,{icon:S})}),e.jsxs(n,{border:"1px",borderColor:"red.300",position:"relative",borderRadius:"6px",height:"max-content",mr:2,fontSize:"sm",cursor:"pointer",children:[e.jsx(n,{px:2,py:1,width:"100%",height:"100%",bg:"red.300",color:"white",onClick:b,children:e.jsx(r,{icon:I})}),e.jsx(o,{display:u?"flex":"none",position:"absolute",bottom:"-83px",right:"-1px",alignItems:"center",justifyContent:"center",direction:"column",px:[2,2,3],py:2,boxShadow:"base",borderRadius:"6px",width:"max-content",bg:"white",border:"1px",borderColor:"gray.300",height:"75px",children:e.jsxs(o,{direction:"column",justifyContent:"flex-end",width:"100%",height:"max-content",children:[e.jsx(x,{fontWeight:"bold",mb:2,children:"Hapus link ini?"}),e.jsxs(n,{height:"max-content",children:[e.jsx(p,{onClick:()=>{g(parseInt(t.id))},size:"sm",mr:3,colorScheme:"red",children:"Hapus"}),e.jsx(p,{size:"sm",onClick:()=>{l(!1)},children:"Batal"})]})]})})]})]})]}),e.jsxs(o,{width:"100%",mt:3,children:[e.jsx(o,{display:["none","none","flex"],width:"7%",justifyContent:"flex-end",fontSize:"2xl",px:2,py:2}),e.jsxs(o,{direction:["column","column","row"],px:2,py:2,flexGrow:1,children:[e.jsxs(o,{mr:3,fontSize:"sm",color:"gray.500",alignItems:"center",children:[e.jsx(r,{icon:z})," ","  ",t.visitor_count," Kunjungan"]}),e.jsxs(o,{alignItems:"center",fontSize:"sm",color:"gray.500",children:[e.jsx(r,{icon:C}),"   ",t.created_at_formatted]})]})]})]})})};export{W as default};
