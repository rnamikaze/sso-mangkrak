import{r as s,j as e,y as l}from"./app-BRf5toWG.js";import{F as j}from"./index.es-BtTm-lQZ.js";import{aE as J,aB as N}from"./index-BhJBT7_l.js";import P from"./RenderRow-Vu2vHMTn.js";import Q from"./AddUser-CpicG0AR.js";import V from"./LinkAll-AsewiF3n.js";import X from"./DeleteAlert-C6Pf0BIG.js";import{F as u}from"./flex-DKwlgr-O.js";import{B as S}from"./box-BqPd-jnX.js";import{I as Y}from"./input-group-e4ltzjDZ.js";import{I as Z}from"./input-addon-fzb-K6CY.js";import{I as _}from"./input-DQBKHLse.js";import"./thead-jL1IYPIh.js";import"./tr-D0gvPZIT.js";import"./td-6W2IKI22.js";import"./button-Dm7yfw5z.js";import"./use-merge-refs-CHqHjQ4S.js";import"./attr-sHTFgF0E.js";import"./TextInput-D7Rn7_uq.js";import"./heading-D-CUm6-X.js";import"./use-form-control-DHIsxYm4.js";import"./call-all-DDzecCnU.js";import"./form-label-DWu6OXKn.js";import"./badge-BWvN93--.js";import"./index-DHNuJBZz.js";import"./InfinteScroll-0yh7cSX1.js";import"./LinkItem-D_NQdels.js";import"./index-B2KZh1O9.js";import"./Clickable-DW927CeH.js";import"./text-CdRbiz2-.js";import"./use-boolean-DWsdq_aC.js";import"./SearchView-CHtYtDlr.js";import"./children-BMP1hdK-.js";const Ce=({users:r,showPopUp:f,showAddUserBox:o,showAddUserBoxisEditing:n,editedUser:b,changeViewActive:w,showHistory:d})=>{const[U,y]=s.useState(null),[E,a]=s.useState(null),[I,i]=s.useState(o!==0),[g,h]=s.useState(n!==0),[x,D]=s.useState(""),[F,v]=s.useState(!1),[L,m]=s.useState(!1),[A,C]=s.useState({id:0,name:""}),R=t=>{l.post("/usl/get-links",{id:t})},k=t=>{C(t),m(!0)},c=()=>{g&&h(!1),i(t=>!t)},M=t=>{l.post("/usl/getEditUser",{id:t}),i(!0),h(!0)},z=t=>{l.post("/usl/createUser",t),setTimeout(()=>{o===0&&c()},1e3)},G=t=>{l.post("/usl/saveEditUser",t),setTimeout(()=>{o===0&&c()},1e3)},H=t=>{l.post("/usl/deleteUser",{id:t}),m(!1)},T=t=>{const p=r.filter(O=>Object.values(O).some(q=>String(q).toLocaleLowerCase().includes(t)));x.length<1?a(U):a(p)},W=t=>{D(t.target.value);const p=t.target.value.toLocaleLowerCase();T(p)};s.useEffect(()=>{o===1?i(!0):o===0&&i(!1)},[o]),s.useEffect(()=>{n===1&&i(!0)},[n]);const K=()=>{r===null||(y(r),a(r))};return s.useEffect(()=>{d===1&&v(!0)},[d]),s.useEffect(()=>{K()},[r]),e.jsx(e.Fragment,{children:e.jsxs(u,{position:"relative",bg:"white",px:3,py:3,direction:"column",width:"100%",height:"100%",children:[L?e.jsx(X,{setShowDeleteAlert:m,doDeleteUser:H,deleteInfo:A}):"",e.jsxs(u,{display:"none",px:[2,2,3],py:1,color:"white",borderRadius:"6px",mb:2,width:"100%",bg:"green.300",alignItems:"center",fontWeight:"bold",direction:"row",children:[e.jsxs(S,{flexGrow:1,children:["Tombol History dan Delete belum berfungsi, sebagian tampilan belum responsive, update otw (Masalah/Error langsung lapor) ",e.jsx("br",{}),"--dev-rnamikaze"]}),e.jsx(S,{fontSize:"xl",width:["10%","10%","5%"],minWidth:["10%","10%","5%"],children:e.jsx(j,{bounce:!0,icon:J})})]}),I?e.jsx(Q,{showAddUserBoxisEditing:n,editedUser:b,doSubmitEditUser:G,isEditingUser:g,showPopUp:f,submitUser:z,toggleAddUser:c}):"",F?e.jsx(V,{allDataLinks:r,changeViewActive:w,showPopUp:f,isFromAccountManagement:!0}):e.jsxs(e.Fragment,{children:[e.jsx(u,{direction:["column","column","row"],width:"100%",justifyContent:"space-between",children:e.jsxs(Y,{mt:[2,2,0],width:["100%","100%","250px"],size:"sm",children:[e.jsx(Z,{children:e.jsx(j,{icon:N})}),e.jsx(_,{value:x,onChange:W,placeholder:"Cari Pengguna"})]})}),e.jsx(P,{displayDeleteAlert:k,displaySelectedUserHistory:R,showEditUser:M,data:E})]})]})})};export{Ce as default};
