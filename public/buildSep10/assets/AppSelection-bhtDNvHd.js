import{r as x,j as i,S as j,y}from"./app-BRf5toWG.js";import{G as S,aj as k,a4 as A,Y as w,ak as f,al as C,am as I,an as K}from"./index-BhJBT7_l.js";import{F as b}from"./index.es-BtTm-lQZ.js";import{F as l}from"./flex-DKwlgr-O.js";import{T as d}from"./text-CdRbiz2-.js";import{B as h}from"./button-Dm7yfw5z.js";import"./use-merge-refs-CHqHjQ4S.js";import"./attr-sHTFgF0E.js";const g=[{id:0,dbid:"sku",title:"Admin SKU",description:"Survey Kepuasan Unit",icon:f,url:"/sku/home"},{id:1,dbid:"spmb",title:"Admin SKPMB",description:"Survey Kepuasan PMB",icon:f,url:"/spmb/dashboard"},{id:3,dbid:"usl",title:"Link Shortener",description:"Pendekin Link",icon:C,url:"/usl/admin/dashboard"},{id:4,dbid:"sik",title:"SIK",description:"Sistem Informasi Kepegawaian",icon:I,url:"/sik/dashboard"},{id:5,dbid:"sipeka",title:"SIPEKA",description:"Sistem Pengajuan Keuangan",icon:K,url:"/sipeka"}],R=({colorTheme:e,aksesSelectedUser:n})=>{const[t,p]=x.useState(null),a=s=>{const o=g.filter(c=>c.id==s);let r=t;if(r.includes(o[0].dbid)){let c=r.indexOf(o[0].dbid);c!==-1&&(r.splice(c,1),r=[...r])}else r=[...r,o[0].dbid];p(r)},u=()=>{y.post("/save-akses-selected-user",{id:n.id,allowed_app:JSON.stringify(t)})},m=x.useCallback(()=>{n!==null&&p(n.allowed_app)},[n]);return x.useEffect(()=>{m()},[n]),i.jsx(l,{width:"100%",justifyContent:"center",children:t===null?i.jsx(j,{thickness:"4px",speed:"0.65s",emptyColor:"green.100",color:"green.500",size:"xl"}):i.jsxs(l,{direction:"column",width:"100%",children:[i.jsxs(d,{as:"h3",size:"sm",fontWeight:"bold",children:["Nama Pengguna:"," ",i.jsx(d,{color:e.primary,fontWeight:"bold",children:n.name})]}),i.jsx(d,{mt:3,fontWeight:"bold",children:"Aplikasi Tersedia"}),i.jsx(l,{borderRadius:"6px",px:2,py:1,width:"100%",border:"2px",borderColor:e.text,boxShadow:"base",flexWrap:"wrap",children:g.map(s=>i.jsx(P,{togglePushItem:a,item:s,colorTheme:e,arraySelected:t,initialActive:t.includes(s.dbid)},s.dbid))}),i.jsx(d,{mt:3,fontWeight:"bold",children:"Dipilih :"}),i.jsxs(d,{children:[t.map((s,o)=>i.jsxs("span",{style:{textTransform:"uppercase",color:e.text},children:[s,t.length-1===o?".":", "]},o)),t.length===0?"-- Kosong --":""]}),i.jsx(l,{mt:3,justifyContent:"flex-end",borderTop:"2px",pt:2,borderColor:e.text,children:t.length<1?i.jsxs(h,{colorScheme:e.btnScheme.secondary,cursor:"not-allowed",children:["Minimal 1 Per/User  ",i.jsx(b,{icon:S})]}):i.jsxs(h,{size:"md",colorScheme:e.btnScheme.primary,onClick:u,children:["Simpan  ",i.jsx(b,{icon:k})]})})]})})},P=({colorTheme:e,item:n,togglePushItem:t,initialActive:p})=>{const[a,u]=x.useState(p),m=()=>{u(s=>!s),t(n.id)};return i.jsxs(l,{border:"2px",borderColor:a?e.primary:e.text,bg:a?e.primary:e.boxBg,px:2,py:1,width:"max-content",height:"max-content",color:a?e.boxBg:e.heading,borderRadius:"6px",boxShadow:"base",alignItems:"center",transition:"250ms",transitionTimingFunction:"ease-out",onClick:m,cursor:"pointer",mx:1,my:1,children:[n.title,"  ",i.jsx(b,{icon:a?A:w})]})};export{R as default};
