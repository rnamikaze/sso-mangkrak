import{r as t,b as m,j as s,S as K}from"./app-BRf5toWG.js";import N from"./TopHead-BzHE1Prr.js";import O from"./KinerjaHistory-C2N2fpzP.js";import{s as r,a as S,b as q}from"./DateTools-DazUeWyn.js";import{F as n}from"./flex-DKwlgr-O.js";import{T as G}from"./text-CdRbiz2-.js";import"./select-DiJvIInU.js";import"./use-form-control-DHIsxYm4.js";import"./use-merge-refs-CHqHjQ4S.js";import"./attr-sHTFgF0E.js";import"./call-all-DDzecCnU.js";import"./HistoryPerUser-KF49VoGM.js";import"./HistoryTaskItem-DjLwga2e.js";import"./index.es-BtTm-lQZ.js";import"./HistoryTaskChildItem-DunXsuL4.js";import"./input-DQBKHLse.js";import"./alert-dialog-C8VgP9bi.js";import"./modal-overlay-BIVDhjzn.js";import"./typeof-BVQB8lKn.js";import"./button-Dm7yfw5z.js";import"./badge-BWvN93--.js";import"./use-disclosure-B8l4uvt7.js";import"./TaskChildEmpty-1l7DWmf9.js";import"./index-BhJBT7_l.js";import"./box-BqPd-jnX.js";import"./circular-progress-By2wHYQi.js";import"./use-boolean-DWsdq_aC.js";import"./TaskItemKosong-Ce4Kqc4W.js";import"./TotalPercentage-a_8_4xyt.js";const jt=({mainTheme:l,userActiveLevel:k,activeBio:L,periodeList:Q})=>{const[b,w]=t.useState([]),[c,j]=t.useState(0),[y,F]=t.useState([]),[P,v]=t.useState([]),[a,f]=t.useState(null),[C,D]=t.useState([]),[A,E]=t.useState([]),[d,h]=t.useState(0),[I,T]=t.useState([]),[R,U]=t.useState([]);t.useState(""),t.useState("");const[x,p]=t.useState(null),[J,u]=t.useState(!1),[g,z]=t.useState(1),M=e=>{const i=parseInt(e.target.value);h(i)},H=e=>{const i=parseInt(e.target.value);j(i)},W=e=>{p(null),z(e)},B=e=>{f(S(new Date(r(e.target.value)[0])))};return t.useEffect(()=>{if(parseInt(d)!==0){const e=r(a.value)[0],i=r(a.value)[1];u(!0),m.post("/sik/get-task-by-unit-periode",{id:d,startDate:e,endDate:i}).then(function(o){T(o.data.listAssigne),U(o.data.userTask),p(!1),u(!1)}).catch(function(o){})}},[d,a]),t.useEffect(()=>{if(parseInt(c)!==0){const e=r(a.value)[0],i=r(a.value)[1];u(!0),m.post("/sik/get-task-by-fakultas-periode",{id:c,startDate:e,endDate:i}).then(function(o){F(o.data.assigneList),v(o.data.userTask),p(!1),u(!1)}).catch(function(o){})}},[c,a]),t.useEffect(()=>{m.post("/sik/get-unit-list",{id:0}).then(function(e){E(e.data.unitList),w(e.data.fakultasList)}).catch(function(e){}),f(S()),D(q("12/2024"))},[]),s.jsxs(s.Fragment,{children:[s.jsxs(n,{width:"100%",bg:l.boxBg,direction:["row","row","row","column"],borderRadius:"6px",overflow:"hidden",children:[s.jsx(n,{width:"100%",bg:"green.300",px:3,py:1,fontSize:"18px",color:"white",fontWeight:"bold",textTransform:"uppercase",display:["none","none","none","flex"],children:"Semua Unit"}),s.jsx(N,{selectedJenisPegawai:g,setSelectedJenisPegawai:W,axiosLoad:J,selectedUnit:d,setSelectedUnit:h,unitList:A,fakultsList:b,selectedFakultas:c,mainTheme:l,handleFakultasChange:H,handleUnitChange:M,periodeList:C,handlePeriodeChange:B,currentPeriod:a})]}),s.jsx(n,{width:"100%",bg:l.text,px:2,color:"white",fontWeight:"bold",boxShadow:"base",borderRadius:"6px",mt:"20px",mb:"10px",children:"Semua Task"}),x===null?s.jsx(n,{height:"150px",width:"100%",justifyContent:"center",alignItems:"center",color:"gray.600",children:"Nothing to see..."}):x?s.jsxs(n,{height:"200px",alignItems:"center",width:"100%",justifyContent:"center",direction:"column",children:[s.jsx(G,{size:"18px",mb:3,color:"gray.600",children:"Memuat..."}),s.jsx(K,{thickness:"4px",speed:"0.35s",emptyColor:"gray.200",color:"gray.600",size:"md"})]}):s.jsx(O,{listAssigne:g===1?I:y,historyList:g===1?R:P,userActiveLevel:k,activeBio:L,mainTheme:l})]})};export{jt as default};
