import{r as p,b as C,j as t,S as F,y as U}from"./app-BRf5toWG.js";import E from"./MiniNavHead-fscZ4D9B.js";import{F as s}from"./index.es-BtTm-lQZ.js";import{a6 as G,a7 as m,a8 as h,a9 as _,aa as $}from"./index-BhJBT7_l.js";import{h as f}from"./index-B2KZh1O9.js";import{f as K}from"./index-BV8y1BTx.js";import g from"./FormDisplay-FLa6-xeb.js";import{F as i}from"./flex-DKwlgr-O.js";import{I as L}from"./image-UHZF2dBf.js";import{H as w}from"./heading-D-CUm6-X.js";import{T as a}from"./text-CdRbiz2-.js";import{B as N}from"./button-Dm7yfw5z.js";import{B as j}from"./badge-BWvN93--.js";import"./index-DHNuJBZz.js";import"./use-image-CxB9Ef0I.js";import"./use-merge-refs-CHqHjQ4S.js";import"./attr-sHTFgF0E.js";const ot=({colorTheme:e,appItem2:y,userAccount:n,userData:r,showSidebar:W,selectedTheme:x,changeSelectedMenu:S})=>{const[v,I]=p.useState(!1),[P,z]=p.useState([]),[d,k]=p.useState(null),[B,b]=p.useState(null),H=()=>Array.isArray(n[0].allowed_app)?t.jsx(t.Fragment,{children:P.map(o=>t.jsxs(i,{alignItems:"center",justifyContent:"center",border:"2px",borderColor:e.primary,minWidth:"160px",width:"max-content",height:"40px",maxHeight:"40px",borderRadius:"25px",color:e.primary,transition:"150ms ease-out",fontSize:"23px",mx:2,my:1,children:[t.jsx(s,{icon:o.icon}),t.jsx(a,{ml:2,fontSize:"14px",fontWeight:"bold",children:o.title})]},o.id))}):t.jsx(t.Fragment,{children:y.map(o=>t.jsxs(i,{alignItems:"center",justifyContent:"center",width:"max-content",minWidth:"160px",borderRadius:"25px",height:"40px",px:3,color:e.primary,border:"2px",borderColor:e.primary,transition:"150ms ease-out",fontSize:"23px",mx:2,mt:2,children:[t.jsx(s,{icon:o.icon}),t.jsx(a,{ml:2,fontSize:"14px",fontWeight:"bold",children:o.title})]}))});p.useEffect(()=>{if(n!==null){if(n[0].username!=="superadmin"){const o=n[0].allowed_app,c=y;let l=[];for(let u=0;u<c.length;u++)o.includes(c[u].dbid)&&l.push(c[u]);z([...l])}else z("");C.post("/check-social-account",{id:n[0].id}).then(function(o){k(o.data)}).catch(function(o){})}},[n]);const R=()=>{switch(parseInt(n[0].level)){case 1:return t.jsx(j,{variant:"solid",colorScheme:x===1?"whiteAlpha":"purple",children:"Super Admin"});case 2:return t.jsx(j,{variant:"solid",colorScheme:x===1?"whiteAlpha":"orange",children:"Admin"});case 3:return t.jsx(j,{variant:"solid",colorScheme:x===1?"whiteAlpha":"green",children:"User"});case 4:return t.jsx(j,{variant:"solid",colorScheme:x===1?"whiteAlpha":"green",children:"User"});case 5:return t.jsx(j,{variant:"solid",colorScheme:x===1?"whiteAlpha":"green",children:"User"});default:return"Default"}};return p.useEffect(()=>{I(!1);const o=n[0].nik+"/"+r[5],c=`storage/profile/${o}`;C.post("/sso/check-image-exist",{filePath:`profile/${o}`,id:n[0].id}).then(function(l){l.data.good?b(c):l.data.good_backup?b(`storage/profile/${n[0].nik}/${l.data.path}`):b("https://storage.unusida.id/storage/images/no-image-placeholder.png"),I(!0)}).catch(function(l){})},[r]),t.jsxs(i,{mx:["15px","15px","20px"],mb:["20px","20px","50px"],bg:e.boxBg,width:"95%",minHeight:"max-content",borderRadius:"10px",direction:"column",color:e.heading,px:4,py:2,children:[t.jsx(E,{showSidebar:W,colorTheme:e}),t.jsxs(i,{borderTop:"2px",borderColor:e.primary,mt:2,py:4,width:"100%",direction:["column","column","column","row"],children:[t.jsx(i,{alignItems:"center",justifyContent:"center",height:"200px",width:"150px",alignSelf:"center",mb:[3,3,3,0],children:t.jsxs(i,{position:"relative",alignItems:"center",justifyContent:"center",w:"180px",h:"200px",borderColor:"red",children:[t.jsx(L,{boxSize:"200px",htmlHeight:["150px","150px","150px","80%"],htmlWidth:"80%",objectFit:"cover",src:B,fallbackSrc:"https://storage.unusida.id/storage/images/no-image-placeholder.png",alt:"Img"}),v===!1?t.jsx(i,{width:"100%",height:"100%",alignItems:"center",justifyContent:"center",position:"absolute",top:"0px",left:"0px",bg:"rgba(0, 0, 0, 0.6)",children:t.jsx(F,{size:"md",color:"white"})}):""]})}),t.jsxs(i,{direction:"column",justifyContent:"space-between",height:["max-content","max-content","max-content","200px"],ml:[0,0,0,"28px"],children:[t.jsxs(i,{direction:["column","column","column","row"],pt:"3px",children:[t.jsxs(i,{minWidth:["max-content","max-content","max-content","300px"],width:"max-content",whiteSpace:"wrap",direction:"column",children:[t.jsx(w,{color:e.heading,opacity:.8,as:"h3",size:"md",children:n[0].name}),t.jsx(a,{fontWeight:"bold",color:e.primary,fontSize:"14px",children:r[0]}),t.jsx(a,{fontWeight:"bold",color:e.primary,size:"sm",children:R()})]}),t.jsxs(i,{width:"100%",justifyContent:"flex-start",ml:[0,0,0,5],my:[5,5,5,0],direction:"row",alignItems:"center",opacity:.8,children:[t.jsx(s,{icon:G}),t.jsxs(i,{ml:3,direction:"column",children:[t.jsx(a,{color:e.heading,fontSize:"13px",fontWeight:"bold",children:r[3]}),t.jsxs(a,{color:e.heading,fontSize:"13px",children:[r[2],", ",r[1]]})]})]})]}),r[6]===null?"":t.jsxs(i,{direction:"column",mt:[3,3,3,0],justifyContent:"center",alignItems:["center","center","center","flex-start"],children:[t.jsx(a,{fontSize:"14px",color:e.text,lineHeight:"7px",fontWeight:"bold",mb:2,children:"Survey Kepuasan"}),t.jsx(i,{alignItems:"center",children:t.jsx(i,{fontSize:"25px",width:["100%","100%","100%","150px"],justifyContent:"space-between",children:t.jsxs(i,{direction:["column","column","row","row"],justifyContent:"center",alignItems:"center",pr:1,py:1,mr:2,borderRadius:"6px",color:x===0?e.primary:e.text,fontSize:["20px","20px","21px","22px"],children:[t.jsx(i,{alignItems:"flex-end",justifyContent:"center",lineHeight:["inherit","inherit","inherit","0px"],fontSize:["28px","28px","28px","25px"],color:e.heading,fontWeight:"bold",mr:[0,0,2,2],children:(r[7].toFixed(1)/10).toFixed(2)}),t.jsxs(i,{children:[t.jsx(s,{icon:parseInt(r[7].toFixed(1)/10)>=1?parseInt(r[7].toFixed(1)/10)===1?m:h:f}),t.jsx(s,{icon:parseInt(r[7].toFixed(1)/10)>=3?parseInt(r[7].toFixed(1)/10)===3?m:h:f}),t.jsx(s,{icon:parseInt(r[7].toFixed(1)/10)>=5?parseInt(r[7].toFixed(1)/10)===5?m:h:f}),t.jsx(s,{icon:parseInt(r[7].toFixed(1)/10)>=7?parseInt(r[7].toFixed(1)/10)===7?m:h:f}),t.jsx(s,{icon:parseInt(r[7].toFixed(1)/10)>=9?parseInt(r[7].toFixed(1)/10)===9?m:h:f})]})]})})})]}),t.jsx(i,{direction:["column","column","column","row"],alignItems:"center",mt:[3,3,3,0],fontSize:"25px",justifyContent:["center","center","center","flex-start"],children:n[0].username==="superadmin"?"":t.jsxs(t.Fragment,{children:[t.jsxs(i,{bg:e.primary,color:e.boxBg,px:3,py:1,height:"32px",borderRadius:"6px",alignItems:"center",cursor:"pointer",onClick:()=>{U.post("/edit-profile"),S(3)},children:[t.jsx(s,{style:{fontSize:"18px",color:e.boxBg},icon:_}),t.jsx(a,{ml:2,fontSize:"md",fontWeight:"bold",children:"Edit Data"})]}),d===null?"":t.jsx(i,{as:d.status=="false"?"a":"div",href:"/google/redirect",bg:e.secondary,color:e.boxBg,px:3,py:1,height:"32px",minHeight:"32px",borderRadius:"6px",alignItems:"center",cursor:"pointer",ml:[0,0,0,2],mt:[2,2,2,0],children:d===null?t.jsx(F,{size:"sm",color:"white"}):t.jsxs(t.Fragment,{children:[t.jsx(s,{style:{fontSize:"21px",color:e.boxBg},icon:K}),d.status=="false"?t.jsxs(a,{ml:2,fontSize:"12px",lineHeight:"1em",fontWeight:"bold",color:e.boxBg,children:["Sambungkan",t.jsx("br",{}),"Google"]}):"",d.status?t.jsx(a,{ml:2,fontSize:"12px",lineHeight:"1em",fontWeight:"bold",color:e.boxBg,children:d.google_email}):""]})})]})})]})]}),t.jsx(w,{as:"h4",fontSize:"md",color:e.heading,textTransform:"uppercase",textAlign:"center",mt:4,mb:3,children:"Aplikasi Diperbolehkan"}),t.jsx(i,{maxWidth:"40vw",flexWrap:"wrap",justifyContent:"center",alignItems:"center",alignSelf:"center",mb:5,children:H()}),t.jsx(w,{as:"h4",mt:4,fontSize:"md",textTransform:"uppercase",color:e.heading,children:"Data Pegawai"}),t.jsxs(i,{mt:2,borderBottom:"2px",pb:"25px",borderColor:e.primary,direction:["column","column","column","row"],children:[t.jsxs(i,{direction:"column",flexGrow:1,maxW:["none","none","none","50%"],minW:["none","none","none","50%"],borderColor:"gray.100",pr:[0,0,0,4],children:[t.jsx(g,{ml:0,mr:3,width:"100%",title:"NIK",value:n[0].nik,colorTheme:e}),t.jsx(g,{ml:0,mr:3,width:"100%",title:"Nama",value:n[0].name,colorTheme:e}),t.jsx(g,{ml:0,mr:3,width:"100%",title:"Username",value:n[0].username,colorTheme:e})]}),t.jsxs(i,{direction:"column",flexGrow:1,borderColor:"gray.100",children:[t.jsx(g,{ml:0,mr:3,width:"100%",title:"HP/Telepon",value:n[0].phone===null?"Kosong":n[0].phone,colorTheme:e}),t.jsx(g,{ml:0,mr:3,width:"100%",title:"Email",value:n[0].email,colorTheme:e})]})]}),t.jsxs(i,{direction:"column",width:"100%",mt:2,mb:4,justifyContent:"flex-end",bg:e.mainBg,borderRadius:"6px",px:2,py:2,children:[t.jsx(a,{fontSize:"17px",ml:2,fontWeight:"bold",children:"Ubah Password Saat Ini"}),t.jsx(N,{mr:3,alignSelf:"flex-end",colorScheme:e.btnScheme.primary,onClick:()=>{S(4)},width:"40px",height:"40px",borderRadius:"50%",children:t.jsx(s,{icon:$})})]})]})};export{ot as default};
