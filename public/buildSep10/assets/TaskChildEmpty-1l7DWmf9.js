import{r as g,j as e}from"./app-BRf5toWG.js";import{n as G}from"./index-BhJBT7_l.js";import{F as _}from"./index.es-BtTm-lQZ.js";import{F as t}from"./flex-DKwlgr-O.js";import{B as k}from"./box-BqPd-jnX.js";import{I as p}from"./input-DQBKHLse.js";import{S as v}from"./select-DiJvIInU.js";import"./use-form-control-DHIsxYm4.js";import"./use-merge-refs-CHqHjQ4S.js";import"./attr-sHTFgF0E.js";import"./call-all-DDzecCnU.js";function x(){const o=new Date,m=o.getFullYear();let l=o.getMonth()+1,n=o.getDate();return l<10&&(l="0"+l),n<10&&(n="0"+n),m+"-"+l+"-"+n}const L=({mainTheme:o,task:m,saveData:l,setShowEmptyTask:n,addNewTask:f,addChildToParent:b,index:w,taskId:y=null,activeBio:h,setShowTaskEmpty:j,userActiveLevel:s})=>{const[i,c]=g.useState({taskId:y,childTaskId:0,title:"",assigne:h.id,assigner_level:s,userId:0,progress_int:0,progress_percentage:0,comment:"",start_date:x(),due_date:x(),realize_date:x(),active:!1});function d(r){const a=r.target.id;let C=r.target.value;c(W=>({...W,[a]:C}))}const u=[];for(let r=1;r<100;r++)u.push(r);return g.useEffect(()=>{c(r=>({...r,assigner_level:s}))},[s]),e.jsxs(t,{direction:["row","row","row","column"],mt:[2,2,2,0],children:[e.jsxs(t,{px:3,py:2,bg:o.heading,color:o.boxBg,fontWeight:"bold",direction:["column","column","column","row"],display:["flex","flex","flex","none"],width:["45%","45%","45%","100%"],fontSize:["sm","sm","sm","md"],pr:[0,0,0,3],pl:[2,2,2,0],pb:[4,4,4,0],children:[e.jsx(t,{width:["100%","100%","100%","7%"],maxWidth:["100%","100%","100%","7%"],flexGrow:1,py:[1,1,1,0],mb:[2,2,2,0],children:"#"}),e.jsx(t,{width:["100%","100%","100%","30%"],maxWidth:["100%","100%","100%","30%"],flexGrow:1,py:[1,1,1,0],mb:[2,2,2,0],children:"Judul Task"}),e.jsx(t,{width:["100%","100%","100%","30%"],maxWidth:["100%","100%","100%","30%"],flexGrow:1,py:[1,1,1,0],mb:[2,2,2,0],children:"Comment"}),e.jsx(t,{width:["100%","100%","100%","20%"],maxWidth:["100%","100%","100%","20%"],flexGrow:1,py:[1,1,1,0],mb:[2,2,2,0],children:"Due Date"}),e.jsx(t,{width:["100%","100%","100%","13%"],maxWidth:["100%","100%","100%","13%"],flexGrow:1,py:[1,1,1,0],children:"Progress"})]}),e.jsxs(t,{mt:[0,0,0,3],bg:"gray.100",py:2,width:"100%",transition:"250ms ease-out",justifyContent:"flex-end",direction:["column","column","column","row"],pr:[0,0,0,3],pl:[2,2,2,0],borderTop:["2px","2px","2px","0px"],borderTopColor:o.heading,borderBottom:["2px","2px","2px","0px"],borderBottomColor:o.heading,children:[e.jsx(t,{alignItems:"center",width:["100%","100%","100%","7%"],maxWidth:["100%","100%","100%","7%"],flexGrow:1,pl:"2%",mb:[2,2,2,0],pr:[3,3,3,0],justifyContent:["flex-end","flex-end","flex-end","center"],children:e.jsx(k,{position:"relative",left:"-5px",as:"button",type:"submit",color:"white",cursor:i.title.length>0?"pointer":"not-allowed",opacity:i.title.length>0?1:.4,bg:"blue.400",width:"40px",height:"100%",borderRadius:"6px",onClick:()=>{i.title.length>0&&(b(i,w),setTimeout(()=>{j(!1)},500))},children:e.jsx(_,{icon:G})})}),e.jsx(t,{borderLeft:"2px",borderColor:"blue.400",width:["100%","100%","100%","30%"],maxWidth:["100%","100%","100%","30%"],pl:3,pr:2,flexGrow:1,mb:[2,2,2,0],children:e.jsx(p,{id:"title",borderRadius:"6px",size:"sm",placeholder:"Judul",type:"text",minLength:5,value:i.title,onChange:d,bg:"white",borderColor:"gray.400"})}),e.jsx(t,{width:["100%","100%","100%","30%"],maxWidth:["100%","100%","100%","30%"],pr:2,flexGrow:1,mb:[2,2,2,0],children:e.jsx(p,{id:"comment",size:"sm",borderRadius:"6px",placeholder:"Komentar",value:h.comment,onChange:d,type:"text",minLength:5,bg:"white",borderColor:"gray.400"})}),e.jsx(t,{width:["100%","100%","100%","20%"],maxWidth:["100%","100%","100%","20%"],pr:2,flexGrow:1,mb:[2,2,2,0],children:e.jsx(p,{id:"due_date",size:"sm",borderRadius:"6px",value:i.due_date,onChange:d,type:"date",color:"gray.600",bg:"white",borderColor:"gray.400"})}),e.jsx(t,{alignItems:"center",width:["100%","100%","100%","13%"],maxWidth:["100%","100%","100%","13%"],flexGrow:1,mb:[2,2,2,0],pr:[2,2,2,0],children:e.jsxs(v,{id:"progress_int",onChange:d,size:"sm",borderRadius:"6px",bg:"white",borderColor:"gray.400",children:[e.jsx("option",{value:"0",children:"Belum [0%]"}),e.jsx("option",{value:"100",children:"Selesai [100%]"}),u.map((r,a)=>e.jsxs("option",{value:r,children:[r," %"]},a))]})})]})]})};export{L as default};
