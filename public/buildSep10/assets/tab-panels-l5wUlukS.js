import{m as L,r as l,h as S,f as P,i as ne,o as ae,j as N,c as E,d as g,E as H}from"./app-BRf5toWG.js";import{m as F}from"./use-merge-refs-CHqHjQ4S.js";import{d as re}from"./attr-sHTFgF0E.js";import{c as R}from"./call-all-DDzecCnU.js";import{g as oe}from"./children-BMP1hdK-.js";function ce(n){const{wasSelected:e,enabled:t,isSelected:s,mode:a="unmount"}=n;return!!(!t||s||a==="keepMounted"&&e)}function ie(n){const{value:e,defaultValue:t,onChange:s,shouldUpdate:a=(h,T)=>h!==T}=n,r=L(s),c=L(a),[i,u]=l.useState(t),d=e!==void 0,f=d?e:i,I=L(h=>{const y=typeof h=="function"?h(f):h;c(f,y)&&(d||u(y),r(y))},[d,r,f,c]);return[f,I]}function z(n){return n.sort((e,t)=>{const s=e.compareDocumentPosition(t);if(s&Node.DOCUMENT_POSITION_FOLLOWING||s&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(s&Node.DOCUMENT_POSITION_PRECEDING||s&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(s&Node.DOCUMENT_POSITION_DISCONNECTED||s&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}const le=n=>typeof n=="object"&&"nodeType"in n&&n.nodeType===Node.ELEMENT_NODE;function B(n,e,t){let s=n+1;return t&&s>=e&&(s=0),s}function K(n,e,t){let s=n-1;return t&&s<0&&(s=e),s}const A=typeof window<"u"?l.useLayoutEffect:l.useEffect,$=n=>n;var de=Object.defineProperty,ue=(n,e,t)=>e in n?de(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,b=(n,e,t)=>(ue(n,typeof e!="symbol"?e+"":e,t),t);class fe{constructor(){b(this,"descendants",new Map),b(this,"register",e=>{if(e!=null)return le(e)?this.registerNode(e):t=>{this.registerNode(t,e)}}),b(this,"unregister",e=>{this.descendants.delete(e);const t=z(Array.from(this.descendants.keys()));this.assignIndex(t)}),b(this,"destroy",()=>{this.descendants.clear()}),b(this,"assignIndex",e=>{this.descendants.forEach(t=>{const s=e.indexOf(t.node);t.index=s,t.node.dataset.index=t.index.toString()})}),b(this,"count",()=>this.descendants.size),b(this,"enabledCount",()=>this.enabledValues().length),b(this,"values",()=>Array.from(this.descendants.values()).sort((t,s)=>t.index-s.index)),b(this,"enabledValues",()=>this.values().filter(e=>!e.disabled)),b(this,"item",e=>{if(this.count()!==0)return this.values()[e]}),b(this,"enabledItem",e=>{if(this.enabledCount()!==0)return this.enabledValues()[e]}),b(this,"first",()=>this.item(0)),b(this,"firstEnabled",()=>this.enabledItem(0)),b(this,"last",()=>this.item(this.descendants.size-1)),b(this,"lastEnabled",()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)}),b(this,"indexOf",e=>{var t;return e?((t=this.descendants.get(e))==null?void 0:t.index)??-1:-1}),b(this,"enabledIndexOf",e=>e==null?-1:this.enabledValues().findIndex(t=>t.node.isSameNode(e))),b(this,"next",(e,t=!0)=>{const s=B(e,this.count(),t);return this.item(s)}),b(this,"nextEnabled",(e,t=!0)=>{const s=this.item(e);if(!s)return;const a=this.enabledIndexOf(s.node),r=B(a,this.enabledCount(),t);return this.enabledItem(r)}),b(this,"prev",(e,t=!0)=>{const s=K(e,this.count()-1,t);return this.item(s)}),b(this,"prevEnabled",(e,t=!0)=>{const s=this.item(e);if(!s)return;const a=this.enabledIndexOf(s.node),r=K(a,this.enabledCount()-1,t);return this.enabledItem(r)}),b(this,"registerNode",(e,t)=>{if(!e||this.descendants.has(e))return;const s=Array.from(this.descendants.keys()).concat(e),a=z(s);t!=null&&t.disabled&&(t.disabled=!!t.disabled);const r={node:e,index:-1,...t};this.descendants.set(e,r),this.assignIndex(a)})}}function be(){const[n,e]=S({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});return[n,e,()=>{const a=l.useRef(new fe);return A(()=>()=>a.current.destroy()),a.current},a=>{const r=e(),[c,i]=l.useState(-1),u=l.useRef(null);A(()=>()=>{u.current&&r.unregister(u.current)},[]),A(()=>{if(!u.current)return;const f=Number(u.current.dataset.index);c!=f&&!Number.isNaN(f)&&i(f)});const d=$(a?r.register(a):r.register);return{descendants:r,index:c,enabledIndex:r.enabledIndexOf(u.current),register:F(d,u)}}]}function he(){const n=l.useRef(new Map),e=n.current,t=l.useCallback((a,r,c,i)=>{n.current.set(c,{type:r,el:a,options:i}),a.addEventListener(r,c,i)},[]),s=l.useCallback((a,r,c,i)=>{a.removeEventListener(r,c,i),n.current.delete(c)},[]);return l.useEffect(()=>()=>{e.forEach((a,r)=>{s(a.el,a.type,r,a.options)})},[s,e]),{add:t,remove:s}}function U(n){var a,r;const e=((r=(a=n.composedPath)==null?void 0:a.call(n))==null?void 0:r[0])??n.target,{tagName:t,isContentEditable:s}=e;return t!=="INPUT"&&t!=="TEXTAREA"&&s!==!0}function me(n={}){const{ref:e,isDisabled:t,isFocusable:s,clickOnEnter:a=!0,clickOnSpace:r=!0,onMouseDown:c,onMouseUp:i,onClick:u,onKeyDown:d,onKeyUp:f,tabIndex:I,onMouseOver:h,onMouseLeave:T,...y}=n,[p,k]=l.useState(!0),[C,x]=l.useState(!1),m=he(),X=o=>{o&&o.tagName!=="BUTTON"&&k(!1)},Y=p?I:I||0,O=t&&!s,V=l.useCallback(o=>{if(t){o.stopPropagation(),o.preventDefault();return}o.currentTarget.focus(),u==null||u(o)},[t,u]),w=l.useCallback(o=>{C&&U(o)&&(o.preventDefault(),o.stopPropagation(),x(!1),m.remove(document,"keyup",w,!1))},[C,m]),q=l.useCallback(o=>{if(d==null||d(o),t||o.defaultPrevented||o.metaKey||!U(o.nativeEvent)||p)return;const D=a&&o.key==="Enter";r&&o.key===" "&&(o.preventDefault(),x(!0)),D&&(o.preventDefault(),o.currentTarget.click()),m.add(document,"keyup",w,!1)},[t,p,d,a,r,m,w]),J=l.useCallback(o=>{if(f==null||f(o),t||o.defaultPrevented||o.metaKey||!U(o.nativeEvent)||p)return;r&&o.key===" "&&(o.preventDefault(),x(!1),o.currentTarget.click())},[r,p,t,f]),M=l.useCallback(o=>{o.button===0&&(x(!1),m.remove(document,"mouseup",M,!1))},[m]),Q=l.useCallback(o=>{if(o.button!==0)return;if(t){o.stopPropagation(),o.preventDefault();return}p||x(!0),o.currentTarget.focus({preventScroll:!0}),m.add(document,"mouseup",M,!1),c==null||c(o)},[t,p,c,m,M]),Z=l.useCallback(o=>{o.button===0&&(p||x(!1),i==null||i(o))},[i,p]),ee=l.useCallback(o=>{if(t){o.preventDefault();return}h==null||h(o)},[t,h]),te=l.useCallback(o=>{C&&(o.preventDefault(),x(!1)),T==null||T(o)},[C,T]),j=F(e,X);return p?{...y,ref:j,type:"button","aria-disabled":O?void 0:t,disabled:O,onClick:V,onMouseDown:c,onMouseUp:i,onKeyUp:f,onKeyDown:d,onMouseOver:h,onMouseLeave:T}:{...y,ref:j,role:"button","data-active":re(C),"aria-disabled":t?"true":void 0,tabIndex:O?void 0:Y,onClick:V,onMouseDown:Q,onMouseUp:Z,onKeyUp:J,onKeyDown:q,onMouseOver:ee,onMouseLeave:te}}const[xe,Te,pe,Ie]=be();function ye(n){const{defaultIndex:e,onChange:t,index:s,isManual:a,isLazy:r,lazyBehavior:c="unmount",orientation:i="horizontal",direction:u="ltr",...d}=n,[f,I]=l.useState(e??0),[h,T]=ie({defaultValue:e??0,value:s,onChange:t});l.useEffect(()=>{s!=null&&I(s)},[s]);const y=pe(),p=l.useId();return{id:`tabs-${n.id??p}`,selectedIndex:h,focusedIndex:f,setSelectedIndex:T,setFocusedIndex:I,isManual:a,isLazy:r,lazyBehavior:c,orientation:i,descendants:y,direction:u,htmlProps:d}}const[Ce,v]=S({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function Ne(n){const{focusedIndex:e,orientation:t,direction:s}=v(),a=Te(),r=l.useCallback(c=>{const i=()=>{var m;const x=a.nextEnabled(e);x&&((m=x.node)==null||m.focus())},u=()=>{var m;const x=a.prevEnabled(e);x&&((m=x.node)==null||m.focus())},d=()=>{var m;const x=a.firstEnabled();x&&((m=x.node)==null||m.focus())},f=()=>{var m;const x=a.lastEnabled();x&&((m=x.node)==null||m.focus())},I=t==="horizontal",h=t==="vertical",T=c.key,y=s==="ltr"?"ArrowLeft":"ArrowRight",p=s==="ltr"?"ArrowRight":"ArrowLeft",C={[y]:()=>I&&u(),[p]:()=>I&&i(),ArrowDown:()=>h&&i(),ArrowUp:()=>h&&u(),Home:d,End:f}[T];C&&(c.preventDefault(),C(c))},[a,e,t,s]);return{...n,role:"tablist","aria-orientation":t,onKeyDown:R(n.onKeyDown,r)}}function Pe(n){const{isDisabled:e=!1,isFocusable:t=!1,...s}=n,{setSelectedIndex:a,isManual:r,id:c,setFocusedIndex:i,selectedIndex:u}=v(),{index:d,register:f}=Ie({disabled:e&&!t}),I=d===u,h=()=>{a(d)},T=()=>{i(d),!r&&!(e&&t)&&a(d)};return{...me({...s,ref:F(f,n.ref),isDisabled:e,isFocusable:t,onClick:R(n.onClick,h)}),id:G(c,d),role:"tab",tabIndex:I?0:-1,type:"button","aria-selected":I,"aria-controls":W(c,d),onFocus:e?void 0:R(n.onFocus,T)}}const[Ee,ge]=S({});function ke(n){const e=v(),{id:t,selectedIndex:s}=e,r=oe(n.children).map((c,i)=>l.createElement(Ee,{key:c.key??i,value:{isSelected:i===s,id:W(t,i),tabId:G(t,i),selectedIndex:s}},c));return{...n,children:r}}function De(n){const{children:e,...t}=n,{isLazy:s,lazyBehavior:a}=v(),{isSelected:r,id:c,tabId:i}=ge(),u=l.useRef(!1);r&&(u.current=!0);const d=ce({wasSelected:u.current,isSelected:r,enabled:s,mode:a});return{tabIndex:0,...t,children:d?e:null,role:"tabpanel","aria-labelledby":i,hidden:!r,id:c}}function G(n,e){return`${n}--tab-${e}`}function W(n,e){return`${n}--tabpanel-${e}`}const[Se,_]=S({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),ve=P(function(e,t){const s=ne("Tabs",e),{children:a,className:r,...c}=ae(e),{htmlProps:i,descendants:u,...d}=ye(c),f=l.useMemo(()=>d,[d]),{isFitted:I,...h}=i,T={position:"relative",...s.root};return N.jsx(xe,{value:u,children:N.jsx(Ce,{value:f,children:N.jsx(Se,{value:s,children:N.jsx(E.div,{className:g("chakra-tabs",r),ref:t,...h,__css:T,children:a})})})})});ve.displayName="Tabs";const _e=P(function(e,t){const s=_(),a=Pe({...e,ref:t}),r=H({outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...s.tab});return N.jsx(E.button,{...a,className:g("chakra-tabs__tab",e.className),__css:r})});_e.displayName="Tab";const Oe=P(function(e,t){const s=Ne({...e,ref:t}),a=_(),r=H({display:"flex",...a.tablist});return N.jsx(E.div,{...s,className:g("chakra-tabs__tablist",e.className),__css:r})});Oe.displayName="TabList";const we=P(function(e,t){const s=De({...e,ref:t}),a=_();return N.jsx(E.div,{outline:"0",...s,className:g("chakra-tabs__tab-panel",e.className),__css:a.tabpanel})});we.displayName="TabPanel";const Me=P(function(e,t){const s=ke(e),a=_();return N.jsx(E.div,{...s,width:"100%",ref:t,className:g("chakra-tabs__tab-panels",e.className),__css:a.tabpanels})});Me.displayName="TabPanels";export{ve as T,Oe as a,_e as b,Me as c,we as d};
