import{r as n,b as j,j as e,S as Ee}from"./app-BRf5toWG.js";import{aS as wt,G as Dt,aA as Ge,f as $e,s as It,a0 as Ct,d as vt}from"./index-BhJBT7_l.js";import{F as M}from"./index.es-BtTm-lQZ.js";import{g as At,f as Pt}from"./index-B2KZh1O9.js";import{h as W}from"./moment-C5S46NFB.js";import Ft from"./Dashboard-DsJGisxN.js";import Lt from"./DataPegawai-g1S98x0p.js";import Rt from"./KinerjaMain-CUXoCCCj.js";import Kt from"./KpiMain-DYrHiyqk.js";import Tt from"./SpecialAdminMain-CT4U7pSi.js";import zt from"./KinerjaTable-B-f5GKyJ.js";import Et from"./KinerjaHistory-C2N2fpzP.js";import qt from"./ScoutModeMain-BQcQXXvp.js";import Mt from"./DemoAdjustDate-qfHdwm4M.js";import{a as me,s as z,b as Xe}from"./DateTools-DazUeWyn.js";import{$ as st,b as rt}from"./module-CH39G7Vr.js";import Ue from"./SelectInput-5OQyStZD.js";import I from"./TextInput-DFUIMgRm.js";import J from"./SelectInputNamco-D-bo0LW4.js";import ne from"./SelectInputProv-CwI3VUei.js";import Je from"./TextInputExtra-v7hewa_N.js";import Nt from"./UpImgProfile-DFAU_9S6.js";import Ot from"./TextInputExtraValidation-B5sH6EWE.js";import{F as s}from"./flex-DKwlgr-O.js";import{T}from"./text-CdRbiz2-.js";import{u as Vt}from"./use-toast-Mdy3JCFw.js";import{T as Wt,a as Yt,b as Qe,c as Ht,d as Be}from"./tab-panels-l5wUlukS.js";import{B as et}from"./badge-BWvN93--.js";import{S as De}from"./select-DiJvIInU.js";import{H as ge}from"./heading-D-CUm6-X.js";import{S as qe,a as Me,b as Ne,c as Oe}from"./stat-number-C7g0DWzl.js";import{B as it}from"./box-BqPd-jnX.js";import{C as ot}from"./circular-progress-By2wHYQi.js";import{C as lt}from"./circular-progress-label-CCSojFN_.js";import{F as Te}from"./use-form-control-DHIsxYm4.js";import{F as ze}from"./form-label-DWu6OXKn.js";import{I as tt}from"./input-DQBKHLse.js";import{S as Gt}from"./switch-DpbwZCoL.js";import{R as Ut,a as Ke}from"./radio-D7DRAibN.js";import{S as Jt}from"./stack-BP7DhAec.js";import{B as at}from"./button-Dm7yfw5z.js";/* empty css                          */import"./thead-jL1IYPIh.js";import"./tr-D0gvPZIT.js";import"./td-6W2IKI22.js";import"./cubic-DRPgKoYJ.js";import"./useCUstomToast-NY8UlRyl.js";import"./debounce-Dre-dTZu.js";import"./use-disclosure-B8l4uvt7.js";import"./modal-overlay-BIVDhjzn.js";import"./typeof-BVQB8lKn.js";import"./use-merge-refs-CHqHjQ4S.js";import"./call-all-DDzecCnU.js";import"./modal-close-button-U9C0B9Ng.js";import"./input-group-e4ltzjDZ.js";import"./children-BMP1hdK-.js";import"./input-addon-fzb-K6CY.js";import"./HistoryPerUser-KF49VoGM.js";import"./HistoryTaskItem-DjLwga2e.js";import"./HistoryTaskChildItem-DunXsuL4.js";import"./alert-dialog-C8VgP9bi.js";import"./attr-sHTFgF0E.js";import"./TaskChildEmpty-1l7DWmf9.js";import"./use-boolean-DWsdq_aC.js";import"./TaskItemKosong-Ce4Kqc4W.js";import"./TotalPercentage-a_8_4xyt.js";import"./TaskEmpty-C4FCZc1F.js";import"./ActiveUserTask-JZTzpAED.js";import"./TaskItem-DQlpCNyP.js";import"./TaskChildItem-DTu3bAnm.js";import"./AssignerTaskSymbol-77Jur8Yy.js";import"./AssignerColorInfo-BaLCesH5.js";import"./OtherUserTask-BmTrrmJR.js";import"./TopHead-BzHE1Prr.js";import"./GlobalPeriode-Du9z8UVp.js";import"./table-caption-CKqYDs5J.js";import"./tfooter-ptamC6F2.js";import"./card-body-Ca-xyVHv.js";import"./BaseNominalSetting-ClW7h1Ps.js";import"./UniversalLoading-2zv7oq6L.js";import"./KpiHomeTable-BwK7lm82.js";import"./UploadExcelTemplate-ZBY28_hL.js";import"./image-UHZF2dBf.js";import"./use-image-CxB9Ef0I.js";import"./responsive-CKTKN8qq.js";N(),N(),N(),N(),N(),N(),N(),N(),N();function se(a){return W(a).format("MMM DD")}function $t(a){const k=new Date(a),l=k.getDate();k.getMonth()+1;let y=null,_=null,w=null,b=null,g=null,x=null,S=null,m=null;if(l<20){const r=new Date(k);r.setMonth(r.getMonth()-1),r.setDate(20),y=r.toISOString().slice(0,10),w=r.getMonth(),g=r.getDate(),S=r.getFullYear();const i=new Date(k);i.setDate(19),_=i.toISOString().slice(0,10),b=i.getMonth(),x=i.getDate(),m=i.getFullYear()}else{const r=new Date(k);r.setDate(20),y=r.toISOString().slice(0,10),w=r.getMonth(),g=r.getDate(),S=r.getFullYear();const i=new Date(k);i.setMonth(i.getMonth()+1),i.setDate(19),_=i.toISOString().slice(0,10),b=i.getMonth(),x=i.getDate(),m=i.getFullYear()}return[y,_,w,b,g,x,S,m]}function Xt(a){const k=JSON.stringify(a);return JSON.parse(k)}function Zt(a){return Object.assign({},a)}function N(){const a=new Date,k=a.getFullYear();let l=a.getMonth()+1,y=a.getDate();return l<10&&(l="0"+l),y<10&&(y="0"+y),k+"-"+l+"-"+y}const En=({mainTheme:a,selectedMenu:k,dataPegawai:l,changeSelectedMenu:y,unitKerja:_,jabatanFun:w,jabatanStr:b,fakultas:g,prodi:x,listProvinsi:S,listkabupaten:m,listKabupaten2:r=null,listKecamatan:i=null,listDesa:D=null,listKecamatan2:P=null,listDesa2:A=null,showToast:F,selectedDataPegawai:Ie,dataDash:$,refreshToken:re,listAssigneKinerja:Y,activeBio:E,auth:X,userType:O,globalDosenMod:K,setSelectedMenu:t,shutDownAxios:L,filterConditions:je,setFilterConditions:ke,filterLoading:Ce,setFilterLoading:ve,dataPegawaiList:ie,setDataPegawaiList:be,doFilter:oe,selectedPegawaiId:Z,activeBioProps:Ae})=>{const[le,_e]=n.useState(!1),[de,Se]=n.useState(!1),[Pe,H]=n.useState(!1),[ue,ce]=n.useState(!1);n.useState(!1);const[Q,ye]=n.useState(!0);n.useEffect(()=>{j.post("/sik/determine-user-type",{by:"@rnamikaze"}).then(function(q){q.data.isTendikButTu?ce(!0):ce(q.data.forDosen)}).catch(function(q){})},[]);const[B,G]=n.useState([]),[ee,te]=n.useState([]),[R,he]=n.useState(null),[C,pe]=n.useState(!1),[Fe,U]=n.useState(!1),we=()=>{pe(!0);const q=z(R.value)[0],V=z(R.value)[1];j.post("/sik/get-task-percentage-list",{startDate:q,endDate:V,type:"tendik"}).then(function(v){v.data.success&&G(v.data.allData),pe(!1)}).catch(function(v){pe(!1)})},fe=()=>{U(!0);const q=z(R.value)[0],V=z(R.value)[1];j.post("/sik/get-task-percentage-list",{startDate:q,endDate:V,type:"dosen"}).then(function(v){v.data.success&&te(v.data.allData),U(!1)}).catch(function(v){U(!1)})};n.useEffect(()=>{R&&(we(),fe())},[R]),n.useEffect(()=>{he(me())},[]);const xe=()=>{switch(k){case 0:return e.jsx(e.Fragment,{children:Pe?e.jsx(Ft,{dataDash:$,mainTheme:a,setSelectedMenu:t}):e.jsx(s,{bg:a.mainBg,position:"relative",width:"100%",height:"100%",justifyContent:"center",alignItems:"center",children:e.jsx(Ee,{thickness:"4px",speed:"0.65s",emptyColor:"green.100",color:"green.600",size:"xl"})})});case 1:return e.jsx(Lt,{showToast:F,refreshToken:re,changeSelectedMenu:y,dataPegawaiPass:l,mainTheme:a,globalDosenMod:K,shutDownAxios:L,filterConditions:je,setFilterConditions:ke,filterLoading:Ce,setFilterLoading:ve,dataPegawai:ie,setDataPegawai:be,doFilter:oe});case 2:return e.jsx(e.Fragment,{children:ue?e.jsx(Bt,{isDosen:ue,listAssigneKinerja:Y,mainTheme:a,activeBio:E,auth:X,userType:O,globalDosenMod:K}):e.jsx(Rt,{listAssigneKinerja:Y,mainTheme:a,activeBio:E,auth:X,userType:O,globalDosenMod:K,currentPeriod:R,setCurrentperiod:he,retrieveKpiSummary:we,retrieveKpiDosenSummary:fe,isLoadingDataSummary:C,isLoadingDataDosenSummary:Fe})});case 5:return e.jsx(Kt,{changeSelectedMenu:y,activeBio:E,globalDosenMod:K});case 4:return e.jsx(e.Fragment,{children:ue?e.jsx(ea,{globalDosenMod:K,activeBio:E}):e.jsx(ta,{globalDosenMod:K,activeBio:E})});case 6:return e.jsx(Tt,{changeSelectedMenu:y,listTendik:B,listDosen:ee,setListTendik:G,setListDosen:te,currentPeriod:R,setCurrentperiod:he,retrieveKpiSummary:we,retrieveKpiDosenSummary:fe,isLoadingDataSummary:C,isLoadingDataDosenSummary:Fe});case 7:case 8:return e.jsxs(s,{width:"100%",height:"100%",justifyContent:"center",alignItems:"center",color:"#48bb78",fontSize:"18px",children:[e.jsx(M,{spin:!0,icon:$e}),"  Tunggu"]});case 9:return e.jsx(na,{user:X,userType:O,activeBioProps:Ae});case 101:return e.jsx(e.Fragment,{children:de?e.jsx(nt,{selectedDataPegawai:null,changeSelectedMenu:y,showToast:F,list_provinsi:S,unitKerja:_,jabatanFun:w,jabatanStr:b,fakultas:g,prodi:x,mainTheme:a,refreshDataPegawai:oe,selectedPegawaiId:Z}):e.jsx(s,{bg:a.mainBg,position:"relative",width:"100%",height:"100%",justifyContent:"center",alignItems:"center",children:e.jsx(Ee,{thickness:"4px",speed:"0.65s",emptyColor:"green.100",color:"green.600",size:"xl"})})});case 102:return e.jsx(e.Fragment,{children:le?e.jsx(nt,{editMode:!0,list_kabupaten:m,list_kabupaten2:r,list_kecamatan:i,list_desa:D,list_kecamatan2:P,list_desa2:A,selectedDataPegawai:Ie,changeSelectedMenu:y,showToast:F,list_provinsi:S,unitKerja:_,jabatanFun:w,jabatanStr:b,fakultas:g,prodi:x,mainTheme:a,refreshDataPegawai:oe,selectedPegawaiId:Z}):e.jsx(s,{bg:a.mainBg,position:"relative",width:"100%",height:"100%",justifyContent:"center",alignItems:"center",children:e.jsx(Ee,{thickness:"4px",speed:"0.65s",emptyColor:"green.100",color:"green.600",size:"xl"})})});default:return""}},Le=n.useCallback(()=>{[_,w,b,g,x,S,m,r,i,D,P,A].some(v=>v===null)?_e(!1):_e(!0),[_,w,b,g,x].some(v=>v===null)?Se(!1):Se(!0)},[_,w,b,g,x,S,m,r,i,D,P,A]);return n.useEffect(()=>{H(!0),Le()},[_,w,b,g,x,S,m,r,i,D,P,A]),n.useEffect(()=>{},[E]),e.jsxs(s,{width:"100%",pt:"0px",overflow:k===101||k===102||k===2||k===6?"auto":"hidden",mx:[0,0,0,2],my:[0,0,0,3],px:[0,0,0,3],className:"hide-scrbar",position:"relative",children:[Q?"":e.jsx(Qt,{}),xe()]})};function Qt(){return e.jsx(s,{width:"100%",height:"100%",justifyContent:"center",alignItems:"center",position:"absolute",top:"0px",left:"0px",bg:"#48bb78",color:"white",zIndex:30,borderRadius:"8px",children:e.jsxs(s,{direction:"column",children:[e.jsx(s,{fontSize:"45px",justifyContent:"center",mb:3,children:e.jsxs(s,{position:"relative",border:"2px",borderColor:"white",px:3,py:3,borderRadius:"6px",bg:"white",color:"green.400",children:[e.jsx(s,{position:"absolute",top:"-20px",right:"-20px",fontSize:"35px",color:"white",border:"2px",borderColor:"green.400",bg:"green.400",borderRadius:"full",children:e.jsx(M,{bounce:!0,icon:wt})}),e.jsx(M,{icon:Dt})]})}),e.jsx(s,{justifyContent:"center",fontSize:"18px",textAlign:"center",fontWeight:"bold",children:"Lengkapi Data Profile / Cerdas Mengisi !!!!"}),e.jsxs(T,{fontSize:"14px",mt:3,textAlign:"center",children:["Lengkapi data di beranda SSO"," ",e.jsx("span",{style:{display:"inline-flex",alignItems:"center",margin:"0px 4px"},children:e.jsx(M,{icon:Ge})})," ","Profil"," ",e.jsx("span",{style:{display:"inline-flex",alignItems:"center",margin:"0px 4px"},children:e.jsx(M,{icon:Ge})})," ","Edit Data"," ",e.jsx("span",{style:{display:"inline-flex",alignItems:"center",margin:"0px 4px"},children:e.jsx(M,{icon:Ge})})," ","lalu tekan"," ",e.jsx("span",{style:{fontWeight:"bold",margin:"0px 0px 0px 5px"},children:"SIMPAN"}),"."]}),e.jsxs(T,{fontSize:"14px",textAlign:"center",children:["Pastikan Data pada bagian"," ",e.jsx("span",{style:{fontWeight:"bold",margin:"0px 5px"},children:'"Status Kepegawaian"'})," ","terisi dengan benar."]}),e.jsx(s,{justifyContent:"center",textAlign:"center",fontSize:"14px",children:"(Berpengaruh terhadap nilai KPI) [YBS]"})]})})}function Bt({mainTheme:a,listAssigneKinerja:k,activeBio:l,auth:y,userType:_,globalDosenMod:w,isDosen:b}){const[g,x]=n.useState([]),[S,m]=n.useState(null),[r,i]=n.useState(!1),[D,P]=n.useState(null),[A,F]=n.useState([]),Ie=Vt(),$=n.useRef(),[re,Y]=n.useState(!0),[E,X]=n.useState(null);n.useState(0);const[O,K]=n.useState(!1),[t,L]=n.useState(W().format("YYYY-MM-DD")),[je,ke]=n.useState(!1),[Ce,ve]=n.useState(!1),[ie,be]=n.useState([]),[oe,Z]=n.useState("2014-11-11"),[Ae,le]=n.useState(""),[_e,de]=n.useState("2014-11-11"),[Se,Pe]=n.useState("");n.useState(null),n.useState(null);const[H,ue]=n.useState(0),[ce,Q]=n.useState(!1),ye=d=>{ue(d)},B=()=>{const d=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],p=$t(t);let f=p[0],We=p[1],Ye=`${p[4]} ${d[p[2]]} ${p[6]}`,c=`${p[5]} ${d[p[3]]} ${p[7]}`;Z(f),de(We),le(Ye),Pe(c)},G=d=>{P(me(new Date(z(d.target.value)[0])))},[ee,te]=n.useState([]);n.useState(!0),n.useState({defaultStatus:2,fullname:"User",jabatan:"Default",username:"default",statusKepegawaian:"Default"});const R=(d="update",p="warning",f=e.jsx(s,{alignItems:"center",height:"100%",children:e.jsx(M,{icon:Pt})}))=>{$.current&&Ie.update($.current,{title:d,status:p,icon:f})},he=()=>{ke(d=>!d)},C=(d="success",p="notification")=>{$.current=Ie({title:p,status:d,duration:9e3,isClosable:!0,position:"bottom-left"})};function pe(d){const p=Array.from(g);C("warning","Tunggu..."),j.post("/sik/create-new-task-dosen",d,{headers:{"Content-Type":"application/json"}}).then(function(f){if(f.data.good)return j.post("/sik/get-assigne-name-dosen",{id:l.unit_id,userId:l.id,struktural_dosen_id:l.jabatan_strukdos_id,fakultas_id:l.fakultas_id,customDate:t})}).then(function(f){m(f.data.userTask),R("Berhasil disimpan!","info")}).catch(function(f){C("warning","Terjadi Kesalahan!")}),i(!1),p.push(d),x(p)}function Fe(d){const p=Array.from(g);let f=Xt(p[d]);f.active=!f.active,p.splice(d,1,f),x(p)}const U=(d,p)=>{Zt(g[p]),C("warning","Tunggu..."),j.post("/sik/create-sub-task-dosen",d).then(function(f){if(f.data.good)return j.post("/sik/get-assigne-name-dosen",{id:l.unit_id,userId:l.id,struktural_dosen_id:l.jabatan_strukdos_id,fakultas_id:l.fakultas_id,customDate:t})}).then(function(f){m(f.data.userTask),R("Berhasil disimpan!","info")}).catch(function(f){C("warning","Terjadi Kesalahan!")})},we=(d,p)=>{C("success","Sedang mengubah..."),j.post("/sik/update-sub-task-dosen",p).then(function(f){if(f.data.good)return j.post("/sik/get-assigne-name-dosen",{id:l.unit_id,userId:l.id,struktural_dosen_id:l.jabatan_strukdos_id,fakultas_id:l.fakultas_id,customDate:t})}).then(function(f){m(f.data.userTask),R("Berhasil disimpan!","info")}).catch(function(f){C("warning","Terjadi Kesalahan!")})},fe=(d,p)=>{C("success","Tunggu..."),j.post("/sik/delete-sub-task-dosen",{id:d,taskId:p}).then(function(f){if(f.data.good)return j.post("/sik/get-assigne-name-dosen",{id:l.unit_id,userId:l.id,struktural_dosen_id:l.jabatan_strukdos_id,fakultas_id:l.fakultas_id,customDate:t})}).then(function(f){m(f.data.userTask),R("Berhasil dihapus!","info")}).catch(function(f){C("warning","Terjadi Kesalahan!")})};function xe(d){const p=Array.from(g);p.splice(d,1),x(p)}function Le(d){C("success","Tunggu..."),j.post("/sik/delete-task-dosen",{id:d}).then(function(p){if(p.data.deleteSuccess)return j.post("/sik/get-assigne-name-dosen",{id:l.unit_id,userId:l.id,struktural_dosen_id:l.jabatan_strukdos_id,fakultas_id:l.fakultas_id,customDate:t})}).then(function(p){m(p.data.userTask),R("Berhasil dihapus!","info")}).catch(function(p){C("warning","Terjadi Kesalahan!")})}const q=(d,p)=>{d.preventDefault()},V=()=>{Q(!0);const d=z(D.value)[0],p=z(D.value)[1];j.post("/sik/get-task-history-dosen",{id:l.unit_id,userId:l.id,struktural_id:l.jabatan_strukdos_id,fakultas_id:l.fakultas_id,startDate:d,endDate:p}).then(function(f){F(f.data.assigneList),te(f.data.userTask),Q(!1)}).catch(function(f){Q(!1)})},v=d=>{const p=d.target.value;L(p),B(),j.post("/sik/get-assigne-name-dosen",{id:l.unit_id,userId:l.id,struktural_dosen_id:l.jabatan_strukdos_id,fakultas_id:l.fakultas_id,customDate:p}).then(function(f){m(f.data.userTask)}).catch(function(f){}),j.post("/sik/get-task-history",{id:l.unit_id,userId:l.id,struktural_dosen_id:l.jabatan_strukdos_id,fakultas_id:l.fakultas_id,customDate:t}).then(function(f){te(f.data.userTask)}).catch(function(f){})};n.useEffect(()=>{D&&V()},[D]);const Re=()=>{j.post("/sik/get-assigne-name-dosen",{id:l.unit_id,userId:l.id,struktural_dosen_id:l.jabatan_strukdos_id,fakultas_id:l.fakultas_id}).then(function(d){m(d.data.userTask),F(d.data.assigneList),Y(!1)}).catch(function(d){}),j.post("/sik/get-user-additional-info-dosen",{struktural_dosen_id:l.jabatan_strukdos_id,fakultas_id:l.fakultas_id}).then(function(d){X(parseInt(d.data.jabatan_level))}).catch(function(d){})};n.useEffect(()=>{const d=["adminsdmunusida"];_<=1||d.includes(y.user.username)?_!==null?(K(!0),Y(!1)):K(null):(K(!1),_!==null&&Re())},[_]);function Ve(d){j.post("/sik/update-periode-task-dosen",{task_id:d}).then(function(p){j.post("/sik/get-assigne-name-dosen",{id:l.unit_id,userId:l.id,struktural_dosen_id:l.jabatan_strukdos_id,fakultas_id:l.fakultas_id}).then(function(f){m(f.data.userTask),F(f.data.assigneList),C("success","Periode Task Diperbarui")}).catch(function(f){C("warning","Gagal Diperbarui")})}).catch(function(p){})}return n.useEffect(()=>{B()},[S]),n.useEffect(()=>{y&&y.user.username==="adminsdmunusida"&&K(!0),be(Xe("12/2024")),P(me())},[]),e.jsx(e.Fragment,{children:re?e.jsxs(s,{height:"200px",alignItems:"center",width:"100%",justifyContent:"center",direction:"column",children:[e.jsx(T,{size:"18px",mb:3,color:"gray.600",children:"Memuat..."}),e.jsx(Ee,{thickness:"4px",speed:"0.35s",emptyColor:"gray.200",color:"gray.600",size:"md"})]}):e.jsxs(s,{position:"relative",width:"100%",height:"max-content",borderRadius:"10px",direction:"column",boxSizing:"border-box",className:"hide-scrbar",children:[ce?e.jsx(s,{position:"absolute",width:"100%",height:"200px",zIndex:5,justifyContent:"center",alignItems:"flex-end",mt:"100px",children:e.jsxs(s,{px:1,py:1,direction:"column",color:"#2fa24b",alignItems:"center",justifyContent:"center",children:[e.jsx(st,{color:"#48bb78",width:"60",visible:!0,ariaLabel:"falling-circles-loading"}),e.jsx(s,{color:"#48bb78",fontWeight:"bold",fontSize:"14px",textAlign:"center",children:"MEMUAT"})]})}):"",Ce?e.jsx(s,{position:"fixed",right:je?"0px":"-225px",zIndex:20,boxShadow:"lg",alignSelf:"flex-end",width:"250px",transition:"250ms ease-out",children:e.jsx(Mt,{showDateAdjust:je,customDate:t,reloadWithNewDate:v,mainTheme:a,toggleDateAdjust:he,setIsLoading:Y})}):"",O?e.jsx(qt,{mainTheme:a,listAssigne:A,taskList:ee,userActiveLevel:E,activeBio:l,periodeList:ie,setIsLoading:Y,isLoading:re}):e.jsxs(Wt,{align:"end",variant:"soft-rounded",colorScheme:"green",index:H,onChange:ye,size:"sm",position:"relative",children:[e.jsxs(Yt,{display:"flex",py:2,px:1,pr:2,borderRadius:"6px",flexDirection:["column","column","column","row"],bg:"white",children:[e.jsxs(s,{fontSize:"13px",alignItems:"flex-start",px:3,width:"100%",direction:"column",children:[e.jsxs(s,{color:"gray.500",alignItems:"center",children:["Periode  ",e.jsx(M,{icon:It})]}),e.jsxs(s,{color:"gray.500",children:[e.jsx(et,{colorScheme:"gray",mr:2,children:Ae})," ","ke"," ",e.jsx(et,{colorScheme:"gray",ml:2,children:Se})]})]}),H===1?e.jsx(s,{position:"relative",width:"max-content",alignItems:"flex-start",height:"100%",mr:3,direction:"column",px:[3,3,3,0],pt:[2,2,2,0],mt:1,children:e.jsx(De,{width:["100%","100%","100%","max-content"],size:"sm",borderColor:"gray.300",bg:"gray.50",id:"periode_change",onChange:G,value:D.value,defaultValue:ie.length-1,borderRadius:"4px",alignSelf:"center",children:ie.map(d=>e.jsx("option",{value:d.value,children:d.title},d.id))})}):"",e.jsxs(s,{px:[3,3,3,0],pt:[3,3,3,0],children:[e.jsx(Qe,{fontSize:["13px","13px","14px","15px"],width:"max-content",children:"Dosen Task"}),e.jsx(Qe,{onClick:V,fontSize:["13px","13px","14px","15px"],children:"History"})]})]}),ce?"":e.jsxs(Ht,{position:"relative",children:[e.jsx(Be,{px:0,children:e.jsx(zt,{getAssigneName:Re,updateKinerjaPeriodeTask:Ve,isDosen:b,customDate:t,callMyToast:C,userActiveLevel:E,isLoading:re,deleteFromDB:Le,activeBio:l,listAssigne:A,allUserTaskList:S,deleteChildToParent:fe,addChildToParent:U,deleteTask:xe,addNewTask:pe,saveData:q,setShowEmptyTask:i,showEmptyTask:r,toggleSelectedDisableItem:Fe,userTaskList:g,mainTheme:a,updateSubTask:we,periodeDate:[oe,_e]})}),e.jsx(Be,{px:0,children:e.jsx(Et,{listAssigne:A,historyList:ee,setHistoryList:te,userActiveLevel:E,activeBio:l,mainTheme:a})})]})]})]})})}function ea({activeBio:a,globalDosenMod:k}){const[l,y]=n.useState([{undoneTask:0,TotalTask:0,ketercapaian:0,startPeriode:W().format("YYYY-MM-DD"),endPeriode:W().format("YYYY-MM-DD")}]);n.useState(!0),n.useState([W().format("MMM DD"),W().format("MMM DD")]),n.useState({defaultStatus:2,fullname:"User",jabatan:"Default",username:"default",statusKepegawaian:"Default"});const _=i=>i>=65?"blue.400":i>=30?"orange.400":"red.400",w=i=>parseInt(i.jabatan_id)<=2||parseInt(i.jabatan_id)===6?"Fakultas "+i.nama_fakultas:"Prodi "+i.nama_prodi,[b,g]=n.useState([]),[x,S]=n.useState(null),[m,r]=n.useState(!1);return n.useEffect(()=>{if(a!==null||x){const i=z((x==null?void 0:x.value)??"")[0]??"",D=z((x==null?void 0:x.value)??"")[1]??"";r(!0),j.post("/sik/get-dash-summary-dosen",{id:a.id,struktural_id:a.jabatan_strukdos_id,unitId:(a==null?void 0:a.unit_id)??"",start_periode:i,end_periode:D}).then(function(P){P.data.success&&y(P.data.dashSummary),r(!1)}).catch(function(P){r(!1)})}},[a,x]),n.useEffect(()=>{g(Xe("12/2024")??[]),S(me()??null)},[]),e.jsx(e.Fragment,{children:m?e.jsxs(s,{height:"400px",alignItems:"center",width:"100%",justifyContent:"center",direction:"column",children:[e.jsx(rt,{height:"60",width:"60",color:"#2fa24b",ariaLabel:"audio-loading",visible:!0}),e.jsx(T,{textTransform:"uppercase",fontSize:"14px",fontWeight:"bold",mb:3,mt:2,color:"#2fa24b",children:"Memuat"})]}):e.jsxs(s,{my:["10px","10px",0,0],mx:["10px","10px",0,0],direction:"column",width:"100%",height:window.innerHeight-80+"px",overflow:"auto",borderRadius:"6px",boxShadow:"md",bg:"white",px:3,py:2,children:[e.jsxs(s,{direction:"column",mb:2,borderBottom:"1px",borderBottomColor:"gray.100",pb:2,children:[e.jsx(s,{fontSize:"13px",color:"gray.600",borderRadius:"2px",children:"Ganti Periode"}),e.jsxs(De,{width:"max-content",bg:"gray.50",borderRadius:"4px",size:"sm",value:(x==null?void 0:x.value)??"",onChange:i=>{S(me(new Date(z(i.target.value??"")[0]??"")))},border:"1px",borderColor:"gray.300",children:[e.jsx("option",{value:"",disabled:!0,children:"Pilih Periode"}),b==null?void 0:b.map(i=>e.jsx("option",{value:(i==null?void 0:i.value)??"",children:(i==null?void 0:i.title)??""},(i==null?void 0:i.id)??""))]})]}),(Array.isArray(l)?l:[]).map((i,D)=>e.jsxs(s,{border:"2px",mb:2,borderRadius:"6px",borderColor:"green.200",bg:"white",direction:"column",children:[e.jsxs(s,{direction:"column",children:[e.jsx(ge,{px:3,py:1,pt:2,as:"h3",fontSize:["sm","sm","sm","md"],children:i.name}),e.jsxs(s,{px:3,py:1,fontSize:"12px",width:"100%",bg:"gray.300",children:[i.nama_jabatan," -"," ",w(i)]})]}),e.jsxs(s,{px:"3",py:2,direction:["column","column","column","row"],children:[e.jsx(s,{flexGrow:1,children:e.jsxs(qe,{fontSize:"sm",children:[e.jsx(Me,{children:"Task Terselesaikan"}),e.jsxs(Ne,{children:[i.TotalTask-i.undoneTask,"/",i.TotalTask]}),e.jsxs(Oe,{children:[se(i.startPeriode)," ","- ",se(i.endPeriode)]})]})}),e.jsxs(s,{alignItems:"center",flexGrow:1,children:[e.jsx(s,{mr:3,children:e.jsxs(qe,{children:[e.jsx(Me,{children:"Total Ketercapaian"}),e.jsxs(Ne,{children:[i.ketercapaian.toFixed(0),"%"]}),e.jsxs(Oe,{children:[se(i.startPeriode)," ","-"," ",se(i.endPeriode)]})]})}),e.jsx(it,{display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",width:"max-content",height:"max-content",px:"3px",py:"3px",children:e.jsx(ot,{value:i.ketercapaian.toFixed(0),color:_(i.ketercapaian.toFixed(0)),thickness:"15px",children:e.jsx(lt,{children:i.ketercapaian.toFixed(0)})})})]})]})]}))]})})}function ta({activeBio:a,globalDosenMod:k}){const[l,y]=n.useState({undoneTask:0,TotalTask:0,ketercapaian:0,startPeriode:W().format("YYYY-MM-DD"),endPeriode:W().format("YYYY-MM-DD")});n.useState(!0),n.useState([W().format("MMM DD"),W().format("MMM DD")]),n.useState({defaultStatus:2,fullname:"User",jabatan:"Default",username:"default",statusKepegawaian:"Default"});const _=r=>r>=65?"blue.400":r>=30?"orange.400":"red.400",[w,b]=n.useState([]),[g,x]=n.useState(null),[S,m]=n.useState(!1);return n.useEffect(()=>{if(a&&g){const r=z((g==null?void 0:g.value)??"")[0]??"",i=z((g==null?void 0:g.value)??"")[1]??"";m(!0),j.post("/sik/get-dash-summary",{id:(a==null?void 0:a.id)??"",struktural_id:(a==null?void 0:a.jabatan_struktural_id)??"",unitId:(a==null?void 0:a.unit_id)??"",start_periode:r,end_periode:i}).then(function(D){y((D==null?void 0:D.data)??{}),m(!1)}).catch(function(){m(!1)})}},[a,g]),n.useEffect(()=>{b(Xe("12/2024")??[]),x(me()??null)},[]),e.jsx(e.Fragment,{children:k?e.jsx(DevModeWarning,{}):e.jsx(e.Fragment,{children:S?e.jsxs(s,{height:"400px",alignItems:"center",width:"100%",justifyContent:"center",direction:"column",children:[e.jsx(rt,{height:"60",width:"60",color:"#2fa24b",ariaLabel:"audio-loading",visible:!0}),e.jsx(T,{textTransform:"uppercase",fontSize:"14px",fontWeight:"bold",mb:3,mt:2,color:"#2fa24b",children:"Memuat"})]}):e.jsxs(s,{direction:"column",width:"100%",height:window.innerHeight-80+"px",overflow:"auto",border:"1px",borderRadius:"6px",borderColor:"gray.200",boxShadow:"md",bg:"white",px:3,py:2,children:[e.jsxs(s,{direction:"column",mb:2,borderBottom:"1px",borderBottomColor:"gray.100",pb:2,children:[e.jsx(s,{fontSize:"13px",color:"gray.600",borderRadius:"2px",children:"Ganti Periode"}),e.jsxs(De,{width:"max-content",bg:"gray.50",borderRadius:"4px",size:"sm",value:(g==null?void 0:g.value)??"",onChange:r=>{x(me(new Date(z(r.target.value??"")[0]??"")))},border:"1px",borderColor:"gray.300",children:[e.jsx("option",{value:"",disabled:!0,children:"Pilih Periode"}),w==null?void 0:w.map(r=>e.jsx("option",{value:(r==null?void 0:r.value)??"",children:(r==null?void 0:r.title)??""},(r==null?void 0:r.id)??""))]})]}),(Array.isArray(l)?l:[]).map((r,i)=>e.jsxs(s,{border:"2px",mb:2,borderRadius:"4px",borderColor:"green.200",px:"3",py:2,bg:"green.50",direction:"column",_hover:{boxShadow:"md"},children:[e.jsx(s,{children:e.jsx(ge,{as:"h3",fontSize:["sm","sm","sm","md"],children:(r==null?void 0:r.name)??"Unknown"})}),e.jsxs(s,{direction:["column","column","column","row"],children:[e.jsx(s,{flexGrow:1,children:e.jsxs(qe,{fontSize:"sm",children:[e.jsx(Me,{children:"Task Terselesaikan"}),e.jsxs(Ne,{children:[((r==null?void 0:r.TotalTask)??0)-((r==null?void 0:r.undoneTask)??0),"/",(r==null?void 0:r.TotalTask)??0]}),e.jsxs(Oe,{children:[se((r==null?void 0:r.startPeriode)??"")," ","-"," ",se((r==null?void 0:r.endPeriode)??"")]})]})}),e.jsxs(s,{alignItems:"center",flexGrow:1,children:[e.jsx(s,{mr:3,children:e.jsxs(qe,{children:[e.jsx(Me,{children:"Total Ketercapaian"}),e.jsxs(Ne,{children:[((r==null?void 0:r.ketercapaian)??0).toFixed(0),"%"]}),e.jsxs(Oe,{children:[se((r==null?void 0:r.startPeriode)??"")," ","-"," ",se((r==null?void 0:r.endPeriode)??"")]})]})}),e.jsx(it,{display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",px:"3px",py:"3px",children:e.jsx(ot,{value:((r==null?void 0:r.ketercapaian)??0).toFixed(0),color:_(((r==null?void 0:r.ketercapaian)??0).toFixed(0)),thickness:"15px",children:e.jsx(lt,{children:((r==null?void 0:r.ketercapaian)??0).toFixed(0)})})})]})]})]},i))]})})})}const aa="PROFILE_IMG_NAME",nt=({mainTheme:a=null,unitKerja:k=null,jabatanFun:l=null,jabatanStr:y=null,fakultas:_=null``,prodi:w=null,list_provinsi:b,list_kabupaten:g=null,list_kabupaten2:x=null,list_kecamatan:S=null,list_desa:m=null,list_kecamatan2:r=null,list_desa2:i=null,showToast:D=null,changeSelectedMenu:P=null,selectedDataPegawai:A=null,editMode:F=!1,refreshDataPegawai:Ie=null,selectedPegawaiId:$=null})=>{const[re,Y]=n.useState([]),[E,X]=n.useState([]),[O,K]=n.useState(null),[t,L]=n.useState(null),[je,ke]=n.useState([]),[Ce,ve]=n.useState([]),[ie,be]=n.useState([]),[oe,Z]=n.useState([]),[Ae,le]=n.useState([]),[_e,de]=n.useState([]),[Se,Pe]=n.useState(!F),[H,ue]=n.useState(A===null?!0:A[1].provinsi_2===null||A[1].provinsi_2===""),[ce,Q]=n.useState(F),[ye,B]=n.useState(!0),[G,ee]=n.useState(!0),[te,R]=n.useState(A===null?"":A[0].nik),[he,C]=n.useState([]),[pe,Fe]=n.useState(A===null?"":A[0].email),[U,we]=n.useState(new FormData),[fe,xe]=n.useState(!1),Le=()=>{xe(!0),j.post("/sik/get-data-pegawai-axios",{by:"@rnamikaze",biodata_id:$}).then(function(o){o.data.success&&L(o.data.selectedDataPegawai),xe(!1)}).catch(function(o){xe(!1)})},q=()=>{const o=document.head.querySelector('meta[name="csrf-token"]').content;t.email===pe&&F?B(!0):fetch("/sik/check-email",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":o},body:JSON.stringify({email:t.email})}).then(h=>h.json()).then(h=>{h[0]===1?B(!1):B(!0)}).catch(h=>{})},V=()=>{const o=document.head.querySelector('meta[name="csrf-token"]').content;t.nik===te&&F?ee(!0):fetch("/sik/check-nik",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":o},body:JSON.stringify({nik:t.nik})}).then(h=>h.json()).then(h=>{h[0]===1?ee(!1):ee(!0)}).catch(h=>{})},[v,Re]=n.useState(!1),Ve=o=>{o.preventDefault(),Re(!0),localStorage.removeItem(aa),U.delete("*"),Object.keys(t).forEach(h=>{U.append(h,t[h])}),j.post("/sik/simpan-tambah-pegawai",U,{headers:{"Content-Type":"multipart/form-data;"}}).then(function(h){D("Berhasil disimpan, tunggu...."),setTimeout(()=>{P(1)},2e3)}).catch(function(h){D("Terjadi Kesalahan (Kabari DEV)"),Re(!1)})},[d,p]=n.useState(!1),f=o=>{o.preventDefault(),p(!0),j.post("/sik/simpan-ubah-pegawai",t).then(function(h){h.data.good?(D("Disimpan, tunggu...."),setTimeout(()=>{P(1)},2e3)):(D("Gagal Menyimpan !","danger"),p(!1))}).catch(function(h){p(!1)})};function We(){ue(h=>!h);let o=t;H===!1&&(de([]),Z([]),le([]),t.provinsi_2="",t.kota_kab_2="",t.kecamatan_2="",t.desa_kel_2="",t.rw_2="",t.rt_2="",t.kodepos_2="",L(o))}const Ye=o=>{j.post("/sik/get-struktural",{id:o}).then(function(h){X(h.data)}).catch(function(h){})};function c(o){const h=o.target.id;let u=o.target.value,ae="";h==="unit_id"&&Ye(u);const _t=["nik_ktp","telepon","kerabat_telepon","rt","rw","kodepos","rt_2","rw_2","kodepos_2","tinggi_badan","berat_badan","no_bpjs_kes","no_bpjs_kerja"],St=["fullname","tempat_lahir","minat","bakat","kompetensi","kerabat_nama","kerabat_hubungan"];["nik","nidn"].includes(h)&&(ae=u.replace(/[^a-zA-Z0-9]/g,""),u=ae),_t.includes(h)&&(ae=u.replace(/\D/g,""),u=ae),St.includes(h)&&(ae=u.replace(/[^a-zA-Z.,\s]/g,""),u=ae),h==="email"&&(ae=u.replace(/\s/g,""),u=ae),L(yt=>({...yt,[h]:u}))}const dt=o=>{const h=o.target.value;fetch("/api/get-kabupaten/"+h).then(u=>u.json()).then(u=>{ke(u)}).catch(u=>{}),c(o)},ut=o=>{const h=o.target.value;fetch("/api/get-kecamatan/"+h).then(u=>u.json()).then(u=>{ve(u)}).catch(u=>{}),c(o)},ct=o=>{const h=o.target.value;fetch("/api/get-desa/"+h).then(u=>u.json()).then(u=>{be(u)}).catch(u=>{}),c(o)},ht=o=>{const h=o.target.value;fetch("/api/get-kabupaten/"+h).then(u=>u.json()).then(u=>{Z(u)}).catch(u=>{}),c(o)},pt=o=>{const h=o.target.value;fetch("/api/get-kecamatan/"+h).then(u=>u.json()).then(u=>{le(u)}).catch(u=>{}),c(o)},ft=o=>{const h=o.target.value;fetch("/api/get-desa/"+h).then(u=>u.json()).then(u=>{de(u)}).catch(u=>{}),c(o)},[xt,gt]=n.useState([]),[mt,jt]=n.useState([]),[Ze,He]=n.useState(!1),kt=()=>{He(!0),j.post("/sik/get-status-kerja-list",{by:"@rnamikaze"}).then(function(o){o.data.success&&(gt(o.data.statusKerjaList),jt(o.data.staffFakultasList)),He(!1)}).catch(function(o){He(!1)})};n.useEffect(()=>{[ye,G].some(h=>h===!1)?t.email.length>6&&Q(!1):Q(!0)},[ye,G]),n.useEffect(()=>{k!==null&&Y(k)},[k]);const bt=n.useCallback(()=>{[b,g,x,S,m,r,i].some(h=>h===null)||(ke(g),Z(x),ve(S),le(r),be(m),de(i))},[b,g,x,S,m,r,i]);return n.useEffect(()=>{bt()},[b,g,x,S,m,r,i]),n.useEffect(()=>{L(o=>({...o,imgTemp:O}))},[O]),n.useEffect(()=>{t&&setTimeout(()=>{j.post("/sik/get-struktural",{id:t.unit_id}).then(function(o){X(o.data)}).catch(function(o){})},500)},[t]),n.useEffect(()=>{kt(),Le(),$||L({initial:"sik",modeEdit:F,nik:"",fullname:"",tempat_lahir:"",tanggal_lahir:N(),tinggi_badan:0,berat_badan:0,kelamin:0,nidn:0,telepon:"",email:"",pendidikan_terakhir:"",url_ijazah:"",no_bpjs_kes:"",no_bpjs_kerja:"",status:"",unit_id:"",jabatan_struktural_id:"",jabatan_fungsional_id:"",status_serdos:"",fakultas:"",prodi:"",imgFile:null,kerabat_nama:"",kerabat_hubungan:"",kerabat_telepon:"",provinsi:"",kota_kab:"",kecamatan:"",desa_kel:"",rt:"",rw:"",kodepos:"",provinsi_2:"",kota_kab_2:"",kecamatan_2:"",desa_kel_2:"",rt_2:"",rw_2:"",kodepos_2:"",imgTemp:O,jabatan_strukdos_id:"",nik_ktp:"",awal_kerja:N(),minat:"",bakat:"",kompetensi:"",status_pernikahan:0,kepangkatan:"",studi_lanjut:"",status_kerja:""}),j.post("/sik/jabatan-strukdos-list",{by:"@rnamikaze"}).then(function(o){C(o.data)}).catch(function(o){})},[]),!t||fe?e.jsxs(s,{direction:"column",width:"100%",height:"400px",justifyContent:"center",alignItems:"center",children:[e.jsx(st,{color:"#4fa94d",width:"60",visible:!0,ariaLabel:"falling-circles-loading"}),e.jsx(s,{textTransform:"uppercase",letterSpacing:"2px",fontSize:"14px",color:"green.400",fontWeight:"bold",children:"Memuat"})]}):e.jsx(s,{maxHeight:window.innerHeight-70,sx:{"&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},children:e.jsxs(s,{bg:a.boxBg,width:"100%",maxWidth:"100%",height:"max-content",borderRadius:"6px",direction:"column",pt:3,pb:3,children:[e.jsxs(s,{width:"100%",height:"max-content",bg:a.primary,px:2,py:1,pt:2,alignItems:"center",children:[e.jsx(s,{mr:3,cursor:"pointer",onClick:()=>{P(1)},children:e.jsx(M,{style:{color:"white"},icon:Ct})}),e.jsx(ge,{color:a.boxBg,fontSize:"20px",fontWeight:"bold",children:"Tambah Pegawai"})]}),e.jsx(Nt,{editMode:F,mainTheme:a,selectedDataPegawai:A,pfImgLoaded:Se,setPfImgLoaded:Pe,values:t,setValues:L,setPreviewPath:K,previewPath:O}),e.jsxs("form",{as:"form",onSubmit:F?f:Ve,children:[e.jsx(s,{direction:["column","column","column","row"],width:"100%",height:"max-content",borderBottom:"2px",borderColor:"gray.200",pb:3,children:e.jsxs(s,{direction:"column",flexGrow:1,px:4,py:4,children:[e.jsx(T,{fontSize:"md",fontWeight:"bold",color:a.heading,textDecoration:"underline",children:"Biodata"}),e.jsxs(s,{width:"100%",direction:"column",children:[e.jsx(Je,{idField:"nik",onChangeAction:c,onBlurAction:V,maxL:18,value:t.nik,title:"NIK Dosen/Tendik",placeholder:"NIK Dosen/Tendik",mainTheme:a,invalid:!G,required:!1,showRequired:!0}),e.jsx(Je,{idField:"nidn",onChangeAction:c,onBlurAction:V,maxL:18,value:t.nidn===null?" ":t.nidn,title:"NIDN",placeholder:"NIDN",mainTheme:a,invalid:!G,required:!1}),e.jsx(Ot,{idField:"nik_ktp",onChangeAction:c,value:t.nik_ktp,title:"NIK KTP",placeholder:"NIK KTP",mainTheme:a,required:!1,showRequired:!0}),e.jsx(I,{idField:"fullname",onChangeAction:c,value:t.fullname,title:"Nama Dosen/Tendik",placeholder:"Nama Dosen/Tendik",mainTheme:a,required:!1,showRequired:!0}),e.jsxs(s,{width:"100%",direction:["column","column","column","row"],children:[e.jsx(I,{idField:"tempat_lahir",onChangeAction:c,value:t.tempat_lahir,title:"Tempat Lahir",placeholder:"Tempat Lahir",mainTheme:a,mr:2,required:!1,showRequired:!0}),e.jsxs(Te,{mt:1,children:[e.jsxs(ze,{fontSize:"sm",children:["Tanggal Lahir",e.jsx(T,{display:"inline",fontSize:"16px",color:"red.500",children:"*"})]}),e.jsx(tt,{id:"tanggal_lahir",onChange:c,value:t.tanggal_lahir,bg:"gray.200",placeholder:"Select Date and Time",size:"sm",type:"date"})]})]}),e.jsxs(s,{width:"100%",direction:["column","column","column","row"],alignItems:["flex-start","flex-start","flex-end","flex-end"],children:[e.jsx(Ue,{idField:"kelamin",onChangeAction:c,mainTheme:a,title:"Jenis Kelamin",placeholder:"Pilih",mt:1,mr:3,selected:t.kelamin,arrayValue:[{id:0,title:"Perempuan",value:0},{id:1,title:"Laki - Laki",value:1}],required:!1,showRequired:!0}),e.jsx(I,{idField:"tinggi_badan",onChangeAction:c,maxL:3,value:t.tinggi_badan,title:e.jsxs(e.Fragment,{children:["Tinggi Badan ",e.jsx("span",{style:{fontSize:"9px",fontWeight:"bold",position:"relative",top:"-4px"},children:"(CM)"})]}),placeholder:"Cth: 170",mainTheme:a,mr:3,required:!1}),e.jsx(I,{idField:"berat_badan",onChangeAction:c,maxL:3,value:t.berat_badan,title:e.jsxs(e.Fragment,{children:["Berat Badan ",e.jsx("span",{style:{fontSize:"9px",fontWeight:"bold",position:"relative",top:"-4px"},children:"(KG)"})]}),placeholder:"Cth: 60",mainTheme:a,required:!1})]})]})]})}),e.jsxs(s,{width:"100%",height:"max-content",direction:["column","column","column","row"],children:[e.jsxs(s,{flexGrow:1,maxWidth:["100%","100%","100%","48%"],direction:"column",borderRight:["0px","0px","0px","2px solid #e2e8f0"],borderBottom:"2px",borderColor:"gray.200",pt:2,px:3,pb:5,children:[e.jsx(s,{height:"40px",alignItems:"center",children:e.jsx(ge,{color:a.heading,fontSize:"15px",fontWeight:"bold",children:e.jsx(T,{textDecoration:"underline",children:"Alamat Sesuai KTP"})})}),e.jsxs(s,{direction:["column","column","column","row"],children:[e.jsx(ne,{title:"Provinsi",placeholder:"PILIH PROVINSI",mainTheme:a,idField:"provinsi",value:t.provinsi,onChangeAction:dt,mt:1,mr:3,arrayValue:b,required:!1,showRequired:!0}),e.jsx(ne,{title:"Kabupaten",placeholder:"PILIH KABUPATEN",mainTheme:a,idField:"kota_kab",value:t.kota_kab,onChangeAction:ut,mt:1,mr:0,arrayValue:je,required:!1,showRequired:!0})]}),e.jsxs(s,{direction:["column","column","column","row"],children:[e.jsx(ne,{title:"Kecamatan",placeholder:"PILIH KECAMATAN",mainTheme:a,idField:"kecamatan",value:t.kecamatan,onChangeAction:ct,mt:1,mr:3,arrayValue:Ce,required:!1,showRequired:!0}),e.jsx(ne,{title:"Desa/Kelurahan",placeholder:"PILIH DESA",mainTheme:a,idField:"desa_kel",value:t.desa_kel,onChangeAction:c,mt:1,mr:0,arrayValue:ie,required:!1,showRequired:!0})]}),e.jsxs(s,{direction:["column","column","column","row"],children:[e.jsx(I,{title:"RT",placeholder:"RT",mainTheme:a,idField:"rt",value:t.rt,onChangeAction:c,mt:1,mr:3,required:!1,showRequired:!0}),e.jsx(I,{title:"RW",placeholder:"RW",mainTheme:a,idField:"rw",value:t.rw,onChangeAction:c,mt:1,mr:3,required:!1,showRequired:!0}),e.jsx(I,{title:"Kode Pos",placeholder:"Kode Pos",mainTheme:a,idField:"kodepos",value:t.kodepos,onChangeAction:c,mt:1,mr:0,required:!1,showRequired:!0})]})]}),e.jsxs(s,{flexGrow:1,direction:"column",pt:2,borderBottom:"2px",borderColor:"gray.200",px:3,pb:5,children:[e.jsxs(s,{width:"100%",justifyContent:"space-between",alignItems:"center",height:"40px",children:[e.jsx(ge,{color:a.heading,fontSize:"15px",fontWeight:"bold",children:e.jsx(T,{textDecoration:"underline",children:"Alamat Saat Ini"})}),e.jsxs(Te,{display:"flex",alignItems:"center",width:"max-content",mb:2,children:[e.jsx(ze,{htmlFor:"email-alerts",mb:"0",children:"Sama dengan KTP?"}),e.jsx(Gt,{colorScheme:"green",value:H,onChange:We,id:"email-alerts",isChecked:H})]})]}),H?e.jsx(s,{height:"max-content",py:2,px:2,bg:a.mainBg,children:"Kamu memilih alamat saat ini sama dengan KTP"}):e.jsxs(e.Fragment,{children:[e.jsxs(s,{direction:["column","column","column","row"],children:[e.jsx(ne,{title:"Provinsi",placeholder:"PILIH PROVINSI",mainTheme:a,idField:"provinsi_2",value:t.provinsi_2,onChangeAction:ht,mt:1,mr:3,arrayValue:b}),e.jsx(ne,{title:"Kabupaten",placeholder:"PILIH KABUPATEN",mainTheme:a,value:t.kota_kab_2,idField:"kota_kab_2",onChangeAction:pt,mt:1,mr:0,arrayValue:oe})]}),e.jsxs(s,{direction:["column","column","column","row"],children:[e.jsx(ne,{title:"Kecamatan",placeholder:"PILIH KECAMATAN",mainTheme:a,idField:"kecamatan_2",value:t.kecamatan_2,onChangeAction:ft,mt:1,mr:3,arrayValue:Ae}),e.jsx(ne,{title:"Desa/Kelurahan",placeholder:"PILIH DESA",mainTheme:a,idField:"desa_kel_2",value:t.desa_kel_2,onChangeAction:c,mt:1,mr:0,arrayValue:_e})]}),e.jsxs(s,{direction:["column","column","column","row"],children:[e.jsx(I,{title:"RT",placeholder:"RT",mainTheme:a,idField:"rt_2",value:t.rt_2,onChangeAction:c,mt:1,mr:3}),e.jsx(I,{title:"RW",placeholder:"RW",mainTheme:a,idField:"rw_2",value:t.rw_2,onChangeAction:c,mt:1,mr:3}),e.jsx(I,{title:"Kode Pos",placeholder:"Kode Pos",mainTheme:a,idField:"kodepos_2",value:t.kodepos_2,onChangeAction:c,mt:1,mr:0})]})]})]})]}),e.jsxs(s,{width:"100%",height:"max-content",px:3,direction:["column","column","column","row"],children:[e.jsxs(s,{flexGrow:1,maxWidth:["100%","100%","100%","48%"],minWidth:["100%","100%","100%","48%"],direction:"column",borderRight:["0px","0px","0px","2px solid #e2e8f0"],pt:2,pr:[0,0,0,3],children:[e.jsx(s,{height:"40px",alignItems:"center",children:e.jsx(ge,{color:a.heading,fontSize:"15px",fontWeight:"bold",children:e.jsx(T,{textDecoration:"underline",children:"Data Tambahan"})})}),e.jsxs(Te,{mt:1,children:[e.jsx(ze,{fontSize:"sm",children:"Awal Kerja"}),e.jsx(tt,{id:"awal_kerja",onChange:c,value:t.awal_kerja,bg:"gray.100",placeholder:"Pilih Tanggal",size:"sm",type:"date"})]}),e.jsx(s,{direction:["column","column","column","row"],children:e.jsx(I,{title:"Minat",placeholder:"Minat",mainTheme:a,idField:"minat",value:t.minat,onChangeAction:c,mt:1,maxL:200,required:!1})}),e.jsx(s,{direction:["column","column","column","row"],children:e.jsx(I,{title:"Bakat",placeholder:"Bakat",mainTheme:a,idField:"bakat",value:t.bakat,onChangeAction:c,mt:1,maxL:200,required:!1})}),e.jsx(s,{direction:["column","column","column","row"],children:e.jsx(I,{title:"Kompetensi",placeholder:"Kompetensi",mainTheme:a,idField:"kompetensi",value:t.kompetensi,onChangeAction:c,mt:1,maxL:200,required:!1})}),e.jsx(Ue,{idField:"status_pernikahan",onChangeAction:c,mainTheme:a,title:"Status Pernikahan",placeholder:"Pilih",selected:t.status_pernikahan,mt:1,mr:3,arrayValue:[{id:0,title:"Belum Menikah",value:0},{id:1,title:"Sudah Menikah",value:1},{id:2,title:"Cerai",value:2}],required:!1,showRequired:!0}),e.jsxs(s,{direction:["column","column","column","row"],children:[e.jsx(I,{title:"No. HP/Telepon",placeholder:"No. HP/Telepon",mainTheme:a,idField:"telepon",value:t.telepon,onChangeAction:c,mt:1,mr:3,required:!1,showRequired:!0}),e.jsx(Je,{title:"Email",placeholder:"Email",mainTheme:a,idField:"email",type:"email",value:t.email,onChangeAction:c,onBlurAction:q,mt:1,mr:0,invalid:!ye,required:!1,showRequired:!0})]}),e.jsxs(s,{direction:["column","column","column","row"],children:[e.jsx(I,{title:"No. BPJS Kesehatan",placeholder:"No. BPJS Kesehatan",idField:"no_bpjs_kes",value:t.no_bpjs_kes,onChangeAction:c,mainTheme:a,mt:1,mr:3,required:!1}),e.jsx(I,{title:"No. BPJS Ketenagakerjaan",placeholder:"No. BPJS Ketenagakerjaan",mainTheme:a,value:t.no_bpjs_kerja,idField:"no_bpjs_kerja",onChangeAction:c,mt:1,mr:0,required:!1})]}),e.jsxs(s,{direction:["column","column","column","row"],children:[e.jsx(Ue,{title:"Pendidikan Terakhir",placeholder:"Pendidikan Terakhir",mainTheme:a,idField:"pendidikan_terakhir",onChangeAction:c,selected:parseInt(t.pendidikan_terakhir),mt:1,mr:3,arrayValue:[{id:0,title:"SD Sederajat",value:0},{id:1,title:"SMP Sederajat",value:1},{id:2,title:"SMA Sederajat",value:2},{id:3,title:"Diploma 1",value:2},{id:4,title:"Diploma 2",value:4},{id:5,title:"Diploma 3",value:5},{id:6,title:"Diploma 4",value:6},{id:7,title:"S1",value:7},{id:8,title:"S2",value:8},{id:9,title:"S3",value:9}],required:!1,showRequired:!0}),e.jsx(I,{title:"URL Ijazah Terakhir",placeholder:"https://drive.google.com/",mainTheme:a,value:t.url_ijazah,idField:"url_ijazah",onChangeAction:c,mt:1,mr:0,required:!1})]}),e.jsxs(s,{direction:"column",pt:4,children:[e.jsx(T,{fontWeight:"bold",children:"Kerabat Terdekat"}),e.jsx(I,{title:"Nama",placeholder:"Nama",mainTheme:a,value:t.kerabat_nama,idField:"kerabat_nama",onChangeAction:c,mt:1,mr:3,required:!1}),e.jsx(I,{title:"Hubungan",placeholder:"Hubungan",mainTheme:a,value:t.kerabat_hubungan,idField:"kerabat_hubungan",onChangeAction:c,mt:1,mr:0,required:!1}),e.jsx(I,{title:"No. HP",placeholder:"No. HP",mainTheme:a,idField:"kerabat_telepon",value:t.kerabat_telepon,onChangeAction:c,mt:1,mr:0,required:!1})]})]}),e.jsxs(s,{flexGrow:1,direction:"column",pt:2,px:[0,0,0,3],children:[e.jsx(s,{width:"100%",justifyContent:"space-between",alignItems:"center",height:"40px",children:e.jsx(ge,{color:a.heading,fontSize:"15px",fontWeight:"bold",children:e.jsxs(T,{textDecoration:"underline",children:["Status Kepegawaian",e.jsx(T,{display:"inline",fontSize:"16px",color:"red.500",children:"*"})]})})}),e.jsx(s,{direction:"column",children:e.jsx(Ut,{value:t.status,mt:"5px",mb:"20px",onChange:o=>{L(u=>({...u,status:o}));const h=parseInt(o);h==1?L(u=>({...u,fakultas:null,prodi:null,jabatan_fungsional_id:null,status_serdos:null,jabatan_strukdos_id:null})):h==2?L(u=>({...u,unit_id:0,jabatan_struktural_id:0,jabatan_strukdos_id:null})):h==3?L(u=>({...u,jabatan_strukdos_id:null})):h==4?L(u=>({...u,unit_id:0,jabatan_struktural_id:0})):h==5&&L(u=>({...u,fakultas:null,prodi:null,jabatan_fungsional_id:null,status_serdos:null,jabatan_strukdos_id:null}))},children:e.jsxs(Jt,{direction:"column",children:[e.jsx(Ke,{value:"2",children:"Dosen"}),e.jsx(Ke,{value:"4",children:"Dosen + Jabatan Dosen"}),e.jsx(Ke,{value:"1",children:"Tenaga Kependidikan"}),e.jsx(Ke,{value:"3",children:"Dosen + Tenaga Kependidikan"}),e.jsx(Ke,{value:"5",children:"Staff Fakultas"})]})})}),t.status==="1"||t.status==="3"?e.jsxs(s,{direction:["column","column","column","column"],children:[e.jsx(J,{arrayValue:re,idField:"unit_id",onChangeAction:c,mainTheme:a,value:t.status==="1"||t.status==="3"?t.unit_id:void 0,title:"Unit Kerja",setRequired:!1,showRequired:!0}),e.jsx(J,{arrayValue:E,idField:"jabatan_struktural_id",onChangeAction:c,mainTheme:a,value:t.status==="1"||t.status==="3"?t.jabatan_struktural_id:void 0,title:"Jabatan Struktural",setRequired:!1,selected:t.jabatan_struktural_id,showRequired:!0})]}):"",t.status==="2"||t.status==="4"||t.status==="3"?e.jsxs(s,{direction:["column","column","column","column"],children:[e.jsx(J,{arrayValue:_,idField:"fakultas",onChangeAction:c,mainTheme:a,title:"Fakultas",value:t.status==="2"||t.status==="4"||t.status==="3"?t.fakultas:void 0,mr:3,setRequired:!1,showRequired:!0}),e.jsx(J,{arrayValue:w.filter(o=>o.fakultas_id==t.fakultas),idField:"prodi",onChangeAction:c,mainTheme:a,value:t.status==="2"||t.status==="4"||t.status==="3"?t.prodi:void 0,title:"Program Studi",mr:3,setRequired:!1,showRequired:!0}),e.jsx(J,{arrayValue:l,idField:"jabatan_fungsional_id",value:t.status==="2"||t.status==="4"||t.status==="3"?t.jabatan_fungsional_id:void 0,onChangeAction:c,mainTheme:a,title:"Jabatan Fungsional",mr:3,setRequired:!1}),e.jsxs(Te,{mt:1,mr:3,children:[e.jsx(ze,{fontSize:"sm",children:"Status Serdos"}),e.jsxs(De,{borderRadius:"6px",placeholder:"Pilih",id:"status_serdos",size:"sm",onChange:c,value:t.status==="2"||t.status==="4"||t.status==="3"?t.status_serdos:void 0,bg:a.mainBg,isRequired:!1,children:[e.jsx("option",{value:"1",children:"SUDAH"}),e.jsx("option",{value:"0",children:"BELUM"})]})]})]}):"",t.status==="4"?e.jsx(s,{children:e.jsx(J,{arrayValue:he,idField:"jabatan_strukdos_id",onChangeAction:c,mainTheme:a,value:t.status==="4"?t.jabatan_strukdos_id:void 0,title:"Jabatan Struktural Dosen",setRequired:!1,selected:t.jabatan_struktural_id,showRequired:!0})}):"",t.status!=="5"?e.jsxs(s,{direction:["column","column","column","column"],children:[e.jsx(J,{idField:"studi_lanjut",onChangeAction:c,mainTheme:a,title:"Status Studi Lanjut",arrayValue:[{id:0,code:"iw89290j",name:"Proses",value:0},{id:1,code:"125sad",name:"Selesai",value:1}],mr:3,setRequired:!1,selected:t.studi_lanjut}),e.jsx(J,{idField:"kepangkatan",onChangeAction:c,mainTheme:a,title:"Status Kepangkatan",selected:t.kepangkatan,arrayValue:[{id:0,code:"3982wd",name:"II A",value:0},{id:1,code:"232aad",name:"II B",value:1},{id:2,code:"vdf32",name:"II C",value:2},{id:3,code:"65ythtg",name:"II D",value:3},{id:4,code:"232vcb",name:"III A",value:4},{id:5,code:"kuk787",name:"III B",value:5},{id:6,code:"909jk",name:"III C",value:6},{id:7,code:"vdv12",name:"III D",value:7},{id:8,code:"gbr54",name:"IV A",value:8},{id:9,code:",ikiuy",name:"IV B",value:9},{id:10,code:"hm4534",name:"IV C",value:10},{id:11,code:"hfmn42w",name:"IV D",value:11},{id:12,code:"rgrw21",name:"IV E",value:12}],mr:3,setRequired:!1})]}):e.jsxs(s,{direction:["column","column","column","column"],children:[e.jsx(J,{arrayValue:_,idField:"fakultas",onChangeAction:c,mainTheme:a,title:"Fakultas",value:t.status==="5"?t.fakultas:void 0,mr:3,setRequired:!1,showRequired:!0}),e.jsxs(s,{direction:["column","column","column","column"],mt:2,children:[e.jsxs(s,{fontSize:"14px",color:"gray.700",children:["Jenis Staff"," ",e.jsx("span",{style:{color:"red",marginLeft:"3px",marginBottom:"2px"},children:"*"})]}),e.jsxs(De,{size:"sm",borderRadius:"6px",bg:"#edf2f7",borderColor:"#cbd5e0",onChange:c,id:"staff_fakultas_id",value:parseInt(t.staff_fakultas_id),isDisabled:Ze,children:[e.jsx("option",{value:"",disabled:!0,children:"Pilih Jenis Staff"}),mt.map(o=>e.jsx("option",{value:parseInt(o.id),children:o.name},o.id))]})]})]}),t.status!=="2"&&t.status!=="4"?e.jsxs(s,{direction:["column","column","column","column"],mt:2,children:[e.jsxs(s,{fontSize:"14px",color:"gray.700",children:["Status Kerja"," ",e.jsx("span",{style:{color:"red",marginLeft:"3px",marginBottom:"2px"},children:"*"})]}),e.jsxs(De,{size:"sm",borderRadius:"6px",bg:"#edf2f7",borderColor:"#cbd5e0",onChange:c,id:"status_kerja",value:parseInt(t.status_kerja),isDisabled:Ze,children:[e.jsx("option",{value:"",disabled:!0,children:"Pilih Status Kerja"}),xt.map(o=>e.jsx("option",{value:parseInt(o.id),children:o.name},o.id))]}),e.jsx(s,{fontSize:"12px",mt:1,color:"gray.600",children:"- Berpengaruh Terhadap KPI"})]}):""]})]}),e.jsxs(s,{width:"100%",justifyContent:"flex-end",textAlign:"right",px:3,mt:3,fontSize:"14px",color:"gray.600",children:[e.jsx("span",{style:{color:"red",marginRight:"2px"},children:"*"})," ","Tidak boleh kosong."]}),e.jsxs(s,{width:"100%",mt:2,pb:5,px:3,justifyContent:"flex-end",children:[e.jsxs(at,{onClick:()=>{P(1)},size:"md",colorScheme:"blackAlpha",mx:2,children:[e.jsx(M,{icon:vt})," Batal"]}),e.jsxs(at,{isDisabled:!ce||t.email.length<6||t.nik.length<6||t.fullname<10||!t.status||v||d,type:"submit",size:"md",colorScheme:"green",children:[F?d?"Menyimpan":"Simpan":v?"Menambahkan ":"Tambahkan "," ",e.jsx(M,{spin:v||d,icon:v||d?$e:At})]})]})]}),e.jsx(s,{width:"100%",justifyContent:"center",bg:a.primary,height:"max-content",py:1,color:a.boxBg,children:"Sistem Informasi Kepegawaian | UNUSIDA"})]})})},na=({user:a,userType:k,activeBioProps:l})=>{const[y,_]=n.useState("hello_there_!"),[w,b]=n.useState(!1),g=()=>{j.post("https://skydock.unusida.id/api/dock/initiate",{ext_dat_id:a.user.id,sky_dock_key:"2ff20e58a58b1137757d5bee4f8f8ef24fb7ee792bea52c439bc0a4508f3b4d2",app_name:"erabour"}).then(function(x){x.status===200&&(_(x.data.token),window.location.href=`http://localhost:8000/login?session=${x.data.token}`)}).catch(function(x){var S,m;b(((m=(S=x==null?void 0:x.response)==null?void 0:S.data)==null?void 0:m.message)||"Terjadi Kesalahan !")})};return n.useEffect(()=>{g()},[]),e.jsx(s,{width:"100%",wordBreak:"break-all",children:e.jsx(s,{width:"100%",height:"100%",justifyContent:"center",alignItems:"center",color:"#48bb78",fontSize:"18px",children:w||e.jsxs(e.Fragment,{children:[e.jsx(M,{spin:!0,icon:$e}),"  Tunggu"]})})})};export{En as default};
