import{r as f,j as c,S as V}from"./app-BRf5toWG.js";import A from"./LinkItem-D_NQdels.js";import{B}from"./box-BqPd-jnX.js";import{F as y}from"./flex-DKwlgr-O.js";import"./index.es-BtTm-lQZ.js";import"./index-B2KZh1O9.js";import"./index-BhJBT7_l.js";import"./index-DHNuJBZz.js";import"./Clickable-DW927CeH.js";import"./text-CdRbiz2-.js";import"./use-boolean-DWsdq_aC.js";import"./button-Dm7yfw5z.js";import"./use-merge-refs-CHqHjQ4S.js";import"./attr-sHTFgF0E.js";var w=new Map,S=new WeakMap,E=0,z=void 0;function F(e){return e?(S.has(e)||(E+=1,S.set(e,E.toString())),S.get(e)):"0"}function M(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?F(e.root):e[t]}`).toString()}function P(e){const t=M(e);let n=w.get(t);if(!n){const a=new Map;let u;const i=new IntersectionObserver(s=>{s.forEach(r=>{var o;const g=r.isIntersecting&&u.some(d=>r.intersectionRatio>=d);e.trackVisibility&&typeof r.isVisible>"u"&&(r.isVisible=g),(o=a.get(r.target))==null||o.forEach(d=>{d(g,r)})})},e);u=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:i,elements:a},w.set(t,n)}return n}function O(e,t,n={},a=z){if(typeof window.IntersectionObserver>"u"&&a!==void 0){const o=e.getBoundingClientRect();return t(a,{isIntersecting:a,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),()=>{}}const{id:u,observer:i,elements:s}=P(n),r=s.get(e)||[];return s.has(e)||s.set(e,r),r.push(t),i.observe(e),function(){r.splice(r.indexOf(t),1),r.length===0&&(s.delete(e),i.unobserve(e)),s.size===0&&(i.disconnect(),w.delete(u))}}function T({threshold:e,delay:t,trackVisibility:n,rootMargin:a,root:u,triggerOnce:i,skip:s,initialInView:r,fallbackInView:o,onChange:g}={}){var d;const[m,R]=f.useState(null),b=f.useRef(),[h,j]=f.useState({inView:!!r,entry:void 0});b.current=g,f.useEffect(()=>{if(s||!m)return;let v;return v=O(m,(C,I)=>{j({inView:C,entry:I}),b.current&&b.current(C,I),I.isIntersecting&&i&&v&&(v(),v=void 0)},{root:u,rootMargin:a,threshold:e,trackVisibility:n,delay:t},o),()=>{v&&v()}},[Array.isArray(e)?e.toString():e,m,u,a,i,s,n,o,t]);const p=(d=h.entry)==null?void 0:d.target,x=f.useRef();!m&&p&&!i&&!s&&x.current!==p&&(x.current=p,j({inView:!!r,entry:void 0}));const l=[R,h.inView,h.entry];return l.ref=l[0],l.inView=l[1],l.entry=l[2],l}const Y=({tempLinks:e,changeViewActive:t,showPopUp:n,callNextLinks:a,setIsLoadingLink:u,isLoadingLink:i,isFirstLoad:s})=>{const[r,o]=f.useState(!1),[g,d]=f.useState(1),[m,R]=f.useState(1),{ref:b,inView:h}=T(),j=f.useCallback(()=>{u(!0)},[h]);return h&&!r&&(o(!0),g<=m&&(j(),a())),c.jsxs(B,{flexGrow:1,children:[e.map((p,x)=>c.jsx(A,{showPopUp:n,item:p,index:x,changeViewActive:t},x+"abc")),e.length<1?c.jsx(c.Fragment,{children:s?c.jsxs(y,{width:"100%",justifyContent:"center",mb:2,alignItems:"center",color:"gray.600",children:["--  "," ",c.jsx(V,{color:"gray.600",size:"sm"}),"  --"]}):c.jsx(y,{height:"60px",alignItems:"center",bg:"gray.200",justifyContent:"center",children:"Kosong"})}):c.jsxs(c.Fragment,{children:[i?c.jsxs(y,{width:"100%",justifyContent:"center",mb:2,alignItems:"center",color:"gray.600",children:["--  "," ",c.jsx(V,{color:"gray.600",size:"xs"}),"  --"]}):"",c.jsx(y,{borderBottom:"2px",borderColor:"gray.200",ref:b,justifyContent:"center",fontSize:"14px",color:"gray.500",children:"Akhir dari halaman."})]})]})};export{Y as default};
