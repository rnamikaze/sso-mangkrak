import{r as s,j as e,y as l}from"./app-D-tiouko.js";import{F as j}from"./index.es-B8LRRmtI.js";import{aC as J,az as N}from"./index-BLEpFBfl.js";import P from"./RenderRow-C1fLTBEa.js";import Q from"./AddUser-noe6IZNg.js";import V from"./LinkAll-BYBzAPMu.js";import X from"./DeleteAlert-BUUscgmU.js";import{F as u}from"./flex-B3u7Yjy3.js";import{B as S}from"./box-B4e4n_hZ.js";import{I as Y}from"./input-group-CSn9mZn5.js";import{I as Z}from"./input-addon-D6GP_FRS.js";import{I as _}from"./input-DQdjWTTb.js";import"./thead-DETgiIbU.js";import"./tr-BufVKpkZ.js";import"./td-BkObweLZ.js";import"./button-b_OXMfTF.js";import"./use-merge-refs-BFB3bSvN.js";import"./attr-sHTFgF0E.js";import"./TextInput-CerjRWv2.js";import"./heading-C-TpxM4d.js";import"./use-form-control-CwhKtZKy.js";import"./call-all-DDzecCnU.js";import"./form-label-B_0GP0Fr.js";import"./badge-vqBRhT-u.js";import"./index-C85bPmGX.js";import"./InfinteScroll-CcY6Ijlu.js";import"./LinkItem-D_pDkF-K.js";import"./index-B2KZh1O9.js";import"./Clickable-CJNnqnrW.js";import"./text-B41xTBOs.js";import"./use-boolean-D4otBCAS.js";import"./SearchView-BflCKTdf.js";import"./children-CpoAimTO.js";const Ae=({users:r,showPopUp:f,showAddUserBox:o,showAddUserBoxisEditing:n,editedUser:b,changeViewActive:w,showHistory:d})=>{const[U,y]=s.useState(null),[I,a]=s.useState(null),[E,i]=s.useState(o!==0),[g,h]=s.useState(n!==0),[x,D]=s.useState(""),[F,v]=s.useState(!1),[C,m]=s.useState(!1),[L,A]=s.useState({id:0,name:""}),R=t=>{l.post("/usl/get-links",{id:t})},k=t=>{A(t),m(!0)},c=()=>{g&&h(!1),i(t=>!t)},z=t=>{l.post("/usl/getEditUser",{id:t}),i(!0),h(!0)},M=t=>{l.post("/usl/createUser",t),setTimeout(()=>{o===0&&c()},1e3)},G=t=>{l.post("/usl/saveEditUser",t),setTimeout(()=>{o===0&&c()},1e3)},H=t=>{l.post("/usl/deleteUser",{id:t}),m(!1)},T=t=>{const p=r.filter(O=>Object.values(O).some(q=>String(q).toLocaleLowerCase().includes(t)));x.length<1?a(U):a(p)},W=t=>{D(t.target.value);const p=t.target.value.toLocaleLowerCase();T(p)};s.useEffect(()=>{o===1?i(!0):o===0&&i(!1)},[o]),s.useEffect(()=>{n===1&&i(!0)},[n]);const K=()=>{r===null||(y(r),a(r))};return s.useEffect(()=>{d===1&&v(!0)},[d]),s.useEffect(()=>{K()},[r]),e.jsx(e.Fragment,{children:e.jsxs(u,{position:"relative",bg:"white",px:3,py:3,direction:"column",width:"100%",height:"100%",children:[C?e.jsx(X,{setShowDeleteAlert:m,doDeleteUser:H,deleteInfo:L}):"",e.jsxs(u,{display:"none",px:[2,2,3],py:1,color:"white",borderRadius:"6px",mb:2,width:"100%",bg:"green.300",alignItems:"center",fontWeight:"bold",direction:"row",children:[e.jsxs(S,{flexGrow:1,children:["Tombol History dan Delete belum berfungsi, sebagian tampilan belum responsive, update otw (Masalah/Error langsung lapor) ",e.jsx("br",{}),"--dev-rnamikaze"]}),e.jsx(S,{fontSize:"xl",width:["10%","10%","5%"],minWidth:["10%","10%","5%"],children:e.jsx(j,{bounce:!0,icon:J})})]}),E?e.jsx(Q,{showAddUserBoxisEditing:n,editedUser:b,doSubmitEditUser:G,isEditingUser:g,showPopUp:f,submitUser:M,toggleAddUser:c}):"",F?e.jsx(V,{allDataLinks:r,changeViewActive:w,showPopUp:f,isFromAccountManagement:!0}):e.jsxs(e.Fragment,{children:[e.jsx(u,{direction:["column","column","row"],width:"100%",justifyContent:"space-between",children:e.jsxs(Y,{mt:[2,2,0],width:["100%","100%","250px"],size:"sm",children:[e.jsx(Z,{children:e.jsx(j,{icon:N})}),e.jsx(_,{value:x,onChange:W,placeholder:"Cari Pengguna"})]})}),e.jsx(P,{displayDeleteAlert:k,displaySelectedUserHistory:R,showEditUser:z,data:I})]})]})})};export{Ae as default};
