import{r as o,j as e,Y as Be,n as Fe,S as A,y as Ke}from"./app-D-tiouko.js";import{F as Oe}from"./index.es-B8LRRmtI.js";import{aa as We,o as De,$ as H,aT as X,af as Ge,aV as G,ai as R,aj as V,ak as Re,al as Ve,aW as Je,aX as He,B as Xe}from"./index-BLEpFBfl.js";import Ye from"./MenuItem-DFX7C_iH.js";/* empty css              */import Qe from"./MainSection-Ca2TVBKM.js";import $e from"./NavHead-BiVP6fiL.js";import qe from"./NotAllowed-zukb9T7-.js";import{M as n}from"./MainTheme-Bu5uiptW.js";import Ze from"./NewUserProfile-D7JlqOUb.js";import et from"./SsoSettings-DfPAZov5.js";import tt from"./EditeProfile-DMmqTdoG.js";/* empty css                  *//* empty css                     */import it from"./MainCp-BzEJ7JHU.js";/* empty css                          *//* empty css                       */import ot from"./SsoHomeAnimation-1hWE9_Rz.js";import nt from"./ForbiddenPopUp-DdusyU8p.js";import{u as st}from"./use-toast-cYYc5Dzw.js";import{F as s}from"./flex-B3u7Yjy3.js";import{T as _}from"./text-B41xTBOs.js";import"./use-boolean-D4otBCAS.js";import"./AppItem-7zViEAV9.js";import"./grid-item-D_M1wyBq.js";import"./responsive-DU-uVjaz.js";import"./image-ChnvBbJV.js";import"./use-image-B_C2-tJP.js";import"./MiniNavHead-BQhdw9Pt.js";import"./use-form-control-CwhKtZKy.js";import"./use-merge-refs-BFB3bSvN.js";import"./attr-sHTFgF0E.js";import"./call-all-DDzecCnU.js";import"./form-label-B_0GP0Fr.js";import"./switch-R7GR36iL.js";import"./input-DQdjWTTb.js";import"./grid-6vTBQzDv.js";import"./button-b_OXMfTF.js";import"./index-B2KZh1O9.js";import"./index-BV8y1BTx.js";import"./FormDisplay-BSxlUjkU.js";import"./index-C85bPmGX.js";import"./heading-C-TpxM4d.js";import"./badge-vqBRhT-u.js";import"./SettingItem-DQhOPT3d.js";import"./HakAkses-B_wMmR_v.js";import"./TablePageAkses-CUNBQshR.js";import"./TableTr-DBycnBBp.js";import"./tr-BufVKpkZ.js";import"./td-BkObweLZ.js";import"./button-group-2LTAmXy9.js";import"./thead-DETgiIbU.js";import"./AppSelection-D4lriGfd.js";import"./LoginLoger-BTsZCtl9.js";import"./TablePageLoger-CpR2B3y5.js";import"./TableTrLoger-C53buZ7s.js";import"./ResetUserPass-D3Ak8xUB.js";import"./SelectInput-z7dgjTDT.js";import"./select-BZQ40FW4.js";import"./TextInput-B6JpJ8kx.js";import"./SelectInputNamco-CRMyTZ7w.js";import"./SelectInputProv-DmP-o-gV.js";import"./TextInputExtra-CryNU02c.js";import"./UpImgProfile-qXE9CmF2.js";import"./circular-progress-CsYzCqAF.js";import"./circular-progress-label-DHR4Ff0c.js";import"./TextInputExtraValidation-DkGPj0gG.js";import"./radio-Ctc3yon2.js";import"./stack-CNRkET4p.js";import"./children-CpoAimTO.js";const rt=new Date,at=rt.getFullYear(),lt=[{id:0,title:"Beranda",icon:H},{id:1,title:"Profil",icon:X}],mt=[{id:0,title:"Beranda",icon:H},{id:1,title:"Profil",icon:X},{id:2,title:"Pengaturan",icon:Ge}],J=[{id:0,title:"SKU",description:"Isi Survey Kepuasan Unit",icon:G,url:"/sku"},{id:1,title:"SKPMB",description:"Isi Survey Kepuasan PMB",icon:G,url:"/spmb"}],C=[{id:0,dbid:"sku",title:"Admin SKU",description:"Survey Kepuasan Unit",useImageAsIcon:!1,image_url:null,icon:R,url:"/sku/home"},{id:1,dbid:"spmb",title:"Admin SKPMB",description:"Survey Kepuasan PMB",useImageAsIcon:!1,image_url:null,icon:R,url:"/spmb/dashboard"},{id:7,dbid:"usl",title:"Link Shortener",description:"Pendekin URL (Legacy)",useImageAsIcon:!0,image_url:"https://storage.unusida.id/storage/logo/logo_unu_links_alt_200x200.png",icon:V,url:"/usl/admin/dashboard"},{id:4,dbid:"sik",title:"SIMPEG",description:"Sistem Informasi Kepegawaian",useImageAsIcon:!0,image_url:"https://storage.unusida.id/storage/images/simpeg/icon/logo_simpeg_icon.svg",icon:Re,url:"/sik/dashboard"},{id:5,dbid:"sipeka",title:"SIPEKA",description:"Sistem Pengajuan Keuangan",useImageAsIcon:!0,image_url:"https://storage.unusida.id/storage/images/sipeka/icon/sipeka_icon_small_white.svg",icon:Ve,url:"/sipeka"},{id:6,dbid:"4payroll",title:"4Payroll",description:"Kirim Slip Gaji ke Email",useImageAsIcon:!1,image_url:null,icon:Je,url:"/4payroll",pass_userlevel:!0,unit_exclusive_id:18},{id:3,dbid:"usl",title:"Pendekin",description:"Link Shortener dengan QR Code (Test)",useImageAsIcon:!0,image_url:"https://storage.unusida.id/storage/logo/logo_unu_links_alt_200x200.png",icon:V,url:"/pendekin"},{id:8,dbid:"lembur",title:"Lembur",description:"Pengajuan dan Perhitungan Lembur",useImageAsIcon:!1,image_url:null,icon:He,url:"#",in_dev:!0},{id:9,dbid:"dosenmabuk",title:"Poin Dosen/Tendik",description:"Perhitungan Poin Dosen dan Tendik",useImageAsIcon:!1,image_url:null,icon:Xe,url:"#",in_dev:!0}],_i=({userAccount:a,notAllowedAlert:x=!1,userData:b=null,allUserList:Y=null,aksesSelectedUser:Q=null,refreshToken:k="ka78s",showToastParam:d=[!1,"success","Berhasil"],unitKerja:$=null,jabatanFun:q=null,jabatanStr:Z=null,fakultas:ee=null,prodi:te=null,list_provinsi:ie=null,selectedDataPegawai:M=null,list_kabupaten:oe=null,list_kabupaten2:ne=null,list_kecamatan:se=null,list_desa:re=null,list_kecamatan2:ae=null,list_desa2:le=null,allowedApp:S})=>{const[L,me]=o.useState(0),[i,w]=o.useState(0),[ce,N]=o.useState(!1),[z,E]=o.useState(J),[P,U]=o.useState(C),[de,pe]=o.useState(""),[ue,j]=o.useState(!1),[he,B]=o.useState(x),[F,K]=o.useState(!1),[m,fe]=o.useState({theme:0,newTabMode:!1}),[ge,xe]=o.useState([]),[be,Se]=o.useState(!1),[I,we]=o.useState([]),[je,ct]=o.useState(a[0].username==="superadmin"?mt:lt),Ie=st(),p="savedVariable",[ye,ve]=o.useState(!1),c=(t="success",r="Peringatan",l=7e3)=>{Ie({title:r,status:t,duration:l,isClosable:!0})},u=()=>{j(!0)},Te=()=>{j(!1)},Ae=()=>{B(!1)},_e=t=>{const r=t.target.value,l=P.filter(v=>{const T=r.toLowerCase();return v.title.toLowerCase().includes(T)}),Pe=z.filter(v=>{const T=r.toLowerCase();return v.title.toLowerCase().includes(T)});r.length<1?(E(J),U(C)):(U(l),E(Pe)),pe(r)},Ce=()=>{let t=m;i===0?(t.theme=1,w(1)):(t.theme=0,w(0)),localStorage.setItem(p,JSON.stringify(t))},h=t=>{t===1&&Ke.post("/get-user-profile"),me(t),j(!1)},ke=()=>{if(he)return e.jsx(qe,{hideNotAllowed:Ae,showSidebar:u,colorTheme:n[i]});switch(L){case 0:return e.jsx(Qe,{userAccount:a,newTabMode:F,toggleNewTabMode:Me,selectedTheme:i,showSidebar:u,colorTheme:n[i],appItem1:z,appItem2:P,searchApp:de,handleSearch:_e,toggleSsoAnimate:W,isAnimate:O,allowedApp:ge,handleNoAccessAlert:D,determineSuperadmin:Ee,userData:b});case 1:return e.jsx(e.Fragment,{children:b===null?e.jsx(s,{alignItems:"center",justifyContent:"center",width:"100%",children:e.jsx(A,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"green.500",size:"xl"})}):e.jsx(Ze,{changeSelectedMenu:h,selectedTheme:i,userData:b,appItem2:C,userAccount:a,colorTheme:n[i],showSidebar:u})});case 2:return e.jsx(et,{aksesSelectedUser:Q,allUserList:Y,showSidebar:u,colorTheme:n[i],showToast:c});case 3:return e.jsx(e.Fragment,{children:M===null?e.jsx(s,{alignItems:"center",justifyContent:"center",width:"100%",children:e.jsx(A,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"green.500",size:"xl"})}):e.jsx(tt,{changeSelectedMenu:h,unitKerja:$,jabatanFun:q,jabatanStr:Z,fakultas:ee,prodi:te,showToast:c,list_provinsi:ie,list_kabupaten:oe,list_kabupaten2:ne,list_kecamatan:se,list_desa:re,list_kecamatan2:ae,list_desa2:le,mainTheme:n[i],selectedDataPegawai:M})});case 4:return e.jsx(it,{showToast:c,colorTheme:n[i],changeSelectedMenu:h})}},Me=()=>{let t=!F,r=m;r.newTabMode=t,K(l=>!l),localStorage.setItem(p,JSON.stringify(r))},Le=o.useCallback(()=>{[a].some(r=>r===null)?N(!1):N(!0)},[a]),Ne=o.useCallback(()=>{d[0]&&c(d[1],d[2])},[k,c]);o.useEffect(()=>{Le()},[a]),o.useEffect(()=>{B(x)},[x]),o.useEffect(()=>{Ne()},[d,k]);const[O,y]=o.useState(!0),f="sso_home_animation",W=()=>{let t=null;y(r=>(t=!r,!r)),localStorage.setItem(f,JSON.stringify(t))};o.useEffect(()=>{S&&xe(S)},[S]),o.useEffect(()=>{const t=localStorage.getItem(p),r={theme:0,newTabMode:!1};t?fe(JSON.parse(t)):localStorage.setItem(p,JSON.stringify(r)),axios.post("/per-user-loger",{by:"@rnamikaze"}).then(function(l){setTimeout(()=>{we(l.data.loger),ve(!0)},[1500])}).catch(function(l){}),localStorage.getItem(f)===null?(localStorage.setItem(f,JSON.stringify(!0)),y(!0)):y(JSON.parse(localStorage.getItem(f)))},[]);const[g,ze]=o.useState([!1,We,"Web App 1",null]),D=t=>{ze(t)};o.useEffect(()=>{K(m.newTabMode),w(m.theme)},[m]);const Ee=o.useCallback(()=>a?a[0].username==="superadmin":!1,[a]);return o.useEffect(()=>{const t=()=>{},r=()=>{};return window.addEventListener("visibilitychange",t),window.addEventListener("beforeunload",r),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("beforeunload",r)}},[]),e.jsxs(e.Fragment,{children:[e.jsx(Be,{children:e.jsx("title",{children:"UNUSIDA Portal"})}),ce?e.jsxs(s,{bg:n[i].boxBg,position:"relative",width:"100vw",minHeight:"100vh",height:["max-content","max-content","100vh"],direction:["column","column","row"],className:"horizontal-scroll",overflow:["auto","auto","hidden","hidden"],children:[g[0]?e.jsx(nt,{closeAction:D,icon:g[1],appTitle:g[2],imgUrl:g[3]}):"",be?e.jsx(s,{width:"100vw",height:"100vh",zIndex:100,position:"absolute",bg:"#000000de",justifyContent:"center",alignItems:"center",children:e.jsx("div",{children:e.jsx("div",{id:"login-loader"})})}):"",e.jsx($e,{setIsLoading:Se,userAccount:a,colorTheme:n[i],toggleDarkMode:Ce,selectedTheme:i}),e.jsxs(s,{position:["absolute","absolute","relative"],left:["-110vw","-110vw","0px"],transform:ue?"translateX(110vw)":"translateX(0px)",width:["100%","100%","250px"],minWidth:["100%","100%","250px"],direction:"column",height:"100%",bg:[n[i].mainBg,n[i].mainBg,"transparent","transparent"],zIndex:[19,19,0],boxShadow:["base","base","none"],mt:"90px",transition:"500ms ease-out transform",className:"horizontal-scroll",children:[e.jsx(s,{color:"white",fontWeight:"bold",px:3,py:1,bg:n[i].bgLinearCoolGreenRvr,mb:4,justifyContent:"center",letterSpacing:"2px",boxShadow:"base",fontSize:"18px",children:"MENU"}),e.jsxs(s,{alignSelf:"center",height:"30px",alignItems:"center",bg:n[i].boxBg,px:3,py:1,borderRadius:"6px",boxShadow:"base",mb:2,color:n[i].text,onClick:Te,display:["flex","flex","none"],cursor:"pointer",children:[e.jsx(Oe,{icon:De})," ",e.jsx(_,{ml:2,children:"Tutup"})]}),je.map(t=>e.jsx(Ye,{colorTheme:n[i],selectedMenu:L,item:t,changeSelectedMenu:h},t.id))]}),e.jsxs(s,{flexGrow:1,overflow:["visible","visible","auto"],direction:"column",mx:2,className:"horizontal-scroll",children:[e.jsx(ot,{toggleSsoAnimate:W,isAnimate:O}),ke()]}),e.jsxs(s,{display:["flex","flex","none","flex"],direction:"column",width:["100%","100%","250px"],minWidth:["100%","100%","250px"],mt:[0,0,"80px"],pt:"15px",mb:["30px","30px",0],children:[e.jsx(s,{color:"white",fontWeight:"bold",px:3,py:1,bg:n[i].bgLinearCoolGreen2,mb:4,justifyContent:"center",boxShadow:"base",fontSize:"18px",letterSpacing:"2px",children:"INFO"}),e.jsxs(s,{mb:3,bg:n[i].boxBg,height:"max-content",borderRadius:"10px",px:"25px",py:"15px",fontSize:"12px",color:n[i].heading,direction:"column",borderTopLeftRadius:"25px",children:[e.jsxs(s,{fontWeight:"bold",fontSize:"sm",textTransform:"uppercase",mb:2,direction:"column",children:[e.jsx(s,{children:"Riwayat Login"}),e.jsx(s,{style:{fontSize:"10px"},justifyContent:"flex-end",children:"5 Catatan Terbaru"})]}),I.length<1?e.jsx(s,{justifyContent:"center",children:e.jsx("div",{id:"dash-small-loader"})}):e.jsx(Fe.div,{initial:{height:"60px"},animate:ye?{height:I.length*42+"px"}:{height:"60px"},transition:{duration:.5,type:"tween",stiffness:"120"},style:{overflow:"hidden"},children:I.map((t,r)=>e.jsx(e.Fragment,{children:e.jsxs(s,{my:1,justifyContent:"space-between",children:[e.jsxs(s,{width:"20px",justifyContent:"flex-start",fontSize:"13px",fontWeight:"bold",color:n[i].mainText,children:[r+1,"."]}),e.jsxs(s,{flexGrow:1,direction:"column",children:[e.jsx(s,{borderBottom:"1px",borderColor:"gray.200",justifyContent:"flex-end",color:n[i].mainText,fontWeight:"bold",children:t.formated_date}),e.jsxs(s,{justifyContent:"flex-end",fontSize:"12px",color:n[i].mainText,children:[t.device_name," - ",t.browser_name,e.jsx("br",{}),e.jsxs(s,{display:"inline-flex",alignItems:"self-end",style:{fontSize:"10px"},fontWeight:"bold",color:n[i].gray,ml:1,children:["[",t.ip_log,"]"]})]})]})]})}))})]})]}),e.jsxs(s,{position:["fixed","fixed","absolute","absolute"],bottom:0,left:0,bg:n[i].bgLinearCoolGreen2,width:"100%",justifyContent:"space-between",px:3,pt:[1,1,0,0],fontWeight:"bold",boxShadow:"base",pr:["5px","5px","25px","25px"],zIndex:5,children:[e.jsx(_,{fontSize:["11px","11px","12px","12px"],color:n[i].white,children:"Single Sign On Dashboard"}),e.jsxs(_,{fontSize:["11px","11px","12px","12px"],color:n[i].white,children:["© ",at," UNUSIDA"]})]})]}):e.jsx(s,{bg:n[i].mainBg,position:"relative",width:"100vw",height:"100vh",justifyContent:"center",alignItems:"center",children:e.jsx(A,{thickness:"4px",speed:"0.65s",emptyColor:"green.100",color:"green.600",size:"xl"})})]})};export{_i as default};
