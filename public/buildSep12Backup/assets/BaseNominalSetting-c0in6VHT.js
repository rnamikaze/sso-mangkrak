import{r as n,b as w,j as e}from"./app-D-tiouko.js";import z from"./UniversalLoading-CGCOsW-K.js";import{d as N,Y as R,B as v,aR as L,f as U}from"./index-BLEpFBfl.js";import{F as m}from"./index.es-B8LRRmtI.js";import{u as D}from"./use-toast-cYYc5Dzw.js";import{F as t}from"./flex-B3u7Yjy3.js";import{H as S}from"./heading-C-TpxM4d.js";import{B as u}from"./button-b_OXMfTF.js";import{I as E}from"./input-group-CSn9mZn5.js";import{I as F}from"./input-addon-D6GP_FRS.js";import{I as P}from"./input-DQdjWTTb.js";import{u as A}from"./use-disclosure-BEJBEFUx.js";import"./circular-progress-CsYzCqAF.js";import"./use-merge-refs-BFB3bSvN.js";import"./attr-sHTFgF0E.js";import"./children-CpoAimTO.js";import"./use-form-control-CwhKtZKy.js";import"./call-all-DDzecCnU.js";const J=(o={})=>{const a=D();return(i={})=>{a({...o,...i})}};function K(o){let a=o.toString().split("."),r=a[0],i=a.length>1?a[1]:"",l="Rp"+r.replace(/\B(?=(\d{3})+(?!\d))/g,".");return i!==""&&(l+=","+i),l}const ie=({setCurrentView:o})=>{const[a,r]=n.useState([]),[i,p]=n.useState(!1),[l,b]=n.useState(0),[h,y]=n.useState({fullname:"Tunggu...",nik:"Tunggu...",id:"Tunggu...",base:"Tunggu..."}),[C,f]=n.useState(!1),[B,g]=n.useState(!1);A();const j=J({title:"Berhasil.",description:"Berhasil Dilakukan !",status:"success",variant:"top-accent",position:"bottom-right",duration:9e3,isClosable:!0}),[I,x]=n.useState(!1),k=()=>{x(!0),w.post("/sik/update-target-jabatan-base-nominal",{by:"@rnamikaze",id:h.id,base:l}).then(function(s){r(s.data.baseNominal),j({title:"Berhasil",description:"Base Diperbarui !",position:"bottom-center"}),setTimeout(()=>{f(!1),g(!1),x(!1)},1e3)}).catch(function(s){x(!1),j({title:"Gagal",description:"Terjadi Kesalahan",position:"bottom-center",status:"error"})})};return n.useEffect(()=>{p(!0),w.post("/sik/get-jabatan-base-nominal",{by:"@rnamikaze"}).then(function(s){r(s.data),p(!1)}).catch(function(s){})},[]),e.jsxs(e.Fragment,{children:[e.jsxs(t,{bg:"white",width:"100%",overflowY:"auto",borderRadius:"6px",px:3,py:2,direction:"column",children:[e.jsxs(t,{mb:2,justifyContent:"space-between",borderBottom:"2px",borderColor:"gray.200",children:[e.jsx(S,{as:"h3",size:"md",color:"gray.600",mb:4,children:"Judul"}),e.jsxs(u,{onClick:()=>{o(0)},size:"sm",colorScheme:"blackAlpha",children:[e.jsx(m,{icon:N})," Kembali"]})]}),i?e.jsx(z,{}):e.jsxs(t,{direction:"column",width:"100%",children:[e.jsxs(t,{fontWeight:"bold",width:"100%",justifyContent:"space-between",mb:2,px:3,children:[e.jsx(t,{width:"40%",children:"Jabatan"}),e.jsx(t,{width:"30%",children:"Base Nominal"}),e.jsx(t,{children:"Aksi"})]}),a.map((s,d)=>e.jsxs(t,{my:1,width:"100%",justifyContent:"space-between",bg:"gray.100",px:3,py:2,borderRadius:"6px",alignItems:"center",children:[e.jsx(t,{width:"40%",children:s.name}),e.jsx(t,{width:"30%",children:K(s.base)}),e.jsx(t,{children:e.jsx(u,{onClick:()=>{let c=h;c.fullname=s.name,c.base=s.base,c.id=s.id,b(s.base),y(c),f(!0)},colorScheme:"blue",size:"sm",children:e.jsx(m,{icon:R})})})]}))]}),i===!1&&a.length<1?e.jsx(t,{alignItems:"center",justifyContent:"center",height:"100px",children:"Kosong"}):""]}),C?e.jsx(t,{justifyContent:"center",position:"absolute",top:0,left:0,width:"100%",height:"100%",bg:"#0000005f",zIndex:"30",children:e.jsxs(t,{bg:"white",borderRadius:"8px",width:"300px",height:"max-content",px:4,py:3,direction:"column",mt:"20vh",children:[e.jsx(S,{as:"h4",color:"green.500",size:"sm",mb:"10px",borderBottom:"1px",pb:2,borderBottomColor:"gray.100",children:"Ubah Base Nominal"}),e.jsxs(t,{fontWeight:"bold",fontSize:"14px",mb:1,alignItems:"center",px:1,children:[e.jsx(m,{icon:v}),"   ",h.fullname]}),e.jsxs(E,{size:"sm",children:[e.jsx(F,{children:e.jsx(m,{icon:L})}),e.jsx(P,{placeholder:"Masukan base nominal",value:l,type:"text",size:"sm",onChange:s=>{let d=s.target.value;d=d.replace(/\D/g,""),g(T=>{if(T===!1)return!0}),b(d)}})]}),e.jsxs(t,{mt:4,justifyContent:"flex-end",gap:2,children:[e.jsx(u,{onClick:()=>{f(!1)},colorScheme:"red",borderRadius:"4px",size:"sm",children:"Batal"}),e.jsx(u,{onClick:()=>{I===!1&&k()},colorScheme:"green",isDisabled:B===!1,borderRadius:"4px",size:"sm",children:I?e.jsx(m,{spin:!0,icon:U}):"Simpan"})]})]})}):""]})};export{ie as default};
