import{r,j as e}from"./app-D-tiouko.js";import{s as d,a as R}from"./PensiFunctions-CxJ0VF9l.js";import z from"./LoadingAnim-Cc8bZnTt.js";import{k as C}from"./index-BLEpFBfl.js";import{F as P}from"./index.es-B8LRRmtI.js";import{g as D}from"./StringMnp-U2UoNZXH.js";import{F as t}from"./flex-B3u7Yjy3.js";import{H as E}from"./heading-C-TpxM4d.js";import{T as G,a as M,b as F,c as B,d as T}from"./tab-panels-7f1vUtT0.js";import{S as H}from"./select-BZQ40FW4.js";/* empty css                          */import"./use-merge-refs-BFB3bSvN.js";import"./attr-sHTFgF0E.js";import"./call-all-DDzecCnU.js";import"./children-CpoAimTO.js";import"./use-form-control-CwhKtZKy.js";const ie=({getPengajuan:p,handleShowPengajuanViewerChange:u,showToast:q,userType:x,showPengajuanViewer:h,mode:i=null})=>{const[g,L]=r.useState([]),[j,_]=r.useState([]),[f,m]=r.useState(!1),[W,b]=r.useState([]),[K,v]=r.useState(void 0),[l,y]=r.useState(null),S=n=>{y(n===null?null:parseInt(n))},[c,w]=r.useState(null),I=n=>{w(n===null?null:parseInt(n))},A=n=>{const a=parseInt(n.target.value);k(isNaN(a)?"empty":a),v(isNaN(a)?void 0:a)},k=n=>{m(!0);const a=n;let o="";x===1?o="/sik/get-pengajuan-kepala-kotak":x===2&&(i==="kepalasdm"?o="/sik/get-pengajuan-kepala-kotak":i==="birosdm"&&(o="/sik/get-pengajuan-kepala-kotak-sdm")),axios.post(o,{by:"@rnamikaze",filter:a}).then(function(s){L(s.data.allPengajuan),_(s.data.allPengajuanIzin),s.data.statusIn?b(s.data.statusIn):b([]),setTimeout(()=>{m(!1)},[1500])}).catch(function(s){})};return r.useEffect(()=>{k()},[i]),e.jsxs(t,{flexGrow:1,direction:"column",children:[e.jsxs(E,{py:2,as:"h3",fontSize:"19px",color:"gray.600",fontWeight:"bold",letterSpacing:"1px",className:"lato-regular",children:["Pengajuan Masuk"," ",i?i==="kepalasdm"?"Kepala":"Biro SDM":""]}),e.jsxs(t,{width:"100%",direction:"column",children:[e.jsxs(t,{borderLeft:"2px",borderBottom:"2px",borderColor:"#48bb78",width:"100%",px:3,py:2,justifyContent:"space-between",mb:"10px",color:"#2f2f2f",children:[e.jsx(t,{fontWeight:"bold",children:"Tipe Pengajuan"}),e.jsx(t,{fontWeight:"bold",children:"Status"})]}),e.jsxs(G,{size:"sm",variant:"enclosed",align:"end",children:[e.jsxs(t,{direction:["column","column","column","row"],children:[e.jsxs(t,{alignItems:"center",mr:1,position:"relative",bottom:"-1px",mb:[2,2,2,0],direction:["column","column","column","row"],children:[e.jsx(t,{color:"gray.600",fontSize:["13px","13px","13px","15px"],children:"Filter Status  "}),e.jsx(H,{size:"sm",placeholder:"Semua",width:["100%","100%","100%","150px"],onChange:A,value:K,flexGrow:[1,1,1,0],children:W.map((n,a)=>e.jsx("option",{value:n,children:d(n)},a))})]}),e.jsxs(M,{flexGrow:1,children:[e.jsx(F,{borderRadius:"0px",children:"Cuti"}),e.jsx(F,{borderRadius:"0px",children:"Izin"})]})]}),e.jsxs(B,{children:[e.jsx(T,{px:0,children:f?e.jsx(t,{width:"100%",height:"200px",children:e.jsx(z,{})}):e.jsx(e.Fragment,{children:g.length<1?e.jsxs(t,{px:3,py:1,fontSize:"25px",justifyContent:"center",alignItems:"center",width:"100%",height:"150px",color:"gray.500",direction:"column",children:[e.jsx(P,{icon:C}),e.jsx(t,{children:"Kosong"})]}):e.jsx(e.Fragment,{children:g.map((n,a)=>{const o=parseInt(n.cuti_type),s=parseInt(n.pengajuan_type),N=parseInt(n.status_pengajuan);return e.jsxs(t,{borderLeft:"2px",borderLeftColor:n.id===l?"gray.100":"#48bb78",bg:n.id===l?"#48bb78":"gray.100",color:n.id===l?"white":"#2f2f2f",width:"100%",px:2,py:1,mb:1,cursor:"pointer",boxShadow:"base",onClick:()=>{p(n.pengajuan_type,n.id),S(n.id),I(null),u(!0)},justifyContent:"space-between",direction:["column","column","column",h?"column":"row"],children:[e.jsx(t,{fontWeight:"bold",color:n.id===l?"white":"gray.500",textDecoration:n.id===l?"underline":"none",fontSize:["11px","11px","13px","13px"],children:n.fullname}),e.jsxs(t,{justifyContent:"space-between",fontSize:["13px","13px","15px","15px"],direction:"column",alignItems:"flex-end",children:[e.jsxs(t,{children:[s===1?"Cuti":"Izin",":"," ",R(o)]}),e.jsx(t,{fontWeight:"bold",children:d(N)})]})]},a)})})})}),e.jsx(T,{px:0,children:f?e.jsx(t,{width:"100%",height:"200px",children:e.jsx(z,{})}):e.jsx(e.Fragment,{children:j.length<1?e.jsxs(t,{px:3,py:1,fontSize:"25px",justifyContent:"center",alignItems:"center",width:"100%",height:"150px",color:"gray.500",direction:"column",children:[e.jsx(P,{icon:C}),e.jsx(t,{children:"Kosong"})]}):e.jsx(e.Fragment,{children:j.map((n,a)=>{parseInt(n.cuti_type);const o=parseInt(n.pengajuan_type),s=parseInt(n.status_pengajuan);return e.jsxs(t,{borderLeft:"2px",borderLeftColor:n.id===c?"gray.100":"#48bb78",bg:n.id===c?"#48bb78":"gray.100",color:n.id===c?"white":"#2f2f2f",width:"100%",px:2,py:1,mb:1,cursor:"pointer",boxShadow:"base",onClick:()=>{p(n.cuti_type,n.id),I(n.id),S(null),u(!0)},justifyContent:"space-between",direction:["column","column","column",h?"column":"row"],children:[e.jsxs(t,{fontSize:["11px","11px","13px","13px"],fontWeight:"bold",color:n.id===c?"white":"gray.500",textDecoration:n.id===c?"underline":"none",children:[n.fullname," "]}),e.jsxs(t,{justifyContent:"space-between",fontSize:["13px","13px","15px","15px"],direction:"column",alignItems:"flex-end",children:[e.jsxs(t,{children:[o===1?"Cuti":"Izin",":"," ",D(n.deskripsi_izin,30,"...")]}),e.jsx(t,{fontWeight:"bold",children:d(s)})]})]},a)})})})})]})]})]})]})};export{ie as default};
