import{r as o,j as e,S as N}from"./app-D-tiouko.js";import{F as C}from"./index.es-B8LRRmtI.js";import{d as A,e as K}from"./index-BLEpFBfl.js";import L from"./TableTrLoger-C53buZ7s.js";import{F as i}from"./flex-B3u7Yjy3.js";import{F as B}from"./use-form-control-CwhKtZKy.js";import{I as G}from"./input-DQdjWTTb.js";import{B as R}from"./button-group-2LTAmXy9.js";import{B as j}from"./button-b_OXMfTF.js";import{T as E,a as M,b as a,c as w}from"./thead-DETgiIbU.js";import{T as H,a as u}from"./tr-BufVKpkZ.js";import{T}from"./td-BkObweLZ.js";import"./use-merge-refs-BFB3bSvN.js";import"./attr-sHTFgF0E.js";import"./call-all-DDzecCnU.js";const se=({personData:n,units:O,mainTheme:b})=>{const[l,c]=o.useState(null),x=50,[s,v]=o.useState(1),m=(s-1)*x,d=m+x,[y,S]=o.useState(""),[h,F]=o.useState([]),I=r=>{const t=r.target.value.toLowerCase();if(S(t),t.length>0){const f=n.filter(k=>Object.values(k).some(z=>String(z).toLocaleLowerCase().includes(t)));F(f),g(f),p(1)}t.length<1&&(c(n),g())},p=r=>{v(r)},P=()=>{let r=null,t=!0;try{r=l.length,t=!1}catch{t=!0}return t},g=o.useCallback((r=null)=>{r===null?n&&(y.length<1?c(n.slice(m,d)):c(h.slice(m,d))):c(r.slice(m,d))},[n,s]);return o.useEffect(()=>{g()},[n,s]),e.jsxs(i,{position:"relative",direction:"column",flexGrow:1,py:3,overflow:"scroll",className:"hide-scrbar",children:[e.jsxs(i,{direction:"column",zIndex:20,bg:b.boxBg,children:[e.jsx(i,{display:"none",mb:2,borderTop:"2px",pt:3,borderColor:"gray.300",children:e.jsx(B,{children:e.jsx(G,{value:y,onChange:I,type:"text",placeholder:"Cari NIK/Nama",size:"sm",borderRadius:"6px"})})}),e.jsx(i,{justifyContent:"space-between",mb:2,mt:"20px",children:e.jsxs(R,{width:["max-content","max-content","max-content"],colorScheme:"black",display:"flex",children:[e.jsxs(j,{bg:"gray.500",flexGrow:1,size:"sm",onClick:()=>{s!==1&&p(s-1)},children:[e.jsx(C,{icon:A}),"  Mndr"]}),e.jsx(j,{bg:"gray.500",size:"sm",children:s}),e.jsxs(j,{bg:"gray.500",flexGrow:1,size:"sm",onClick:()=>{d<(h.length<1?n.length:h.length)&&p(s+1)},children:["Maju  ",e.jsx(C,{icon:K})]})]})})]}),P()?e.jsx(i,{alignItems:"center",justifyContent:"center",children:e.jsx(N,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"green.500",size:"xl"})}):e.jsx(e.Fragment,{children:e.jsx(E,{maxHeight:"500px",overflowY:"scroll",overflowX:"auto",position:"relative",className:"Flipped",children:e.jsxs(H,{mb:"150px",size:"sm",variant:"simple",colorScheme:"gray",className:"Content",children:[e.jsx(M,{children:e.jsxs(u,{textAlign:"center",children:[e.jsx(a,{children:"#"}),e.jsx(a,{children:"Time"}),e.jsx(a,{width:"100px",children:"Action - Name"}),e.jsx(a,{children:"IP"}),e.jsx(a,{children:"User Agent"})]})}),l===null||l[0]===void 0?e.jsx(w,{children:e.jsx(u,{children:e.jsx(T,{colSpan:5,children:"Kosong"})})}):e.jsx(e.Fragment,{children:e.jsxs(w,{children:[l.length<1?e.jsx(u,{children:e.jsx(T,{textAlign:"center",colSpan:5,children:"Kosong"})}):"",l.map((r,t)=>e.jsx(L,{itemsPerPage:x,table:r,index:t,mainTheme:b,currentPage:s},t))]})})]})})})]})};export{se as default};
