import{r as i,j as e,Y as Ae,y as p}from"./app-D-tiouko.js";import He from"./Sidebar-Cibgi2px.js";/* empty css                  */import{e as Pe,N as Me,O as A,P as L,Q as f,R as g,S as W,T as _}from"./index-BLEpFBfl.js";import{F as K}from"./index.es-B8LRRmtI.js";import De from"./MainRender-BW_h7Vog.js";/* empty css              *//* empty css                     */import{u as Te}from"./use-toast-cYYc5Dzw.js";import{F as o}from"./flex-B3u7Yjy3.js";import{I as k}from"./image-ChnvBbJV.js";import{T as v}from"./text-B41xTBOs.js";import{u as ze}from"./use-boolean-D4otBCAS.js";import"./SidebarItem-BCuoX_pQ.js";import"./box-B4e4n_hZ.js";import"./index-B2KZh1O9.js";import"./moment-C5S46NFB.js";import"./Dashboard-DcFrfwhC.js";/* empty css                          */import"./heading-C-TpxM4d.js";import"./thead-DETgiIbU.js";import"./tr-BufVKpkZ.js";import"./td-BkObweLZ.js";import"./DataPegawai-DFDhdcEr.js";import"./SelectInput-z7dgjTDT.js";import"./use-form-control-CwhKtZKy.js";import"./use-merge-refs-BFB3bSvN.js";import"./attr-sHTFgF0E.js";import"./call-all-DDzecCnU.js";import"./form-label-B_0GP0Fr.js";import"./select-BZQ40FW4.js";import"./SelectInputNamco-CRMyTZ7w.js";import"./cubic-DRPgKoYJ.js";import"./useCUstomToast-Kafs3SNu.js";import"./module-CYFofynI.js";import"./button-b_OXMfTF.js";import"./debounce-Dd40iHos.js";import"./use-disclosure-BEJBEFUx.js";import"./modal-overlay-BoBZIlNT.js";import"./typeof-BVQB8lKn.js";import"./modal-close-button-Z_CEQsMf.js";import"./tab-panels-7f1vUtT0.js";import"./children-CpoAimTO.js";import"./input-group-CSn9mZn5.js";import"./input-DQdjWTTb.js";import"./input-addon-D6GP_FRS.js";import"./KinerjaMain-BG1ESK2U.js";import"./KinerjaTable-DAVQM6Yc.js";import"./TaskEmpty-Dv55UB2Q.js";import"./ActiveUserTask-DwwViaCK.js";import"./TaskItem-DZ1UREOw.js";import"./TaskChildItem-BPrQaT05.js";import"./alert-dialog-CrzKKWCS.js";import"./badge-vqBRhT-u.js";import"./TaskChildEmpty-B_b3DY1u.js";import"./AssignerTaskSymbol-b-AfNNF2.js";import"./circular-progress-CsYzCqAF.js";import"./TaskItemKosong-BkWY7Lru.js";import"./AssignerColorInfo-OoAPEizV.js";import"./OtherUserTask-C6UR8qlP.js";import"./HistoryPerUser-CZEwCV6p.js";import"./HistoryTaskItem-y1HfPr2Y.js";import"./HistoryTaskChildItem-DnOJmrUt.js";import"./TotalPercentage-CzXI8s9e.js";import"./ScoutModeMain-DZnhFWOG.js";import"./TopHead-B8j0ISMT.js";import"./KinerjaHistory-BuBtCoNV.js";import"./DateTools-DazUeWyn.js";import"./DemoAdjustDate-u7Uee4J_.js";import"./KpiMain-ZYEZZ87P.js";import"./GlobalPeriode-C_nRPlxf.js";import"./table-caption-B1PSiDol.js";import"./tfooter-C5O880ql.js";import"./card-body-CbBa1nJf.js";import"./SpecialAdminMain-CDE2IitK.js";import"./BaseNominalSetting-c0in6VHT.js";import"./UniversalLoading-CGCOsW-K.js";import"./KpiHomeTable-DWLIAVTx.js";import"./UploadExcelTemplate-C8yzbpIL.js";import"./TextInput-B6JpJ8kx.js";import"./SelectInputProv-DmP-o-gV.js";import"./TextInputExtra-CryNU02c.js";import"./UpImgProfile-qXE9CmF2.js";import"./circular-progress-label-DHR4Ff0c.js";import"./use-image-B_C2-tJP.js";import"./TextInputExtraValidation-DkGPj0gG.js";import"./stat-number-BizNblj4.js";import"./switch-R7GR36iL.js";import"./radio-Ctc3yon2.js";import"./stack-CNRkET4p.js";import"./responsive-DU-uVjaz.js";const n=[{mainBg:"gray.100",boxBg:"white",primary:"#48bb78",text:"gray.400",heading:"#0d2341",danger:"red.400",btnScheme:{primary:"blue",primaryC:"green.400",secondary:"blackAlpha",secondaryC:"gray.600",danger:"red"}},{mainBg:"#191b21",boxBg:"#23272f",primary:"#585d66",text:"#ebecf0",heading:"#f6f7f9",danger:"#585d66",btnScheme:{primary:"whiteAlpha",primaryC:"gray.100",secondary:"whiteAlpha",secondaryC:"whiteAlpha",danger:"whiteAlpha"}}],Be=[{id:0,title:"Dashboard",icon:A,action:"",childId:[null]},{id:1,title:"Data Pegawai",icon:L,action:"",childId:[101,102]},{id:2,title:"Kinerja",icon:f,action:"",childId:[null]},{id:3,title:"Home",icon:g,action:"",childId:[null]}],Ee=[{id:2,title:"Kinerja",icon:f,action:"",childId:[null]},{id:3,title:"Home",icon:g,action:"",childId:[null]}],Re=[{id:4,title:"Dashboard",icon:A,action:"",childId:[null]},{id:2,title:"Kinerja",icon:f,action:"",childId:[null]},{id:5,title:"KPI",icon:W,action:"",childId:[null]},{id:8,title:"Pengajuan Cuti",icon:_,action:"",childId:[null]},{id:3,title:"Home",icon:g,action:"",childId:[null]}],Ue=[{id:0,title:"Dashboard",icon:A,action:"",childId:[null]},{id:1,title:"Data Pegawai",icon:L,action:"",childId:[101,102]},{id:2,title:"Kinerja",icon:f,action:"",childId:[null]},{id:6,title:"KPI",icon:W,action:"",childId:[null]},{id:8,title:"Pengajuan Cuti",icon:_,action:"",childId:[null]},{id:3,title:"Home",icon:g,action:"",childId:[null]}],r=0,ji=({dataPegawai:N,selectedDataPegawai:O=null,unitKerja:Y=null,jabatanFun:G=null,jabatanStr:q=null,fakultas:Q=null,prodi:J=null,listProvinsi:V=null,listKabupaten:X=null,listKabupaten2:Z=null,listKecamatan:$=null,listDesa:ee=null,listKecamatan2:te=null,listDesa2:ie=null,viewId:x=[0,0],refreshToken:H="qwert",dataDash:oe=null,auth:l=null,activeBioProps:b=null,callToast:c=null,listAssigneKinerja:ne=null,viewCode:w=null,shutDownAxios:re=null})=>{const[P,s]=i.useState(null),[M,d]=i.useState(!1),S=i.useRef(null),j=i.useRef(null),se=Te(),[ae,D]=ze(!1),[le,de]=i.useState(null);i.useState(0);const[a,ce]=i.useState(null),[I,T]=i.useState(!1),[me,pe]=i.useState(!1),z=(t="Berhasil",u="success")=>{se({title:t,status:u,isClosable:!0})},[B,he]=i.useState(null),[ue,h]=i.useState([]),[m,fe]=i.useState({fullname:"User",jabatan:"Default",username:"default",statusKepegawaian:"Default",imgSrc:"https://storage.unusida.id/storage/images/no-image-placeholder.png"}),[ge,xe]=i.useState(!1),E=t=>{S.current&&!S.current.contains(t.target)&&j.current&&!j.current.contains(t.target)&&Ie()},[R,be]=i.useState({initial:!0}),[we,y]=i.useState(!1),[Se,U]=i.useState([]),je=()=>{y(!0),axios.post("/sik/data-pegawai-axios",R).then(function(t){U(t.data.dataPegawai),y(!1)}).catch(function(t){})},Ie=()=>{T(!1)},F=()=>{d(t=>!t)},ye=()=>{T(t=>!t)},[Ce,ke]=i.useState(null),C=(t,u=null)=>{t===1?d(!1):t===2?(p.post("/sik/home-kinerja"),d(!1)):t===0?d(!1):t===101?p.post("/sik/tambah-pegawai"):t===102?(ke(u),p.post("/sik/data-pegawai-terpilih",{id:u})):t===8&&setTimeout(()=>{p.get("/sik/cuti")},1e3),t===3?(d(!1),s(t),pe(!0),setTimeout(()=>{p.get("/sso-dashboard")},1e3)):s(t)};i.useEffect(()=>{x[0]===102&&C(102,x[1])},[x]);const ve=i.useCallback(()=>{c!==null&&z(c[0],c[1])},[c]);return i.useEffect(()=>{ve()},[c]),i.useEffect(()=>{b!==null&&de(b)},[b]),i.useEffect(()=>{l!==null&&he(l)},[l]),i.useEffect(()=>{a===0?s(0):a===1?s(2):a>=3&&s(4),["adminsdmunusida"].includes(l.user.username)===!1?a===0?h(Be):a===1?h(Ee):a>=3&&h(Re):s(0)},[a]),i.useEffect(()=>(l&&l.user.username==="adminsdmunusida"&&h(Ue),axios.post("/sik/determine-user-type",{id:0}).then(function(t){ce(parseInt(t.data.accessStatus)),fe(t.data),xe(t.data.forDosen)}).catch(function(t){}),document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}),[]),i.useEffect(()=>{w!==null&&s(w)},[w,H]),e.jsxs(e.Fragment,{children:[e.jsx(Ae,{children:e.jsx("title",{children:"Sistem Informasi Kepegawaian | UNUSIDA"})}),e.jsxs(o,{width:"100vw",height:"100vh",overflowY:"hidden",direction:"column",children:[me?e.jsx(o,{width:"100vw",height:"100vh",zIndex:100,position:"absolute",bg:"#000000de",justifyContent:"center",alignItems:"center",children:e.jsx("div",{children:e.jsx("div",{id:"login-loader"})})}):"",e.jsx(o,{width:"100%",height:"max-content",children:e.jsxs(o,{width:"100%",height:"50px",bg:n[r].boxBg,color:n[r].primary,justifyContent:"space-between",alignItems:"center",position:"relative",zIndex:"31",px:3,boxShadow:"base",children:[e.jsxs(o,{children:[e.jsx(k,{width:"35px",height:"auto",src:"https://storage.unusida.id/storage/logo/logo_unu_primary_green_small.png",fallbackSrc:"https://via.placeholder.com/150"}),e.jsx(o,{onClick:F,bg:n[r].boxBg,zIndex:32,alignItems:"center",px:2,color:n[r].primary,display:["flex","flex","none","none"],children:e.jsx(K,{icon:Pe,style:{transform:M?"rotate(180deg)":"rotate(0deg)",transition:"250ms ease-out"}})})]}),e.jsx(o,{fontSize:"18px",fontWeight:"bold",letterSpacing:"3px",children:e.jsx(k,{height:"30px",style:{filter:"drop-shadow(3px 3px 0px #eeeeee)"},src:"https://storage.unusida.id/storage/logo/logo_simpeg_warna.png",fallbackSrc:"https://via.placeholder.com/150"})}),e.jsxs(o,{ref:j,px:3,fontSize:"18px",fontWeight:"bold",alignItems:"center",bg:n[r].primary,color:n[r].boxBg,borderRadius:"25px",cursor:"pointer",onClick:()=>{ye()},mr:[0,0,3,3],children:[e.jsx(K,{icon:Me,style:{transform:I?"rotate(-180deg)":"rotate(0deg)",transition:"500ms ease-out"}})," ","Â ",e.jsx(o,{ml:1,letterSpacing:"1px",fontSize:"15px",borderLeft:"1px",borderColor:"#ffffff86",pl:2,children:"MENU"})]}),e.jsxs(o,{ref:S,width:"250px",py:I?"20px":"0px",height:I?"300px":"0px",top:"60px",right:"10px",position:"absolute",borderRadius:"6px",boxShadow:"md",bg:n[r].boxBg,alignItems:"center",direction:"column",overflow:"hidden",transition:"500ms ease-out",mr:[0,0,3,3],children:[e.jsx(o,{minWidth:"80px",width:"80px",minHeight:"80px",height:"80px",overflow:"hidden",borderRadius:"50%",children:e.jsx(o,{width:"80px",height:"80px",minWidth:"80px",minHeight:"80px",borderRadius:"50%",position:"relative",overflow:"hidden",children:e.jsx(k,{width:"80px",height:"80px",minWidth:"80px",minHeight:"80px",src:m.imgSrc,fallbackSrc:"https://storage.unusida.id/storage/images/no-image-placeholder.png"})})}),e.jsxs(o,{mt:"10px",direction:"column",textAlign:"center",width:"100%",alignItems:"center",children:[e.jsx(o,{children:e.jsx(v,{fontSize:"14px",maxHeight:"50px",overflow:"hidden",fontWeight:"bold",children:m.statusKepegawaian})}),e.jsx(o,{mt:2,width:"100%",bg:n[r].primary,color:n[r].boxBg,justifyContent:"center",children:e.jsx(o,{fontSize:"13px",fontWeight:"bold",children:m.username})}),e.jsx(o,{width:"90%",justifyContent:"center",mt:2,borderBottom:"1px",borderColor:"gray.200",children:e.jsx(v,{fontWeight:"bold",fontSize:"15px",mb:1,children:m.fullname})}),e.jsx(o,{py:1,children:e.jsx(v,{fontSize:"14px",maxHeight:"50px",overflow:"hidden",my:1,children:m.jabatan})})]})]})]})}),e.jsxs(o,{width:"100%",height:"120vh",overflowY:"auto",flexGrow:1,position:"fixed",pt:"50px",bg:n[r].mainBg,children:[e.jsx(He,{auth:B,toggleSidebar:F,showSidebar:M,selectedMenu:P,changeSelectedMenuW:C,setShowSidebar:d,sidebarItem:ue,mainTheme:n[r],zIndex:35}),e.jsx(o,{width:"100%",height:window.innerHeight-50,maxHeight:window.innerHeight-50,overflow:"auto",children:e.jsx(De,{shutDownAxios:re,setSelectedMenu:s,globalDosenMod:ge,userType:a,activeBio:le,listAssigneKinerja:ne,refreshToken:H,dataDash:oe,listkabupaten:X,listKabupaten2:Z,listKecamatan:$,listDesa:ee,listKecamatan2:te,listDesa2:ie,selectedDataPegawai:O,showToast:z,listProvinsi:V,unitKerja:Y,jabatanFun:G,jabatanStr:q,fakultas:Q,prodi:J,changeSelectedMenu:C,dataPegawai:N,selectedMenu:P,mainTheme:n[r],auth:B,filterConditions:R,setFilterConditions:be,filterLoading:we,setFilterLoading:y,dataPegawaiList:Se,setDataPegawai:U,doFilter:je,selectedPegawaiId:Ce})})]}),e.jsx(o,{position:"absolute",bottom:"5px",right:"5px",borderRadius:"6px",width:"max-content",fontSize:"12px",fontWeight:"bold",px:3,bg:"green.500",color:"whitesmoke",justifyContent:"flex-end",opacity:ae?"1":"0.3",transition:"250ms ease-out",zIndex:"20",onMouseEnter:D.on,onMouseLeave:D.off,children:"Tim Kreatif UPT-TI UNUSIDA 2024"})]})]})};export{ji as default};
