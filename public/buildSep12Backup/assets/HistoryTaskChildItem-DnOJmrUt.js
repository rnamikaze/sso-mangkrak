import{r as a,j as e}from"./app-D-tiouko.js";import"./index.es-B8LRRmtI.js";import{F as r}from"./flex-B3u7Yjy3.js";import{I as o}from"./input-DQdjWTTb.js";import{S as C}from"./select-BZQ40FW4.js";import{A as v,a as _}from"./alert-dialog-CrzKKWCS.js";import{M as S,b as R,c as z,d as W}from"./modal-overlay-BoBZIlNT.js";import{B as u}from"./button-b_OXMfTF.js";import{B as m}from"./badge-vqBRhT-u.js";import{u as O}from"./use-disclosure-BEJBEFUx.js";import"./use-form-control-CwhKtZKy.js";import"./use-merge-refs-BFB3bSvN.js";import"./attr-sHTFgF0E.js";import"./call-all-DDzecCnU.js";import"./typeof-BVQB8lKn.js";const re=({mainTheme:c,task:i,index:G,saveData:I,setShowEmptyTask:T,addNewTask:B,updateChildToParent:D,childIndex:M,deleteChildToParent:f,updateSubTask:k,callMyToast:E,userActiveLevel:n})=>{const[t,p]=a.useState({id:0,title:"Tunggu",assigne:"",assigner_level:n,userId:0,progress_int:1,progress_percentage:0,comment:"",start_date:"",end_date:"",active:!1}),[s,F]=a.useState(!1),{isOpen:g,onOpen:P,onClose:d}=O(),x=a.useRef();function l(h){const w=h.target.id;let y=h.target.value;p(b=>({...b,[w]:y}))}const j=()=>{switch(parseInt(t.progress_int)){case 0:return e.jsx(m,{variant:"solid",colorScheme:"red",children:"Not Yet"});case 1:return e.jsx(m,{variant:"solid",colorScheme:"yellow",children:"On Progress"});case 2:return e.jsx(m,{variant:"solid",colorScheme:"green",children:"Finished"})}};return a.useEffect(()=>{p(i)},[i]),e.jsxs(r,{direction:["row","row","row","column"],children:[e.jsxs(r,{px:3,py:2,bg:c.primary,color:c.boxBg,fontWeight:"bold",direction:["column","column","column","row"],display:["flex","flex","flex","none"],width:["45%","45%","45%","100%"],fontSize:["sm","sm","sm","md"],mt:[2,2,2,0],pr:[0,0,0,3],pl:[2,2,2,0],pb:[4,4,4,0],children:[e.jsx(r,{width:["100%","100%","100%","7%"],maxWidth:["100%","100%","100%","7%"],flexGrow:1,py:[1,1,1,0],mb:[2,2,2,0],children:"#"}),e.jsx(r,{width:["100%","100%","100%","30%"],maxWidth:["100%","100%","100%","30%"],flexGrow:1,py:[1,1,1,0],mb:[2,2,2,0],children:"Judul Task"}),e.jsx(r,{width:["100%","100%","100%","30%"],maxWidth:["100%","100%","100%","30%"],flexGrow:1,py:[1,1,1,0],mb:[2,2,2,0],children:"Assigne"}),e.jsx(r,{width:["100%","100%","100%","20%"],maxWidth:["100%","100%","100%","20%"],flexGrow:1,py:[1,1,1,0],mb:[2,2,2,0],children:"Due Date"}),e.jsx(r,{width:["100%","100%","100%","13%"],maxWidth:["100%","100%","100%","13%"],flexGrow:1,py:[1,1,1,0],children:"Progress"})]}),e.jsxs(r,{bg:"white",mt:[2,2,2,0],pr:[0,0,0,3],pl:[2,2,2,0],py:2,pb:[4,4,4,0],width:"100%",transition:"250ms ease-out",justifyContent:"flex-end",direction:["column","column","column","row"],borderTop:["2px","2px","2px","0px"],borderTopColor:"gray.300",borderBottom:["2px","2px","2px","0px"],borderBottomColor:"gray.300",children:[e.jsx(r,{alignItems:"center",width:["100%","100%","100%","7%"],maxWidth:["100%","100%","100%","7%"],flexGrow:1,mb:[2,2,2,0],pr:[3,3,3,0],justifyContent:["flex-end","flex-end","flex-end","center"]}),e.jsx(r,{borderLeft:"2px",borderColor:"green.300",width:["100%","100%","100%","30%"],maxWidth:["100%","100%","100%","30%"],pl:[0,0,0,3],pr:2,flexGrow:1,mb:[2,2,2,0],children:n<=i.assigner_level?e.jsx(o,{id:"title",size:"sm",placeholder:"Judul",value:t.title,onChange:l,isReadOnly:!s,borderColor:s?"gray.200":"transparent"}):e.jsx(o,{id:"title",size:"sm",placeholder:"Komentar",value:t.title,isReadOnly:!0,borderColor:"transparent"})}),e.jsx(r,{width:["100%","100%","100%","30%"],maxWidth:["100%","100%","100%","30%"],pr:2,flexGrow:1,mb:[2,2,2,0],children:n<=i.assigner_level?e.jsx(o,{id:"comment",size:"sm",placeholder:"Komentar",value:t.comment,onChange:l,isReadOnly:!s,borderColor:s?"gray.200":"transparent"}):e.jsx(o,{id:"comment",size:"sm",placeholder:"Komentar",value:t.comment,isReadOnly:!0,borderColor:"transparent"})}),e.jsx(r,{width:["100%","100%","100%","20%"],maxWidth:["100%","100%","100%","20%"],pr:2,flexGrow:1,mb:[2,2,2,0],children:n<=i.assigner_level?e.jsx(o,{id:"due_date",size:"sm",borderRadius:"6px",value:t.due_date,onChange:l,type:"date",color:"gray.600",isReadOnly:!s}):e.jsx(o,{id:"due_date",size:"sm",borderRadius:"6px",value:t.due_date,type:"date",color:"gray.600",isReadOnly:!0})}),e.jsx(r,{alignItems:"center",width:["100%","100%","100%","13%"],maxWidth:["100%","100%","100%","13%"],flexGrow:1,pr:[2,2,2,0],justifyContent:["flex-end","flex-end","flex-end","center"],children:s?e.jsxs(C,{id:"progress_int",onChange:l,size:"sm",borderRadius:"6px",children:[e.jsx("option",{value:"0",selected:t.progress_int===0,children:"Not Yet"}),e.jsx("option",{value:"1",selected:t.progress_int===1,children:"On Progress"}),e.jsx("option",{value:"2",selected:t.progress_int===2,children:"Finished"})]}):j()})]}),e.jsx(v,{isOpen:g,leastDestructiveRef:x,onClose:d,children:e.jsx(S,{display:"flex",alignItems:"center",children:e.jsxs(_,{width:["85vw","85vw","inherit","inherit"],children:[e.jsx(R,{fontSize:"md",fontWeight:"bold",children:"Hapus Tugas?"}),e.jsx(z,{fontSize:"sm",children:"Setelah Menghapus, anda tidak bisa mngembalikannya."}),e.jsxs(W,{children:[e.jsx(u,{size:"sm",ref:x,onClick:d,children:"Batal"}),e.jsx(u,{size:"sm",colorScheme:"red",onClick:()=>{f(t.id),d()},ml:3,children:"Hapus"})]})]})})})]})};export{re as default};
