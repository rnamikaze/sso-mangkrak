import{f as E,r as z,j as r}from"./app-D-tiouko.js";import{F as c}from"./index.es-B8LRRmtI.js";import{q as T,r as K,s as R,g as G}from"./index-B2KZh1O9.js";import{b as N}from"./index-CVfZXKi4.js";import q from"./QrCodeDisplay-BDMojwhc.js";import{F as h}from"./flex-B3u7Yjy3.js";import{H as O}from"./heading-C-TpxM4d.js";import{B as D}from"./box-B4e4n_hZ.js";import{F as b,c as Q}from"./use-form-control-CwhKtZKy.js";import{F as g}from"./form-label-B_0GP0Fr.js";import{S as H}from"./select-BZQ40FW4.js";import{S as V}from"./stack-CNRkET4p.js";import{B as j}from"./button-group-2LTAmXy9.js";import{B as u}from"./button-b_OXMfTF.js";import{T as W}from"./textarea-C6m91mAu.js";import{u as F}from"./use-boolean-D4otBCAS.js";import"./index-BLEpFBfl.js";import"./text-B41xTBOs.js";import"./use-merge-refs-BFB3bSvN.js";import"./attr-sHTFgF0E.js";import"./call-all-DDzecCnU.js";import"./responsive-DU-uVjaz.js";import"./children-CpoAimTO.js";const p=E((f,w)=>{const{icon:y,children:i,isRound:C,"aria-label":x,...o}=f,a=y||i,v=z.isValidElement(a)?z.cloneElement(a,{"aria-hidden":!0,focusable:!1}):null;return r.jsx(u,{px:"0",py:"0",borderRadius:C?"full":void 0,ref:w,"aria-label":x,...o,children:v})});p.displayName="IconButton";const hr=({handleSubmit:f,unitsGuest:w,changeUnit:y,namaId:i,setNamaId:C,tempData:x,selectedSatisfyLevel:o,changeSelectedSatisfyLevel:a,setKomentar:v,komentar:P,selectedUnit:n,selectedUnitName:B,qrCodeUrl:M})=>{const[s,I]=F(!1),[t,A]=F(!1),[l,_]=F(!1);return r.jsxs(h,{direction:["column-reverse","column-reverse","column-reverse","row-reverse"],justifyContent:"center",flexGrow:1,boxSizing:"border-box",alignItems:"center",children:[r.jsxs(h,{maxWidth:["80%","80%","80%","40%"],direction:["column","column","column-reverse","column"],mx:[2,2,4],my:[2,2,3],py:[2,2,4],px:[3,3,8],alignItems:"center",justifyContent:"center",height:"100%",zIndex:3,children:[r.jsx(h,{justifyContent:"center",alignItems:"center",position:"relative",left:"-8px",mb:4,children:r.jsx(q,{qrCodeUrl:M,unitName:B})}),r.jsx(O,{as:"h1",size:"lg",color:"white",className:"font-pop",textAlign:"center",textTransform:"uppercase",style:{filter:"drop-shadow(3px 3px 5px rgba(255, 255, 255, 0.349))"},mb:2,children:"Mari isi survei untuk pelayanan yang lebih baik."}),r.jsx(N.LazyLoadImage,{src:"https://i.imgur.com/Mkwqgmv.png",style:{objectFit:"cover",width:"35%",height:"auto",filter:"drop-shadow(3px 3px 5px rgba(255, 255, 255, 0.349))",zIndex:1}})]}),r.jsxs(D,{as:"form",method:"POST",onSubmit:f,bg:"white",border:"2px",borderColor:"rgba(145, 184, 92, 0.7)",mx:[2,2,4],my:[2,2,3],py:[3,3,3],px:[4,4,5],borderRadius:["10px","10px","16px"],width:["90%","90%","550px"],className:"shadow-bottom",zIndex:3,height:i<1?"250px":["550px","550px","490px"],transition:"700ms",transitionTimingFunction:"ease-in",overflow:"hidden",children:[r.jsxs(b,{mb:3,children:[r.jsx(g,{children:"Pilih Unit"}),r.jsxs(H,{id:"kode_unit_id",onChange:y,children:[r.jsx("option",{value:"0",selected:n===null,children:"Pilih Unit"}),w.sort((e,k)=>{const m=e.nama_unit[0].toLowerCase(),d=k.nama_unit[0].toLowerCase();return m<d?-1:m>d?1:0}).map(e=>r.jsx("option",{value:parseInt(e.id),selected:n==e.id,children:e.nama_unit.toUpperCase()},e.id))]})]}),r.jsxs(b,{mb:3,children:[r.jsx(g,{children:"Pilih Person"}),r.jsxs(H,{id:"nama_id",onChange:e=>{C(e.target.value)},disabled:n===null||n==0,children:[r.jsx("option",{value:0,selected:n===null||n==0,children:B.toUpperCase()}),x===null?r.jsx("option",{value:"null",children:"Loading"}):x.filter(e=>parseInt(e.kode_unit_id)===parseInt(n)).sort((e,k)=>{const m=e.nama[0].toLowerCase(),d=k.nama[0].toLowerCase();return m<d?-1:m>d?1:0}).map(e=>r.jsx("option",{value:e.id,children:e.nama},e.id))]})]}),r.jsxs(b,{display:i<1?"none":"inherit",mb:3,children:[r.jsx(g,{children:"Skala Kepuasan"}),r.jsxs(V,{direction:["column","column","column","row"],children:[r.jsx("input",{type:"hidden",id:"level_survey_id",value:o}),r.jsxs(j,{onClick:()=>{a(1)},size:["sm","sm","md"],isAttached:!0,variant:"outline",colorScheme:o===1||s?"red":"gray",onMouseEnter:I.on,onMouseLeave:I.off,children:[r.jsx(u,{bg:o===1||s?"red.100":"white",border:"2px",borderColor:o===1||s?"red.200":"gray.200",children:"Kurang Puas"}),r.jsx(p,{bg:o===1||s?"red.100":"white",border:"2px",borderColor:o===1||s?"red.200":"gray.200","aria-label":"Add to friends",icon:r.jsx(c,{icon:T})})]}),r.jsxs(j,{onClick:()=>{a(2)},size:["sm","sm","md"],isAttached:!0,variant:"outline",colorScheme:o===2||t?"yellow":"gray",onMouseEnter:A.on,onMouseLeave:A.off,children:[r.jsx(u,{bg:o===2||t?"yellow.100":"white",border:"2px",borderColor:o===2||t?"yellow.200":"gray.200",children:"Puas"}),r.jsx(p,{"aria-label":"Add to friends",icon:r.jsx(c,{icon:K}),bg:o===2||t?"yellow.100":"white",border:"2px",borderColor:o===2||t?"yellow.200":"gray.200"})]}),r.jsxs(j,{onClick:()=>{a(3)},size:["sm","sm","md"],isAttached:!0,variant:"outline",colorScheme:o===3||l?"green":"gray",onMouseEnter:_.on,onMouseLeave:_.off,children:[r.jsx(u,{bg:o===3||l?"green.100":"white",border:"2px",borderColor:o===3||l?"green.200":"gray.200",children:"Sangat Puas"}),r.jsx(p,{"aria-label":"Add to friends",icon:r.jsx(c,{icon:R}),bg:o===3||l?"green.100":"white",border:"2px",borderColor:o===3||l?"green.200":"gray.200"})]})]}),r.jsx(Q,{children:"Berdasarkan pelayanan person terkait"})]}),r.jsxs(b,{display:i<1?"none":"inherit",mb:3,children:[r.jsx(g,{children:"Komentar (Opsional)"}),r.jsx(W,{id:"komentar",value:P,onChange:e=>{v(e.target.value)},placeholder:"Komentar terkait pelayanan"})]}),r.jsx(h,{justifyContent:"flex-end",children:r.jsxs(j,{size:["md","md","lg"],isAttached:!0,variant:"outline",colorScheme:"teal",opacity:i<1?.3:1,isDisabled:n==0||i==0?!0:o<1,children:[r.jsx(u,{as:"button",type:"submit",children:"Kirim"}),r.jsx(p,{as:"button",type:"submit",icon:r.jsx(c,{icon:G})})]})})]})]})};export{hr as default};
